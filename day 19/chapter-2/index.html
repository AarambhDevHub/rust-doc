<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://localhost/main.css">
    <link rel="icon" href="https://www.rust-lang.org/static/images/favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Rust Programming Course! | String Methods and Manipulation </title>
</head>
<body>

<main>
    
    <nav>
            <a href="http:&#x2F;&#x2F;localhost">
                        <img src="https://www.rust-lang.org/static/images/rust-logo-blk.svg" alt="logo"/>
                    </a>
                <!-- -->

            <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="day-1-introduction"
                           />
                    <label class="tree-toggle-label"
                           for="day-1-introduction">Day 1: Introduction</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 1/chapter-1/">What is Rust and why use it?</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 1/chapter-2/">Installing Rust Toolchain (rustup, cargo)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 1/chapter-3/">Setting up Development (VS Code + Hello World)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 1/chapter-4/">Understanding Cargo Project Structure</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-2-basic-syntax-variables"
                           />
                    <label class="tree-toggle-label"
                           for="day-2-basic-syntax-variables">Day 2: Basic Syntax &amp; Variables</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 2/chapter-1/">Variables and Mutability in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-2/">Data Types in Rust: Integers, Floats, Booleans, and Characters</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-3/">Constants vs Variables</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-4/">Understanding Shadowing in Rust: A Practical Guide</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-5/">Basic Input&#x2F;Output</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-3-functions-control-flow"
                           />
                    <label class="tree-toggle-label"
                           for="day-3-functions-control-flow">Day 3: Functions &amp; Control Flow</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 3/chapter-1/">Function Syntax and Parameters in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-2/">Return Values and Expressions vs Statements</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-3/">If&#x2F;Else Statements in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-4/">Match Expressions in Rust: Powerful Pattern Matching</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-5/">Loops in Rust: loop, while, for Explained</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-4-data-types-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-4-data-types-deep-dive">Day 4: Data Types Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 4/chapter-1/">Compound Types (Tuples, Arrays)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-2/">String vs &amp;str in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-3/">Vector Basics in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-4/">Type Annotations and Inference in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-5/">Practical Rust Exercises</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-5-practice-review"
                           />
                    <label class="tree-toggle-label"
                           for="day-5-practice-review">Day 5: Practice &amp; Review</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 5/chapter-1/">Day 5: Practice &amp; Review</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-6-ownership-fundamentals"
                           />
                    <label class="tree-toggle-label"
                           for="day-6-ownership-fundamentals">Day 6: Ownership Fundamentals</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 6/chapter-1/">Ownership in Rust: A Detailed Guide</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-2/">Stack vs Heap in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-3/">Understanding Ownership in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-4/">Move Semantics in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-5/">Copy Trait in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-7-references-borrowing"
                           />
                    <label class="tree-toggle-label"
                           for="day-7-references-borrowing">Day 7: References &amp; Borrowing</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 7/chapter-1/">Immutable References</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-2/">Mutable References</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-3/">Borrowing Rules</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-4/">Reference Lifetime Basics</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-5/">Common Borrowing Errors and Solutions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-8-slices"
                           />
                    <label class="tree-toggle-label"
                           for="day-8-slices">Day 8: Slices</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 8/chapter-1/">String Slices</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-2/">Array Slices</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-3/">Slice Syntax and Usage</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-4/">Practical Applications</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-5/">Memory Safety Benefits</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-9-advanced-ownership"
                           />
                    <label class="tree-toggle-label"
                           for="day-9-advanced-ownership">Day 9: Advanced Ownership</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 9/chapter-1/">Clone Trait</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-2/">Drop Trait</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-3/">RAII Pattern</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-4/">Memory Management Comparison with Other Languages</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-5/">Best Practices (Advanced Ownership)</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-10-ownership-practice"
                           />
                    <label class="tree-toggle-label"
                           for="day-10-ownership-practice">Day 10: Ownership Practice</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 10/chapter-1/">Complex Ownership Scenarios</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 10/chapter-2/">Debugging Ownership Errors</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 10/chapter-3/">Code Refactoring Exercises</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 10/chapter-4/">Group Problem-Solving</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-11-structs-basics"
                           />
                    <label class="tree-toggle-label"
                           for="day-11-structs-basics">Day 11: Structs Basics</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 11/chapter-1/">Defining and Instantiating Structs</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-2/">Field Access and Modification</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-3/">Tuple Structs and Unit Structs</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-4/">Struct Update Syntax</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-5/">Ownership of Struct Data</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-12-methods-associated-functions"
                           />
                    <label class="tree-toggle-label"
                           for="day-12-methods-associated-functions">Day 12: Methods &amp; Associated Functions</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 12/chapter-1/">Implementing Methods with impl Blocks</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-2/">&amp;self, &amp;mut self, and self</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-3/">Associated Functions (like Constructors)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-4/">Multiple impl Blocks</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-5/">Method Chaining</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-13-advanced-struct-concepts"
                           />
                    <label class="tree-toggle-label"
                           for="day-13-advanced-struct-concepts">Day 13: Advanced Struct Concepts</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 13/chapter-1/">Struct Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-2/">Debug Trait and Custom Formatting</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-3/">Builder Pattern Implementation</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-4/">Struct Composition</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-5/">Best Practices for Struct Design</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-14-enums-pattern-matching"
                           />
                    <label class="tree-toggle-label"
                           for="day-14-enums-pattern-matching">Day 14: Enums &amp; Pattern Matching</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 14/chapter-1/">Defining Enums</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-2/">Enum Variants with Data</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-3/">Option&lt;T&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-4/">Result&lt;T, E&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-5/">Advanced Match Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-15-practice-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-15-practice-project">Day 15: Practice Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 15/chapter-1/">Building a Simple CLI Calculator in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-16-vectors"
                           />
                    <label class="tree-toggle-label"
                           for="day-16-vectors">Day 16: Vectors</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 16/chapter-1/">Creating and Updating Vectors</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-2/">Vector Methods: push, pop, iter</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-3/">Accessing Vector Elements Safely</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-4/">Vector of Different Types with Enums</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-5/">Performance Considerations</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-17-hashmaps-other-collections"
                           />
                    <label class="tree-toggle-label"
                           for="day-17-hashmaps-other-collections">Day 17: HashMaps &amp; Other Collections</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 17/chapter-1/">HashMap Creation and Manipulation</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-2/">Keys and Values Ownership</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-3/">HashMap Methods and Iteration</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-4/">When to Use Different Collections</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-5/">BTreeMap Introduction</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-18-error-handling"
                           />
                    <label class="tree-toggle-label"
                           for="day-18-error-handling">Day 18: Error Handling</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 18/chapter-1/">Panic! and When to Use It</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 18/chapter-2/">Result&lt;T, E&gt; in Depth</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 18/chapter-3/">The ? Operator in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 18/chapter-4/">Creating Custom Error Types in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 18/chapter-5/">Error Propagation Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-19-strings-deep-dive"
                           checked/>
                    <label class="tree-toggle-label"
                           for="day-19-strings-deep-dive">Day 19: Strings Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 19/chapter-1/">String vs &amp;str Revisited</a>
                            </li>

                            <li class="active">
                                <a href="http://localhost/day 19/chapter-2/">String Methods and Manipulation</a>
                            </li>

                            
                                    
                                    
                                        <ul id="toc">
                                            <li><a href="
                                                        http://localhost/day 19/chapter-2/#string-methods-and-manipulation-in-rust-comprehensive-documentation-for-beginners">String Methods and Manipulation in Rust: Comprehensive Documentation for Beginners</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#the-professional-restaurant-text-processing-kitchen-analogy-fried-egg">The Professional Restaurant Text Processing Kitchen Analogy 🍳</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#string-creation-and-building-methods">String Creation and Building Methods</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#string-modification-and-transformation-methods">String Modification and Transformation Methods</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#string-querying-and-analysis-methods">String Querying and Analysis Methods</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#string-splitting-and-parsing-methods">String Splitting and Parsing Methods</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#string-joining-and-collection-methods">String Joining and Collection Methods</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#best-practices-and-professional-guidelines">Best Practices and Professional Guidelines</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 19/chapter-2/#summary-and-key-takeaways">Summary and Key Takeaways</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            </ul>
                                    <li >
                                <a href="http://localhost/day 19/chapter-5/">Performance Considerations</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 19/chapter-3/">UTF-8 and Character Encoding</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 19/chapter-4/">String Concatenation Techniques</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-20-mini-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-20-mini-project">Day 20: Mini Project</label>

                    <ul class="subtree">
                        </ul>
                <input class="tree-toggle" type="checkbox" id="day-21-generic-functions-structs"
                           />
                    <label class="tree-toggle-label"
                           for="day-21-generic-functions-structs">Day 21: Generic Functions &amp; Structs</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 21/chapter-1/">Generic Function Syntax</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-2/">Generic Structs and Enums</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-3/">Type Parameters and Constraints</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-4/">Monomorphization Concept</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-5/">Generic Collections</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>

        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <div id="wrap">
            
        <h1 id="string-methods-and-manipulation-in-rust-comprehensive-documentation-for-beginners">String Methods and Manipulation in Rust: Comprehensive Documentation for Beginners</h1>
<p>Understanding String methods and manipulation in Rust is like learning to <strong>manage a complete restaurant text processing kitchen</strong> - you need specialized tools and techniques for every type of text transformation, from simple additions and modifications to complex parsing and formatting operations. Just as a professional restaurant kitchen has different stations for prep work (chopping, mixing, seasoning), cooking techniques (grilling, sautéing, baking), and finishing touches (plating, garnishing), Rust's String methods provide specialized functions for every aspect of text manipulation, from basic building and modification to advanced searching, splitting, and transformation.</p>
<h2 id="the-professional-restaurant-text-processing-kitchen-analogy-fried-egg">The Professional Restaurant Text Processing Kitchen Analogy 🍳</h2>
<h3 id="imagine-you-re-operating-a-complete-text-processing-kitchen-for-your-restaurant-chain">Imagine You're Operating a Complete Text Processing Kitchen for Your Restaurant Chain</h3>
<p><strong>The Problem with Limited Text Tools:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ Limited approach - like having only a basic knife in the kitchen
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">primitive_text_handling</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> menu = String::new();
</span><span>    </span><span style="color:#a7adba;">// Can only do basic additions...
</span><span>    menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Salad</span><span>&quot;);
</span><span>    menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>    menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Soup</span><span>&quot;);
</span><span>    </span><span style="color:#a7adba;">// No sophisticated processing capabilities!
</span><span>}
</span></code></pre>
<p><strong>The Power of Complete String Methods - Professional Text Kitchen:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ✅ Professional text processing - like having a fully equipped kitchen
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">professional_text_kitchen</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> menu = String::from(&quot;</span><span style="color:#a3be8c;">  quinoa BOWL, Caesar Salad, lentil soup  </span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Prep station: Clean and prepare
</span><span>    menu = menu.</span><span style="color:#96b5b4;">trim</span><span>().</span><span style="color:#96b5b4;">to_string</span><span>();                    </span><span style="color:#a7adba;">// Remove whitespace
</span><span>    menu = menu.</span><span style="color:#96b5b4;">to_title_case</span><span>();                       </span><span style="color:#a7adba;">// Proper capitalization
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Processing station: Transform and manipulate
</span><span>    </span><span style="color:#b48ead;">let</span><span> items: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = menu.</span><span style="color:#96b5b4;">split</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;).</span><span style="color:#96b5b4;">collect</span><span>(); </span><span style="color:#a7adba;">// Split into components
</span><span>    </span><span style="color:#b48ead;">let</span><span> formatted: String = items.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;"> | </span><span>&quot;);         </span><span style="color:#a7adba;">// Rejoin with new separator
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Quality control: Validate and verify
</span><span>    </span><span style="color:#b48ead;">if</span><span> menu.</span><span style="color:#96b5b4;">contains</span><span>(&quot;</span><span style="color:#a3be8c;">Bowl</span><span>&quot;) &amp;&amp; menu.</span><span style="color:#96b5b4;">len</span><span>() &gt; </span><span style="color:#d08770;">10 </span><span>{     </span><span style="color:#a7adba;">// Check content and length
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">Menu processed: </span><span style="color:#d08770;">{}</span><span>&quot;, formatted);
</span><span>    }
</span><span>}
</span></code></pre>
<p><strong>Why Complete String Methods Are Essential:</strong></p>
<ul>
<li>🔪 <strong>Specialized tools</strong> - Each method designed for specific text operations</li>
<li>⚡ <strong>Efficiency</strong> - Optimized implementations for common operations</li>
<li>🎯 <strong>Precision</strong> - Exact control over text transformations</li>
<li>🛡️ <strong>Safety</strong> - UTF-8 aware operations that handle Unicode correctly</li>
<li>🔄 <strong>Composability</strong> - Methods chain together for complex operations</li>
</ul>
<h2 id="string-creation-and-building-methods">String Creation and Building Methods</h2>
<h3 id="master-chef-s-recipe-creation-station">Master Chef's Recipe Creation Station</h3>
<p><strong>Creating and building strings from scratch like preparing base ingredients:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_string_creation_methods</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">👨‍🍳 String Creation Methods - Master Chef&#39;s Recipe Station</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// String creation is like different ways to start cooking
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🥘 String Creation Techniques:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 1: String::new() - Empty pan ready for cooking
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> empty_recipe = String::new();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Empty recipe created: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, empty_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 2: String::from() - Starting with basic ingredients
</span><span>    </span><span style="color:#b48ead;">let</span><span> base_recipe = String::from(&quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Base recipe: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, base_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 3: String::with_capacity() - Pre-sized cooking pot
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> large_recipe = String::with_capacity(</span><span style="color:#d08770;">100</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Large recipe capacity: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> bytes</span><span>&quot;, large_recipe.</span><span style="color:#96b5b4;">capacity</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 4: .to_string() - Converting ingredients to recipe
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_list = &quot;</span><span style="color:#a3be8c;">tomatoes, quinoa, avocado</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_copy = ingredient_list.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recipe from ingredients: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe_copy);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 5: format!() - Complex recipe assembly
</span><span>    </span><span style="color:#b48ead;">let</span><span> dish_name = &quot;</span><span style="color:#a3be8c;">Buddha Bowl</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> main_ingredient = &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> formatted_recipe = format!(&quot;</span><span style="color:#a3be8c;">Today&#39;s special: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> with organic </span><span style="color:#d08770;">{}</span><span>&quot;, dish_name, main_ingredient);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Formatted recipe: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, formatted_recipe);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔨 String Building Methods:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Building method 1: push() - Adding single ingredient
</span><span>    empty_recipe.</span><span style="color:#96b5b4;">push</span><span>(&#39;</span><span style="color:#a3be8c;">🥗</span><span>&#39;);  </span><span style="color:#a7adba;">// Add emoji character
</span><span>    empty_recipe.</span><span style="color:#96b5b4;">push</span><span>(&#39; &#39;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After push(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, empty_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Building method 2: push_str() - Adding ingredient groups
</span><span>    empty_recipe.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Fresh Garden Salad</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After push_str(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, empty_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Building method 3: insert() - Adding ingredient at specific position
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> recipe = String::from(&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;);
</span><span>    recipe.</span><span style="color:#96b5b4;">insert</span><span>(</span><span style="color:#d08770;">6</span><span>, &#39; &#39;);  </span><span style="color:#a7adba;">// Insert space
</span><span>    recipe.</span><span style="color:#96b5b4;">insert</span><span>(</span><span style="color:#d08770;">7</span><span>, &#39;</span><span style="color:#a3be8c;">🍲</span><span>&#39;); </span><span style="color:#a7adba;">// Insert bowl emoji
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After insert(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Building method 4: insert_str() - Adding ingredient phrase at position
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> menu_item = String::from(&quot;</span><span style="color:#a3be8c;">Salad</span><span>&quot;);
</span><span>    menu_item.</span><span style="color:#96b5b4;">insert_str</span><span>(</span><span style="color:#d08770;">0</span><span>, &quot;</span><span style="color:#a3be8c;">Caesar </span><span>&quot;);  </span><span style="color:#a7adba;">// Insert at beginning
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After insert_str(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, menu_item);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Building method 5: extend_from_within() - Duplicating recipe parts
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> repetitive_recipe = String::from(&quot;</span><span style="color:#a3be8c;">yum-</span><span>&quot;);
</span><span>    repetitive_recipe.</span><span style="color:#96b5b4;">extend_from_within</span><span>(</span><span style="color:#d08770;">0</span><span>..</span><span style="color:#d08770;">4</span><span>);  </span><span style="color:#a7adba;">// Copy &quot;yum-&quot; and add it
</span><span>    repetitive_recipe.</span><span style="color:#96b5b4;">extend_from_within</span><span>(</span><span style="color:#d08770;">0</span><span>..</span><span style="color:#d08770;">4</span><span>);  </span><span style="color:#a7adba;">// Do it again
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After extend_from_within(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, repetitive_recipe);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎭 Advanced Creation Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 1: Builder-style recipe creation
</span><span>    </span><span style="color:#b48ead;">let</span><span> complex_recipe = String::with_capacity(</span><span style="color:#d08770;">200</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">tap</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">🍽️ Gourmet </span><span>&quot;))
</span><span>        .</span><span style="color:#96b5b4;">tap</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;))
</span><span>        .</span><span style="color:#96b5b4;">tap</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;"> with seasonal vegetables</span><span>&quot;));
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Helper trait for method chaining (not in std, but shows concept)
</span><span>    </span><span style="color:#b48ead;">trait </span><span>StringTap {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">tap</span><span>&lt;F&gt;(</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: F) -&gt; </span><span style="color:#b48ead;">Self where</span><span> F: FnOnce(&amp;</span><span style="color:#b48ead;">mut Self</span><span>);
</span><span>    }
</span><span>
</span><span>    impl StringTap </span><span style="color:#b48ead;">for</span><span> String {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">tap</span><span>&lt;F&gt;(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: F) -&gt; </span><span style="color:#b48ead;">Self where</span><span> F: FnOnce(&amp;</span><span style="color:#b48ead;">mut Self</span><span>) {
</span><span>            </span><span style="color:#96b5b4;">f</span><span>(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>);
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 2: Conditional recipe building
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">build_seasonal_menu</span><span>(</span><span style="color:#bf616a;">season</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; String {
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> menu = String::from(&quot;</span><span style="color:#a3be8c;">Seasonal Menu: </span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match</span><span> season {
</span><span>            &quot;</span><span style="color:#a3be8c;">spring</span><span>&quot; =&gt; {
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Fresh Asparagus Salad, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Pea Soup, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Strawberry Dessert</span><span>&quot;);
</span><span>            },
</span><span>            &quot;</span><span style="color:#a3be8c;">summer</span><span>&quot; =&gt; {
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Gazpacho, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Grilled Vegetables, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Berry Parfait</span><span>&quot;);
</span><span>            },
</span><span>            &quot;</span><span style="color:#a3be8c;">fall</span><span>&quot; =&gt; {
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Pumpkin Soup, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Roasted Root Vegetables, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Apple Crisp</span><span>&quot;);
</span><span>            },
</span><span>            &quot;</span><span style="color:#a3be8c;">winter</span><span>&quot; =&gt; {
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Hearty Lentil Stew, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Winter Squash Risotto, </span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Hot Chocolate</span><span>&quot;);
</span><span>            },
</span><span>            _ =&gt; {
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Year-round favorites</span><span>&quot;);
</span><span>            }
</span><span>        }
</span><span>
</span><span>        menu
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> spring_menu = </span><span style="color:#96b5b4;">build_seasonal_menu</span><span>(&quot;</span><span style="color:#a3be8c;">spring</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Spring menu: </span><span style="color:#d08770;">{}</span><span>&quot;, spring_menu);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 3: Performance-conscious building
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">build_large_menu_efficiently</span><span>(</span><span style="color:#bf616a;">items</span><span>: &amp;[&amp;</span><span style="color:#b48ead;">str</span><span>]) -&gt; String {
</span><span>        </span><span style="color:#a7adba;">// Calculate total capacity needed
</span><span>        </span><span style="color:#b48ead;">let</span><span> total_length: </span><span style="color:#b48ead;">usize </span><span>= items.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">len</span><span>() + </span><span style="color:#d08770;">2</span><span>).</span><span style="color:#96b5b4;">sum</span><span>(); </span><span style="color:#a7adba;">// +2 for &quot;, &quot;
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> menu = String::with_capacity(total_length);
</span><span>
</span><span>        </span><span style="color:#b48ead;">for </span><span>(i, item) in items.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            menu.</span><span style="color:#96b5b4;">push_str</span><span>(item);
</span><span>            </span><span style="color:#b48ead;">if</span><span> i &lt; items.</span><span style="color:#96b5b4;">len</span><span>() - </span><span style="color:#d08770;">1 </span><span>{
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>            }
</span><span>        }
</span><span>
</span><span>        menu
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> menu_items = [&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Caesar Salad</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Lentil Soup</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;];
</span><span>    </span><span style="color:#b48ead;">let</span><span> efficient_menu = </span><span style="color:#96b5b4;">build_large_menu_efficiently</span><span>(&amp;menu_items);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Efficient menu: </span><span style="color:#d08770;">{}</span><span>&quot;, efficient_menu);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Creation Method Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🥘 String::new() → Start with empty recipe</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📝 String::from() → Convert existing ingredients</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🏺 String::with_capacity() → Pre-size for known content</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎨 format!() → Complex recipe assembly</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔨 push/push_str → Add ingredients incrementally</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📍 insert/insert_str → Add ingredients at specific positions</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_string_creation_methods</span><span>();
</span><span>}
</span></code></pre>
<h2 id="string-modification-and-transformation-methods">String Modification and Transformation Methods</h2>
<h3 id="the-restaurant-text-transformation-station">The Restaurant Text Transformation Station</h3>
<p><strong>Modifying and transforming strings like a professional food preparation station:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_string_modification_methods</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">✂️ String Modification Methods - Text Transformation Station</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;70}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// String modification is like food preparation techniques
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🔪 Basic Modification Methods:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 1: Truncation - Cutting recipes to size
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> long_recipe = String::from(&quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl with roasted vegetables and tahini dressing</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Original recipe: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, long_recipe);
</span><span>
</span><span>    long_recipe.</span><span style="color:#96b5b4;">truncate</span><span>(</span><span style="color:#d08770;">17</span><span>);  </span><span style="color:#a7adba;">// Keep only first 17 characters
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After truncate(17): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, long_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 2: Pop - Removing last ingredient
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> ingredients = String::from(&quot;</span><span style="color:#a3be8c;">tomatoes, quinoa, avocado</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Some(last_char) = ingredients.</span><span style="color:#96b5b4;">pop</span><span>() {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Popped character: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;, remaining: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, last_char, ingredients);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 3: Remove - Taking out specific ingredient by position
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> dish_name = String::from(&quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> removed_char = dish_name.</span><span style="color:#96b5b4;">remove</span><span>(</span><span style="color:#d08770;">6</span><span>);  </span><span style="color:#a7adba;">// Remove the space
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Removed &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;, result: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, removed_char, dish_name);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 4: Clear - Starting fresh
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> recipe_draft = String::from(&quot;</span><span style="color:#a3be8c;">Failed experiment</span><span>&quot;);
</span><span>    recipe_draft.</span><span style="color:#96b5b4;">clear</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After clear(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; (length: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;, recipe_draft, recipe_draft.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 5: Retain - Keeping only specific ingredients
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> messy_ingredients = String::from(&quot;</span><span style="color:#a3be8c;">t_o_m_a_t_o_e_s</span><span>&quot;);
</span><span>    messy_ingredients.</span><span style="color:#96b5b4;">retain</span><span>(|</span><span style="color:#bf616a;">c</span><span>| c != &#39;</span><span style="color:#a3be8c;">_</span><span>&#39;);  </span><span style="color:#a7adba;">// Remove underscores
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After retain (no underscores): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_ingredients);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎨 Case Transformation Methods:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> mixed_case_menu = &quot;</span><span style="color:#a3be8c;">quinoa BOWL with Fresh vegetables</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Case transformations
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Original: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, mixed_case_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   to_lowercase(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, mixed_case_menu.</span><span style="color:#96b5b4;">to_lowercase</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   to_uppercase(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, mixed_case_menu.</span><span style="color:#96b5b4;">to_uppercase</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Advanced case transformations (would need external crate for full implementation)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">to_title_case</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; String {
</span><span>        s.</span><span style="color:#96b5b4;">split_whitespace</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">word</span><span>| {
</span><span>                </span><span style="color:#b48ead;">let mut</span><span> chars = word.</span><span style="color:#96b5b4;">chars</span><span>();
</span><span>                </span><span style="color:#b48ead;">match</span><span> chars.</span><span style="color:#96b5b4;">next</span><span>() {
</span><span>                    None =&gt; String::new(),
</span><span>                    Some(first) =&gt; first.</span><span style="color:#96b5b4;">to_uppercase</span><span>().collect::&lt;String&gt;() + &amp;chars.</span><span style="color:#96b5b4;">as_str</span><span>().</span><span style="color:#96b5b4;">to_lowercase</span><span>(),
</span><span>                }
</span><span>            })
</span><span>            .collect::&lt;Vec&lt;String&gt;&gt;()
</span><span>            .</span><span style="color:#96b5b4;">join</span><span>(&quot; &quot;)
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   to_title_case(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, </span><span style="color:#96b5b4;">to_title_case</span><span>(mixed_case_menu));
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">✨ Whitespace and Cleaning Methods:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> messy_recipe = &quot;  </span><span style="color:#96b5b4;">\n\t</span><span style="color:#a3be8c;">  Quinoa Bowl Recipe  </span><span style="color:#96b5b4;">\t\n  </span><span>&quot;;
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Original (with whitespace): &#39;</span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_recipe);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   trim(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_recipe.</span><span style="color:#96b5b4;">trim</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   trim_start(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_recipe.</span><span style="color:#96b5b4;">trim_start</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   trim_end(): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_recipe.</span><span style="color:#96b5b4;">trim_end</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Custom trimming
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_with_punctuation = &quot;</span><span style="color:#a3be8c;">...Quinoa Bowl...</span><span>&quot;;
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   trim_matches(&#39;.&#39;): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe_with_punctuation.</span><span style="color:#96b5b4;">trim_matches</span><span>(&#39;</span><span style="color:#a3be8c;">.</span><span>&#39;));
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> bracketed_recipe = &quot;</span><span style="color:#a3be8c;">[[Quinoa Bowl]]</span><span>&quot;;
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   trim_matches([&#39;[&#39;, &#39;]&#39;]): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;,
</span><span>             bracketed_recipe.</span><span style="color:#96b5b4;">trim_matches</span><span>([&#39;</span><span style="color:#a3be8c;">[</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">]</span><span>&#39;]));
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔄 Replacement and Substitution Methods:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> original_menu = &quot;</span><span style="color:#a3be8c;">chicken bowl, chicken salad, chicken soup</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Replace all occurrences
</span><span>    </span><span style="color:#b48ead;">let</span><span> vegetarian_menu = original_menu.</span><span style="color:#96b5b4;">replace</span><span>(&quot;</span><span style="color:#a3be8c;">chicken</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   replace(&#39;chicken&#39;, &#39;quinoa&#39;): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, vegetarian_menu);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Replace only first N occurrences
</span><span>    </span><span style="color:#b48ead;">let</span><span> partially_updated = original_menu.</span><span style="color:#96b5b4;">replacen</span><span>(&quot;</span><span style="color:#a3be8c;">chicken</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;, </span><span style="color:#d08770;">2</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   replacen(&#39;chicken&#39;, &#39;tofu&#39;, 2): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, partially_updated);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Advanced replacement with closures (using replace with more complex logic)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">smart_replace</span><span>(</span><span style="color:#bf616a;">text</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">old</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">new_fn</span><span>: impl Fn(&amp;</span><span style="color:#bf616a;">str</span><span>) -&gt; String) -&gt; String {
</span><span>        text.</span><span style="color:#96b5b4;">split</span><span>(old)
</span><span>            .</span><span style="color:#96b5b4;">enumerate</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">i</span><span>, </span><span style="color:#bf616a;">part</span><span>)| {
</span><span>                </span><span style="color:#b48ead;">if</span><span> i == </span><span style="color:#d08770;">0 </span><span>{
</span><span>                    part.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                    </span><span style="color:#96b5b4;">new_fn</span><span>(old) + part
</span><span>                }
</span><span>            })
</span><span>            .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> smart_menu = </span><span style="color:#96b5b4;">smart_replace</span><span>(&amp;original_menu, &quot;</span><span style="color:#a3be8c;">chicken</span><span>&quot;, |_| {
</span><span>        </span><span style="color:#b48ead;">static mut </span><span style="color:#d08770;">COUNTER</span><span>: </span><span style="color:#b48ead;">usize </span><span>= </span><span style="color:#d08770;">0</span><span>;
</span><span>        </span><span style="color:#b48ead;">unsafe </span><span>{
</span><span>            </span><span style="color:#d08770;">COUNTER </span><span>+= </span><span style="color:#d08770;">1</span><span>;
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#d08770;">COUNTER </span><span>{
</span><span>                </span><span style="color:#d08770;">1 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">2 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                _ =&gt; &quot;</span><span style="color:#a3be8c;">tempeh</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            }
</span><span>        }
</span><span>    });
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   smart_replace (different each time): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, smart_menu);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📝 In-Place Range Modification:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// replace_range - Sophisticated ingredient substitution
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> complex_recipe = String::from(&quot;</span><span style="color:#a3be8c;">Quinoa bowl with chicken and vegetables</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> chicken_start = complex_recipe.</span><span style="color:#96b5b4;">find</span><span>(&quot;</span><span style="color:#a3be8c;">chicken</span><span>&quot;).</span><span style="color:#96b5b4;">unwrap</span><span>();
</span><span>    </span><span style="color:#b48ead;">let</span><span> chicken_end = chicken_start + &quot;</span><span style="color:#a3be8c;">chicken</span><span>&quot;.</span><span style="color:#96b5b4;">len</span><span>();
</span><span>
</span><span>    complex_recipe.</span><span style="color:#96b5b4;">replace_range</span><span>(chicken_start..chicken_end, &quot;</span><span style="color:#a3be8c;">marinated tofu</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After replace_range: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, complex_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// drain - Extracting ingredients while modifying
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> recipe_with_extras = String::from(&quot;</span><span style="color:#a3be8c;">Quinoa [ORGANIC] bowl with [LOCAL] vegetables</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Remove bracketed annotations
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> pos = </span><span style="color:#d08770;">0</span><span>;
</span><span>    </span><span style="color:#b48ead;">while let </span><span>Some(start) = recipe_with_extras[pos..].</span><span style="color:#96b5b4;">find</span><span>(&#39;</span><span style="color:#a3be8c;">[</span><span>&#39;) {
</span><span>        </span><span style="color:#b48ead;">let</span><span> actual_start = pos + start;
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some(end) = recipe_with_extras[actual_start..].</span><span style="color:#96b5b4;">find</span><span>(&#39;</span><span style="color:#a3be8c;">]</span><span>&#39;) {
</span><span>            </span><span style="color:#b48ead;">let</span><span> actual_end = actual_start + end + </span><span style="color:#d08770;">1</span><span>;
</span><span>            recipe_with_extras.</span><span style="color:#96b5b4;">drain</span><span>(actual_start..actual_end);
</span><span>            pos = actual_start;
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            </span><span style="color:#b48ead;">break</span><span>;
</span><span>        }
</span><span>    }
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After removing brackets: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe_with_extras);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🏭 Batch Modification Operations:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuProcessor {
</span><span>        </span><span style="color:#bf616a;">substitutions</span><span>: HashMap&lt;String, String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>MenuProcessor {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> substitutions = HashMap::new();
</span><span>            substitutions.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">chicken</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            substitutions.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">beef</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            substitutions.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">pork</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">mushrooms</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>
</span><span>            MenuProcessor { substitutions }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_menu</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">menu</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; String {
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> processed = menu.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Apply all substitutions
</span><span>            </span><span style="color:#b48ead;">for </span><span>(old, new) in &amp;</span><span style="color:#bf616a;">self</span><span>.substitutions {
</span><span>                processed = processed.</span><span style="color:#96b5b4;">replace</span><span>(old, new);
</span><span>            }
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Clean up formatting
</span><span>            processed = processed
</span><span>                .</span><span style="color:#96b5b4;">split_whitespace</span><span>()
</span><span>                .collect::&lt;Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;&gt;()
</span><span>                .</span><span style="color:#96b5b4;">join</span><span>(&quot; &quot;);  </span><span style="color:#a7adba;">// Normalize whitespace
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Apply title case
</span><span>            </span><span style="color:#96b5b4;">to_title_case</span><span>(&amp;processed)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> processor = MenuProcessor::new();
</span><span>    </span><span style="color:#b48ead;">let</span><span> original_menu = &quot;</span><span style="color:#a3be8c;">chicken stir fry, beef tacos, pork chops, vegetable soup</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> processed_menu = processor.</span><span style="color:#96b5b4;">process_menu</span><span>(original_menu);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Original menu: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, original_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Processed menu: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, processed_menu);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Modification Method Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✂️ truncate() → Cut to specific length</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🏷️ to_lowercase/uppercase() → Change case</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🧹 trim() → Remove whitespace</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 replace() → Substitute text</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📝 replace_range() → Replace specific sections</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 retain() → Keep only characters matching condition</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">💡 Professional Tips:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 Use with_capacity() before multiple modifications</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ⚡ Consider replace() vs multiple operations for performance</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🛡️ Always check UTF-8 boundaries when working with indices</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 Chain methods for complex transformations</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_string_modification_methods</span><span>();
</span><span>}
</span></code></pre>
<h2 id="string-querying-and-analysis-methods">String Querying and Analysis Methods</h2>
<h3 id="the-restaurant-quality-control-and-analysis-station">The Restaurant Quality Control and Analysis Station</h3>
<p><strong>Examining and analyzing strings like a quality control inspector:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_string_querying_methods</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🔍 String Querying Methods - Quality Control &amp; Analysis Station</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;70}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// String querying is like quality control inspection in a restaurant
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">📏 Basic Properties and Measurements:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> sample_menu = &quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl 🥗</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> empty_recipe = String::new();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Basic measurements
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Menu item: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, sample_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Length in bytes: </span><span style="color:#d08770;">{}</span><span>&quot;, sample_menu.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Character count: </span><span style="color:#d08770;">{}</span><span>&quot;, sample_menu.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">count</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Is empty: </span><span style="color:#d08770;">{}</span><span>&quot;, sample_menu.</span><span style="color:#96b5b4;">is_empty</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Empty recipe is empty: </span><span style="color:#d08770;">{}</span><span>&quot;, empty_recipe.</span><span style="color:#96b5b4;">is_empty</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Capacity information (for owned strings)
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> owned_menu = String::from(sample_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Capacity: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> bytes</span><span>&quot;, owned_menu.</span><span style="color:#96b5b4;">capacity</span><span>());
</span><span>    owned_menu.</span><span style="color:#96b5b4;">reserve</span><span>(</span><span style="color:#d08770;">50</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   After reserve(50): </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> bytes</span><span>&quot;, owned_menu.</span><span style="color:#96b5b4;">capacity</span><span>());
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔍 Character and Content Analysis:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> complex_menu = &quot;</span><span style="color:#a3be8c;">Café Menu: Naïve Quinoa Böwl with Jalapeño 🌶️</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Character iteration and analysis
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Complex menu: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, complex_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Characters with positions:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for </span><span>(i, ch) in complex_menu.</span><span style="color:#96b5b4;">char_indices</span><span>() {
</span><span>        </span><span style="color:#b48ead;">if</span><span> i &lt; </span><span style="color:#d08770;">20 </span><span>{  </span><span style="color:#a7adba;">// Show first 20 for brevity
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     Position </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; (Unicode: U+</span><span style="color:#d08770;">{:04X}</span><span style="color:#a3be8c;">)</span><span>&quot;, i, ch, ch as </span><span style="color:#b48ead;">u32</span><span>);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Byte vs character analysis
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Byte length: </span><span style="color:#d08770;">{}</span><span>&quot;, complex_menu.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Character count: </span><span style="color:#d08770;">{}</span><span>&quot;, complex_menu.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">count</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   First 10 bytes: </span><span style="color:#d08770;">{:?}</span><span>&quot;, &amp;complex_menu.</span><span style="color:#96b5b4;">as_bytes</span><span>()[..</span><span style="color:#d08770;">10</span><span>]);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Character classification
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_list = &quot;</span><span style="color:#a3be8c;">Quinoa123, Kale456, Tofu789!</span><span>&quot;;
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   Ingredient analysis: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, ingredient_list);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> alphabetic_count = ingredient_list.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">c</span><span>| c.</span><span style="color:#96b5b4;">is_alphabetic</span><span>()).</span><span style="color:#96b5b4;">count</span><span>();
</span><span>    </span><span style="color:#b48ead;">let</span><span> numeric_count = ingredient_list.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">c</span><span>| c.</span><span style="color:#96b5b4;">is_numeric</span><span>()).</span><span style="color:#96b5b4;">count</span><span>();
</span><span>    </span><span style="color:#b48ead;">let</span><span> whitespace_count = ingredient_list.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">c</span><span>| c.</span><span style="color:#96b5b4;">is_whitespace</span><span>()).</span><span style="color:#96b5b4;">count</span><span>();
</span><span>    </span><span style="color:#b48ead;">let</span><span> punctuation_count = ingredient_list.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">c</span><span>| c.</span><span style="color:#96b5b4;">is_ascii_punctuation</span><span>()).</span><span style="color:#96b5b4;">count</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Alphabetic characters: </span><span style="color:#d08770;">{}</span><span>&quot;, alphabetic_count);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Numeric characters: </span><span style="color:#d08770;">{}</span><span>&quot;, numeric_count);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Whitespace characters: </span><span style="color:#d08770;">{}</span><span>&quot;, whitespace_count);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Punctuation characters: </span><span style="color:#d08770;">{}</span><span>&quot;, punctuation_count);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Pattern Searching and Detection:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_description = &quot;</span><span style="color:#a3be8c;">This quinoa bowl contains quinoa, vegetables, and quinoa-based dressing</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Basic pattern searching
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recipe: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe_description);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Contains &#39;quinoa&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, recipe_description.</span><span style="color:#96b5b4;">contains</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Starts with &#39;This&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, recipe_description.</span><span style="color:#96b5b4;">starts_with</span><span>(&quot;</span><span style="color:#a3be8c;">This</span><span>&quot;));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Ends with &#39;dressing&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, recipe_description.</span><span style="color:#96b5b4;">ends_with</span><span>(&quot;</span><span style="color:#a3be8c;">dressing</span><span>&quot;));
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Position finding
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Some(pos) = recipe_description.</span><span style="color:#96b5b4;">find</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   First &#39;quinoa&#39; at position: </span><span style="color:#d08770;">{}</span><span>&quot;, pos);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Some(pos) = recipe_description.</span><span style="color:#96b5b4;">rfind</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Last &#39;quinoa&#39; at position: </span><span style="color:#d08770;">{}</span><span>&quot;, pos);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Find all occurrences
</span><span>    </span><span style="color:#b48ead;">let</span><span> quinoa_positions: Vec&lt;</span><span style="color:#b48ead;">usize</span><span>&gt; = recipe_description
</span><span>        .</span><span style="color:#96b5b4;">match_indices</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">pos</span><span>, _)| pos)
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   All &#39;quinoa&#39; positions: </span><span style="color:#d08770;">{:?}</span><span>&quot;, quinoa_positions);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern matching with closures
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Some(pos) = recipe_description.</span><span style="color:#96b5b4;">find</span><span>(|</span><span style="color:#bf616a;">c</span><span>: </span><span style="color:#b48ead;">char</span><span>| c.</span><span style="color:#96b5b4;">is_uppercase</span><span>()) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   First uppercase letter at position: </span><span style="color:#d08770;">{}</span><span>&quot;, pos);
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📊 Advanced Analysis Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuAnalyzer {
</span><span>        </span><span style="color:#bf616a;">text</span><span>: String,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>MenuAnalyzer {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">text</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            MenuAnalyzer {
</span><span>                text: text.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">analyze</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; MenuAnalysis {
</span><span>            </span><span style="color:#b48ead;">let</span><span> word_count = </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">split_whitespace</span><span>().</span><span style="color:#96b5b4;">count</span><span>();
</span><span>            </span><span style="color:#b48ead;">let</span><span> sentence_count = </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">matches</span><span>(&#39;</span><span style="color:#a3be8c;">.</span><span>&#39;).</span><span style="color:#96b5b4;">count</span><span>() +
</span><span>                                </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">matches</span><span>(&#39;</span><span style="color:#a3be8c;">!</span><span>&#39;).</span><span style="color:#96b5b4;">count</span><span>() +
</span><span>                                </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">matches</span><span>(&#39;</span><span style="color:#a3be8c;">?</span><span>&#39;).</span><span style="color:#96b5b4;">count</span><span>();
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> longest_word = </span><span style="color:#bf616a;">self</span><span>.text
</span><span>                .</span><span style="color:#96b5b4;">split_whitespace</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">max_by_key</span><span>(|</span><span style="color:#bf616a;">word</span><span>| word.</span><span style="color:#96b5b4;">len</span><span>())
</span><span>                .</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;&quot;)
</span><span>                .</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> contains_emoji = </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">any</span><span>(|</span><span style="color:#bf616a;">c</span><span>| {
</span><span>                </span><span style="color:#a7adba;">// Simplified emoji detection
</span><span>                c as </span><span style="color:#b48ead;">u32 </span><span>&gt;= </span><span style="color:#d08770;">0x1F600 </span><span>&amp;&amp; c as </span><span style="color:#b48ead;">u32 </span><span>&lt;= </span><span style="color:#d08770;">0x1F64F </span><span>|| </span><span style="color:#a7adba;">// Emoticons
</span><span>                c as </span><span style="color:#b48ead;">u32 </span><span>&gt;= </span><span style="color:#d08770;">0x1F300 </span><span>&amp;&amp; c as </span><span style="color:#b48ead;">u32 </span><span>&lt;= </span><span style="color:#d08770;">0x1F5FF </span><span>|| </span><span style="color:#a7adba;">// Misc Symbols
</span><span>                c as </span><span style="color:#b48ead;">u32 </span><span>&gt;= </span><span style="color:#d08770;">0x1F680 </span><span>&amp;&amp; c as </span><span style="color:#b48ead;">u32 </span><span>&lt;= </span><span style="color:#d08770;">0x1F6FF    </span><span style="color:#a7adba;">// Transport
</span><span>            });
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> dietary_keywords = [&quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">gluten-free</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">organic</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">local</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">fresh</span><span>&quot;];
</span><span>            </span><span style="color:#b48ead;">let</span><span> dietary_mentions: Vec&lt;String&gt; = dietary_keywords
</span><span>                .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">filter</span><span>(|&amp;&amp;</span><span style="color:#bf616a;">keyword</span><span>| </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">to_lowercase</span><span>().</span><span style="color:#96b5b4;">contains</span><span>(keyword))
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|&amp;</span><span style="color:#bf616a;">keyword</span><span>| keyword.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>            MenuAnalysis {
</span><span>                word_count,
</span><span>                sentence_count,
</span><span>                longest_word,
</span><span>                contains_emoji,
</span><span>                dietary_mentions,
</span><span>                readability_score: </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">calculate_readability</span><span>(),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_readability</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">f64 </span><span>{
</span><span>            </span><span style="color:#b48ead;">let</span><span> words = </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">split_whitespace</span><span>().</span><span style="color:#96b5b4;">count</span><span>() as </span><span style="color:#b48ead;">f64</span><span>;
</span><span>            </span><span style="color:#b48ead;">let</span><span> sentences = </span><span style="color:#bf616a;">self</span><span>.text.</span><span style="color:#96b5b4;">matches</span><span>(&#39;</span><span style="color:#a3be8c;">.</span><span>&#39;).</span><span style="color:#96b5b4;">count</span><span>().</span><span style="color:#96b5b4;">max</span><span>(</span><span style="color:#d08770;">1</span><span>) as </span><span style="color:#b48ead;">f64</span><span>;
</span><span>            </span><span style="color:#b48ead;">let</span><span> avg_word_length: </span><span style="color:#b48ead;">f64 </span><span>= </span><span style="color:#bf616a;">self</span><span>.text
</span><span>                .</span><span style="color:#96b5b4;">split_whitespace</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">word</span><span>| word.</span><span style="color:#96b5b4;">len</span><span>())
</span><span>                .sum::&lt;</span><span style="color:#b48ead;">usize</span><span>&gt;() as </span><span style="color:#b48ead;">f64 </span><span>/ words;
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Simplified readability score
</span><span>            </span><span style="color:#d08770;">100.0 </span><span>- (avg_word_length * </span><span style="color:#d08770;">10.0</span><span>) - (words / sentences * </span><span style="color:#d08770;">5.0</span><span>)
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">extract_keywords</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">min_length</span><span>: </span><span style="color:#b48ead;">usize</span><span>) -&gt; Vec&lt;String&gt; {
</span><span>            </span><span style="color:#b48ead;">let</span><span> stop_words = [&quot;</span><span style="color:#a3be8c;">the</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">and</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">or</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">but</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">in</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">on</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">at</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">to</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">for</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">of</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">with</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">by</span><span>&quot;];
</span><span>
</span><span>            </span><span style="color:#bf616a;">self</span><span>.text
</span><span>                .</span><span style="color:#96b5b4;">split_whitespace</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">word</span><span>| word.</span><span style="color:#96b5b4;">trim_matches</span><span>(|</span><span style="color:#bf616a;">c</span><span>: </span><span style="color:#b48ead;">char</span><span>| !c.</span><span style="color:#96b5b4;">is_alphabetic</span><span>()).</span><span style="color:#96b5b4;">to_lowercase</span><span>())
</span><span>                .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">word</span><span>| word.</span><span style="color:#96b5b4;">len</span><span>() &gt;= min_length &amp;&amp; !stop_words.</span><span style="color:#96b5b4;">contains</span><span>(&amp;word.</span><span style="color:#96b5b4;">as_str</span><span>()))
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuAnalysis {
</span><span>        </span><span style="color:#bf616a;">word_count</span><span>: </span><span style="color:#b48ead;">usize</span><span>,
</span><span>        </span><span style="color:#bf616a;">sentence_count</span><span>: </span><span style="color:#b48ead;">usize</span><span>,
</span><span>        </span><span style="color:#bf616a;">longest_word</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">contains_emoji</span><span>: </span><span style="color:#b48ead;">bool</span><span>,
</span><span>        </span><span style="color:#bf616a;">dietary_mentions</span><span>: Vec&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">readability_score</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test the analyzer
</span><span>    </span><span style="color:#b48ead;">let</span><span> menu_text = &quot;</span><span style="color:#a3be8c;">Our fresh, organic quinoa bowl features locally-sourced vegetables 🥗. \
</span><span style="color:#a3be8c;">                     This gluten-free dish combines nutritious quinoa with seasonal ingredients. \
</span><span style="color:#a3be8c;">                     Perfect for vegan diners seeking healthy options!</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> analyzer = MenuAnalyzer::new(menu_text);
</span><span>    </span><span style="color:#b48ead;">let</span><span> analysis = analyzer.</span><span style="color:#96b5b4;">analyze</span><span>();
</span><span>    </span><span style="color:#b48ead;">let</span><span> keywords = analyzer.</span><span style="color:#96b5b4;">extract_keywords</span><span>(</span><span style="color:#d08770;">4</span><span>);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Menu text analysis:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Text: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, menu_text);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Analysis: </span><span style="color:#d08770;">{:#?}</span><span>&quot;, analysis);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Keywords (4+ chars): </span><span style="color:#d08770;">{:?}</span><span>&quot;, keywords);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔬 Unicode and Encoding Analysis:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> international_menu = &quot;</span><span style="color:#a3be8c;">Café René: Crème Brûlée, Naïve Soufflé, Piña Colada 🍹</span><span>&quot;;
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   International menu: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, international_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Byte representation: </span><span style="color:#d08770;">{:?}</span><span>&quot;, international_menu.</span><span style="color:#96b5b4;">as_bytes</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   UTF-8 validation: </span><span style="color:#d08770;">{}</span><span>&quot;, std::str::from_utf8(international_menu.</span><span style="color:#96b5b4;">as_bytes</span><span>()).</span><span style="color:#96b5b4;">is_ok</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Character boundary checking
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Character boundaries:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> i in </span><span style="color:#d08770;">0</span><span>..international_menu.</span><span style="color:#96b5b4;">len</span><span>().</span><span style="color:#96b5b4;">min</span><span>(</span><span style="color:#d08770;">20</span><span>) {
</span><span>        </span><span style="color:#b48ead;">if</span><span> international_menu.</span><span style="color:#96b5b4;">is_char_boundary</span><span>(i) {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     Byte </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is a character boundary</span><span>&quot;, i);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Querying Method Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📏 len() → Byte length (not character count)</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔤 chars().count() → Actual character count</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 contains() → Check for substring presence</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📍 find() → Locate first occurrence</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔍 starts_with/ends_with() → Check boundaries</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📊 char_indices() → Character positions and values</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">💡 Analysis Best Practices:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🌍 Always consider Unicode characters</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📏 Use chars().count() for display length</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 Use byte indices for performance when safe</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔍 Combine methods for complex analysis</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📊 Cache expensive calculations when possible</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_string_querying_methods</span><span>();
</span><span>}
</span></code></pre>
<h2 id="string-splitting-and-parsing-methods">String Splitting and Parsing Methods</h2>
<h3 id="the-restaurant-ingredient-preparation-and-parsing-station">The Restaurant Ingredient Preparation and Parsing Station</h3>
<p><strong>Breaking down and parsing strings like preparing ingredients for cooking:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_string_splitting_methods</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🔪 String Splitting &amp; Parsing - Ingredient Preparation Station</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;70}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// String splitting is like breaking down complex recipes into components
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">✂️ Basic Splitting Operations:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_list = &quot;</span><span style="color:#a3be8c;">tomatoes, quinoa, avocado, spinach, olive oil</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Basic splitting
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Ingredient list: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, ingredient_list);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredients: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = ingredient_list.</span><span style="color:#96b5b4;">split</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Split by &#39;, &#39;: </span><span style="color:#d08770;">{:?}</span><span>&quot;, ingredients);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> by_vowels: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = ingredient_list.</span><span style="color:#96b5b4;">split</span><span>([&#39;</span><span style="color:#a3be8c;">a</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">e</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">i</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">o</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">u</span><span>&#39;]).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Split by vowels: </span><span style="color:#d08770;">{:?}</span><span>&quot;, by_vowels);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Whitespace splitting
</span><span>    </span><span style="color:#b48ead;">let</span><span> messy_recipe = &quot;</span><span style="color:#a3be8c;">quinoa   bowl</span><span style="color:#96b5b4;">\t</span><span style="color:#a3be8c;">with</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">vegetables  and   herbs</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> clean_words: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = messy_recipe.</span><span style="color:#96b5b4;">split_whitespace</span><span>().</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Messy recipe: &#39;</span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_recipe);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Split whitespace: </span><span style="color:#d08770;">{:?}</span><span>&quot;, clean_words);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Splitting with limits
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_steps = &quot;</span><span style="color:#a3be8c;">prep:wash,chop,season|cook:sauté,simmer,plate</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> main_parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = recipe_steps.</span><span style="color:#96b5b4;">splitn</span><span>(</span><span style="color:#d08770;">2</span><span>, &#39;</span><span style="color:#a3be8c;">|</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recipe steps: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe_steps);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Split into 2 parts: </span><span style="color:#d08770;">{:?}</span><span>&quot;, main_parts);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> detailed_prep: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = main_parts[^</span><span style="color:#d08770;">0</span><span>].</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">:</span><span>&#39;).</span><span style="color:#96b5b4;">nth</span><span>(</span><span style="color:#d08770;">1</span><span>).</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;&quot;).</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Prep steps: </span><span style="color:#d08770;">{:?}</span><span>&quot;, detailed_prep);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Advanced Splitting Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Splitting with closures
</span><span>    </span><span style="color:#b48ead;">let</span><span> mixed_ingredients = &quot;</span><span style="color:#a3be8c;">quinoa123spinach456kale789tofu</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = mixed_ingredients
</span><span>        .</span><span style="color:#96b5b4;">split</span><span>(|</span><span style="color:#bf616a;">c</span><span>: </span><span style="color:#b48ead;">char</span><span>| c.</span><span style="color:#96b5b4;">is_numeric</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">s</span><span>| !s.</span><span style="color:#96b5b4;">is_empty</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Mixed ingredients: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, mixed_ingredients);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Split by numbers: </span><span style="color:#d08770;">{:?}</span><span>&quot;, ingredient_parts);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Inclusive splitting (keeps delimiters)
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_with_sections = &quot;</span><span style="color:#a3be8c;">Prep§Cut vegetables§Cook§Sauté ingredients§Serve§Plate and garnish</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> sections_with_headers: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = recipe_with_sections.</span><span style="color:#96b5b4;">split_inclusive</span><span>(&#39;</span><span style="color:#a3be8c;">§</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recipe sections: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, recipe_with_sections);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Split inclusive: </span><span style="color:#d08770;">{:?}</span><span>&quot;, sections_with_headers);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Reverse splitting
</span><span>    </span><span style="color:#b48ead;">let</span><span> file_path_recipe = &quot;</span><span style="color:#a3be8c;">/kitchen/recipes/vegetarian/quinoa-bowl.txt</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> path_parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = file_path_recipe.</span><span style="color:#96b5b4;">rsplit</span><span>(&#39;</span><span style="color:#a3be8c;">/</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recipe path: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, file_path_recipe);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Reverse split by &#39;/&#39;: </span><span style="color:#d08770;">{:?}</span><span>&quot;, path_parts);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📋 Line and Paragraph Processing:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> multi_line_recipe = &quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl Recipe</span><span style="color:#96b5b4;">\n\n</span><span style="color:#a3be8c;">Ingredients:</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">- 1 cup quinoa</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">- 2 cups vegetables</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">- 1/4 cup dressing</span><span style="color:#96b5b4;">\n\n</span><span style="color:#a3be8c;">Instructions:</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1. Cook quinoa</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2. Prepare vegetables</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">3. Assemble bowl</span><span>&quot;;
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Multi-line recipe processing:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Split into lines
</span><span>    </span><span style="color:#b48ead;">let</span><span> lines: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = multi_line_recipe.</span><span style="color:#96b5b4;">lines</span><span>().</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Total lines: </span><span style="color:#d08770;">{}</span><span>&quot;, lines.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Process sections
</span><span>    </span><span style="color:#b48ead;">let</span><span> sections: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = multi_line_recipe.</span><span style="color:#96b5b4;">split</span><span>(&quot;</span><span style="color:#96b5b4;">\n\n</span><span>&quot;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Sections: </span><span style="color:#d08770;">{:?}</span><span>&quot;, sections.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">lines</span><span>().</span><span style="color:#96b5b4;">next</span><span>().</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;&quot;)).collect::&lt;Vec&lt;_&gt;&gt;());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Extract ingredients
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredients_section = sections.</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">find</span><span>(|</span><span style="color:#bf616a;">section</span><span>| section.</span><span style="color:#96b5b4;">starts_with</span><span>(&quot;</span><span style="color:#a3be8c;">Ingredients:</span><span>&quot;))
</span><span>        .</span><span style="color:#96b5b4;">unwrap_or</span><span>(&amp;&quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_items: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = ingredients_section
</span><span>        .</span><span style="color:#96b5b4;">lines</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">skip</span><span>(</span><span style="color:#d08770;">1</span><span>)  </span><span style="color:#a7adba;">// Skip &quot;Ingredients:&quot; header
</span><span>        .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">line</span><span>| line.</span><span style="color:#96b5b4;">starts_with</span><span>(&quot;</span><span style="color:#a3be8c;">- </span><span>&quot;))
</span><span>        .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">line</span><span>| &amp;line[</span><span style="color:#d08770;">2</span><span>..])  </span><span style="color:#a7adba;">// Remove &quot;- &quot; prefix
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Extracted ingredients: </span><span style="color:#d08770;">{:?}</span><span>&quot;, ingredient_items);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🏭 Professional Parsing Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>RecipeParser;
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>RecipeParser {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">parse_structured_recipe</span><span>(</span><span style="color:#bf616a;">recipe_text</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; ParsedRecipe {
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> parsed = ParsedRecipe::default();
</span><span>            </span><span style="color:#b48ead;">let</span><span> sections: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = recipe_text.</span><span style="color:#96b5b4;">split</span><span>(&quot;</span><span style="color:#96b5b4;">\n\n</span><span>&quot;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>            </span><span style="color:#b48ead;">for</span><span> section in sections {
</span><span>                </span><span style="color:#b48ead;">let</span><span> lines: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = section.</span><span style="color:#96b5b4;">lines</span><span>().</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>                </span><span style="color:#b48ead;">if</span><span> lines.</span><span style="color:#96b5b4;">is_empty</span><span>() { </span><span style="color:#b48ead;">continue</span><span>; }
</span><span>
</span><span>                </span><span style="color:#b48ead;">let</span><span> header = lines[^</span><span style="color:#d08770;">0</span><span>].</span><span style="color:#96b5b4;">trim</span><span>();
</span><span>                </span><span style="color:#b48ead;">match</span><span> header {
</span><span>                    h </span><span style="color:#b48ead;">if</span><span> h.</span><span style="color:#96b5b4;">ends_with</span><span>(&quot;</span><span style="color:#a3be8c;">Recipe</span><span>&quot;) =&gt; {
</span><span>                        parsed.title = h.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>                    },
</span><span>                    &quot;</span><span style="color:#a3be8c;">Ingredients:</span><span>&quot; =&gt; {
</span><span>                        parsed.ingredients = lines[</span><span style="color:#d08770;">1</span><span>..]
</span><span>                            .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                            .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">line</span><span>| line.</span><span style="color:#96b5b4;">starts_with</span><span>(&quot;</span><span style="color:#a3be8c;">- </span><span>&quot;))
</span><span>                            .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">line</span><span>| line[</span><span style="color:#d08770;">2</span><span>..].</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>                            .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>                    },
</span><span>                    &quot;</span><span style="color:#a3be8c;">Instructions:</span><span>&quot; =&gt; {
</span><span>                        parsed.instructions = lines[</span><span style="color:#d08770;">1</span><span>..]
</span><span>                            .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                            .</span><span style="color:#96b5b4;">filter_map</span><span>(|</span><span style="color:#bf616a;">line</span><span>| {
</span><span>                                </span><span style="color:#b48ead;">let</span><span> trimmed = line.</span><span style="color:#96b5b4;">trim</span><span>();
</span><span>                                </span><span style="color:#b48ead;">if</span><span> trimmed.</span><span style="color:#96b5b4;">len</span><span>() &gt; </span><span style="color:#d08770;">2 </span><span>&amp;&amp; trimmed.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">nth</span><span>(</span><span style="color:#d08770;">1</span><span>) == Some(&#39;</span><span style="color:#a3be8c;">.</span><span>&#39;) {
</span><span>                                    Some(trimmed[</span><span style="color:#d08770;">3</span><span>..].</span><span style="color:#96b5b4;">to_string</span><span>()) </span><span style="color:#a7adba;">// Remove &quot;1. &quot; prefix
</span><span>                                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                                    None
</span><span>                                }
</span><span>                            })
</span><span>                            .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>                    },
</span><span>                    _ =&gt; {}
</span><span>                }
</span><span>            }
</span><span>
</span><span>            parsed
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">parse_csv_menu</span><span>(</span><span style="color:#bf616a;">csv_text</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Vec&lt;MenuItem&gt; {
</span><span>            csv_text
</span><span>                .</span><span style="color:#96b5b4;">lines</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">skip</span><span>(</span><span style="color:#d08770;">1</span><span>)  </span><span style="color:#a7adba;">// Skip header
</span><span>                .</span><span style="color:#96b5b4;">filter_map</span><span>(|</span><span style="color:#bf616a;">line</span><span>| {
</span><span>                    </span><span style="color:#b48ead;">let</span><span> fields: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = line.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">trim</span><span>()).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>                    </span><span style="color:#b48ead;">if</span><span> fields.</span><span style="color:#96b5b4;">len</span><span>() &gt;= </span><span style="color:#d08770;">3 </span><span>{
</span><span>                        Some(MenuItem {
</span><span>                            name: fields[^</span><span style="color:#d08770;">0</span><span>].</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                            category: fields[^</span><span style="color:#d08770;">1</span><span>].</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                            price: fields[^</span><span style="color:#d08770;">2</span><span>].</span><span style="color:#96b5b4;">parse</span><span>().</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>),
</span><span>                            dietary_info: </span><span style="color:#b48ead;">if</span><span> fields.</span><span style="color:#96b5b4;">len</span><span>() &gt; </span><span style="color:#d08770;">3 </span><span>{
</span><span>                                fields[^</span><span style="color:#d08770;">3</span><span>].</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">;</span><span>&#39;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">trim</span><span>().</span><span style="color:#96b5b4;">to_string</span><span>()).</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>                            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                                Vec::new()
</span><span>                            },
</span><span>                        })
</span><span>                    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                        None
</span><span>                    }
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">extract_measurements</span><span>(</span><span style="color:#bf616a;">recipe_text</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Vec&lt;Measurement&gt; {
</span><span>            </span><span style="color:#b48ead;">let</span><span> measurement_pattern = regex::Regex::new(
</span><span>                </span><span style="color:#b48ead;">r</span><span>&quot;</span><span style="color:#a3be8c;">(\d+(?:\.\d+)?)\s*(cup|cups|tbsp|tsp|lb|lbs|oz|g|kg|ml|l)\s+([a-zA-Z\s]+)</span><span>&quot;
</span><span>            ).</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|_| panic!(&quot;</span><span style="color:#a3be8c;">Invalid regex</span><span>&quot;));
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Simplified measurement extraction without regex
</span><span>            recipe_text
</span><span>                .</span><span style="color:#96b5b4;">split_whitespace</span><span>()
</span><span>                .collect::&lt;Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;&gt;()
</span><span>                .</span><span style="color:#96b5b4;">windows</span><span>(</span><span style="color:#d08770;">3</span><span>)
</span><span>                .</span><span style="color:#96b5b4;">filter_map</span><span>(|</span><span style="color:#bf616a;">window</span><span>| {
</span><span>                    </span><span style="color:#b48ead;">if let </span><span>Ok(amount) = window[^</span><span style="color:#d08770;">0</span><span>].parse::&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;() {
</span><span>                        </span><span style="color:#b48ead;">let</span><span> unit = window[^</span><span style="color:#d08770;">1</span><span>];
</span><span>                        </span><span style="color:#b48ead;">let</span><span> ingredient = window[^</span><span style="color:#d08770;">2</span><span>];
</span><span>                        </span><span style="color:#b48ead;">if </span><span>[&quot;</span><span style="color:#a3be8c;">cup</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">cups</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">tbsp</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">tsp</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">lb</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">lbs</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">oz</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">g</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">kg</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">ml</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">l</span><span>&quot;].</span><span style="color:#96b5b4;">contains</span><span>(&amp;unit) {
</span><span>                            Some(Measurement {
</span><span>                                amount,
</span><span>                                unit: unit.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                                ingredient: ingredient.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                            })
</span><span>                        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                            None
</span><span>                        }
</span><span>                    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                        None
</span><span>                    }
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug, Default)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ParsedRecipe {
</span><span>        </span><span style="color:#bf616a;">title</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">ingredients</span><span>: Vec&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">instructions</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">category</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">dietary_info</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Measurement {
</span><span>        </span><span style="color:#bf616a;">amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">unit</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">ingredient</span><span>: String,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test structured parsing
</span><span>    </span><span style="color:#b48ead;">let</span><span> parsed_recipe = RecipeParser::parse_structured_recipe(&amp;multi_line_recipe);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Parsed recipe: </span><span style="color:#d08770;">{:#?}</span><span>&quot;, parsed_recipe);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test CSV parsing
</span><span>    </span><span style="color:#b48ead;">let</span><span> csv_menu = &quot;</span><span style="color:#a3be8c;">Name,Category,Price,Dietary</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Quinoa Bowl,Main,15.99,Vegan;Gluten-Free</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Caesar Salad,Salad,12.49,Vegetarian</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Lentil Soup,Soup,9.75,Vegan;High-Protein</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> menu_items = RecipeParser::parse_csv_menu(csv_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Parsed CSV menu: </span><span style="color:#d08770;">{:#?}</span><span>&quot;, menu_items);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test measurement extraction
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_with_measurements = &quot;</span><span style="color:#a3be8c;">Add 2 cups quinoa, 1 tbsp olive oil, and 3 cups water to the pot</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> measurements = RecipeParser::extract_measurements(recipe_with_measurements);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Extracted measurements: </span><span style="color:#d08770;">{:#?}</span><span>&quot;, measurements);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔍 Error-Resilient Parsing:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">safe_parse_ingredient_list</span><span>(</span><span style="color:#bf616a;">input</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Vec&lt;String&gt; {
</span><span>        input
</span><span>            .</span><span style="color:#96b5b4;">split</span><span>(&amp;[&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">;</span><span>&#39;, &#39;</span><span style="color:#a3be8c;">|</span><span>&#39;][..])  </span><span style="color:#a7adba;">// Multiple possible delimiters
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">trim</span><span>())
</span><span>            .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">s</span><span>| !s.</span><span style="color:#96b5b4;">is_empty</span><span>())
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>            .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> messy_input = &quot;</span><span style="color:#a3be8c;">tomatoes,  quinoa;;avocado|  spinach,  </span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> clean_ingredients = </span><span style="color:#96b5b4;">safe_parse_ingredient_list</span><span>(messy_input);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Messy input: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, messy_input);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Safely parsed: </span><span style="color:#d08770;">{:?}</span><span>&quot;, clean_ingredients);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Splitting Method Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✂️ split() → Basic delimiter splitting</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📝 split_whitespace() → Clean whitespace splitting</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔢 splitn() → Limit number of splits</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 rsplit() → Split from the end</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📋 lines() → Split by line breaks</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 split_inclusive() → Keep delimiters</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">💡 Parsing Best Practices:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🛡️ Always validate input before parsing</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔍 Use filter() to remove empty results</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📊 Consider multiple delimiter patterns</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 Trim whitespace from parsed components</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 Build error recovery into parsing logic</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_string_splitting_methods</span><span>();
</span><span>}
</span></code></pre>
<h2 id="string-joining-and-collection-methods">String Joining and Collection Methods</h2>
<h3 id="the-restaurant-assembly-and-plating-station">The Restaurant Assembly and Plating Station</h3>
<p><strong>Combining and assembling strings like plating a complete dish:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_string_joining_methods</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🍽️ String Joining &amp; Collection - Assembly &amp; Plating Station</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;70}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// String joining is like assembling ingredients into complete dishes
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">👨‍🍳 Basic Joining Operations:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredients = vec![&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">roasted vegetables</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">avocado</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">tahini dressing</span><span>&quot;];
</span><span>    </span><span style="color:#b48ead;">let</span><span> spices = [&quot;</span><span style="color:#a3be8c;">cumin</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">paprika</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">garlic powder</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">black pepper</span><span>&quot;];
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Basic joining with separators
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Ingredients: </span><span style="color:#d08770;">{:?}</span><span>&quot;, ingredients);
</span><span>    </span><span style="color:#b48ead;">let</span><span> dish_description = ingredients.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;"> with </span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Joined with &#39; with &#39;: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, dish_description);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> spice_blend = spices.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Spice blend: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, spice_blend);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Different separator styles
</span><span>    </span><span style="color:#b48ead;">let</span><span> menu_items = vec![&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Caesar Salad</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Lentil Soup</span><span>&quot;];
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   Menu items: </span><span style="color:#d08770;">{:?}</span><span>&quot;, menu_items);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Bullet list: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, menu_items.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;"> • </span><span>&quot;));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Pipe separated: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, menu_items.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;"> | </span><span>&quot;));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Line breaks: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, menu_items.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;));
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎨 Advanced Joining Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Conditional joining
</span><span>    </span><span style="color:#b48ead;">let</span><span> optional_ingredients = vec![
</span><span>        Some(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;),
</span><span>        Some(&quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;),
</span><span>        None,  </span><span style="color:#a7adba;">// Missing ingredient
</span><span>        Some(&quot;</span><span style="color:#a3be8c;">dressing</span><span>&quot;),
</span><span>        None,  </span><span style="color:#a7adba;">// Another missing ingredient
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> available_ingredients: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = optional_ingredients
</span><span>        .</span><span style="color:#96b5b4;">into_iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">flatten</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Available ingredients: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, available_ingredients.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;));
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Complex joining with formatting
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Ingredient {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">unit</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">optional</span><span>: </span><span style="color:#b48ead;">bool</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_ingredients = vec![
</span><span>        Ingredient { name: &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">1.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">cup</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), optional: </span><span style="color:#d08770;">false </span><span>},
</span><span>        Ingredient { name: &quot;</span><span style="color:#a3be8c;">olive oil</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">2.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">tbsp</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), optional: </span><span style="color:#d08770;">false </span><span>},
</span><span>        Ingredient { name: &quot;</span><span style="color:#a3be8c;">lemon juice</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">1.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">tbsp</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), optional: </span><span style="color:#d08770;">true </span><span>},
</span><span>        Ingredient { name: &quot;</span><span style="color:#a3be8c;">herbs</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">0.25</span><span>, unit: &quot;</span><span style="color:#a3be8c;">cup</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), optional: </span><span style="color:#d08770;">true </span><span>},
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> formatted_ingredients: Vec&lt;String&gt; = recipe_ingredients
</span><span>        .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">ing</span><span>| {
</span><span>            </span><span style="color:#b48ead;">let</span><span> optional_marker = </span><span style="color:#b48ead;">if</span><span> ing.optional { &quot;</span><span style="color:#a3be8c;"> (optional)</span><span>&quot; } </span><span style="color:#b48ead;">else </span><span>{ &quot;&quot; };
</span><span>            format!(&quot;</span><span style="color:#d08770;">{} {} {}{}</span><span>&quot;, ing.quantity, ing.unit, ing.name, optional_marker)
</span><span>        })
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_list = formatted_ingredients.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">- </span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Formatted recipe:</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">- </span><span style="color:#d08770;">{}</span><span>&quot;, recipe_list);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📋 Professional Assembly Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuAssembler;
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>MenuAssembler {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">create_menu_section</span><span>(</span><span style="color:#bf616a;">title</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">items</span><span>: &amp;[MenuItem]) -&gt; String {
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> section = String::with_capacity(</span><span style="color:#d08770;">200</span><span>);
</span><span>
</span><span>            section.</span><span style="color:#96b5b4;">push_str</span><span>(&amp;format!(&quot;</span><span style="color:#a3be8c;">=== </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ===</span><span style="color:#96b5b4;">\n</span><span>&quot;, title.</span><span style="color:#96b5b4;">to_uppercase</span><span>()));
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> item_descriptions: Vec&lt;String&gt; = items
</span><span>                .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">item</span><span>| {
</span><span>                    </span><span style="color:#b48ead;">let</span><span> dietary_info = </span><span style="color:#b48ead;">if </span><span>!item.dietary_tags.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>                        format!(&quot;</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;, item.dietary_tags.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;))
</span><span>                    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                        String::new()
</span><span>                    };
</span><span>
</span><span>                    format!(&quot;</span><span style="color:#a3be8c;">{:&lt;25} $</span><span style="color:#d08770;">{:&gt;5.2}{}</span><span>&quot;,
</span><span>                           item.name,
</span><span>                           item.price,
</span><span>                           dietary_info)
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>            section.</span><span style="color:#96b5b4;">push_str</span><span>(&amp;item_descriptions.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;));
</span><span>            section.</span><span style="color:#96b5b4;">push</span><span>(&#39;</span><span style="color:#96b5b4;">\n</span><span>&#39;);
</span><span>
</span><span>            section
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">create_full_menu</span><span>(</span><span style="color:#bf616a;">sections</span><span>: &amp;[(&amp;</span><span style="color:#bf616a;">str</span><span>, </span><span style="color:#bf616a;">Vec</span><span>&lt;</span><span style="color:#bf616a;">MenuItem</span><span>&gt;)]) -&gt; String {
</span><span>            </span><span style="color:#b48ead;">let</span><span> section_strings: Vec&lt;String&gt; = sections
</span><span>                .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">title</span><span>, </span><span style="color:#bf616a;">items</span><span>)| </span><span style="color:#b48ead;">Self</span><span>::create_menu_section(title, items))
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> header = &quot;</span><span style="color:#a3be8c;">🍽️ GREEN GARDEN RESTAURANT 🍽️</span><span style="color:#96b5b4;">\n</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>            </span><span style="color:#b48ead;">let</span><span> footer = &quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">All ingredients are locally sourced and organic.</span><span style="color:#96b5b4;">\n</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>
</span><span>            header + &amp;section_strings.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;) + &amp;footer
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">create_shopping_list</span><span>(</span><span style="color:#bf616a;">recipes</span><span>: &amp;[Recipe]) -&gt; String {
</span><span>            </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> ingredient_totals: HashMap&lt;String, </span><span style="color:#b48ead;">f64</span><span>&gt; = HashMap::new();
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> ingredient_units: HashMap&lt;String, String&gt; = HashMap::new();
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Aggregate ingredients from all recipes
</span><span>            </span><span style="color:#b48ead;">for</span><span> recipe in recipes {
</span><span>                </span><span style="color:#b48ead;">for</span><span> ingredient in &amp;recipe.ingredients {
</span><span>                    *ingredient_totals.</span><span style="color:#96b5b4;">entry</span><span>(ingredient.name.</span><span style="color:#96b5b4;">clone</span><span>()).</span><span style="color:#96b5b4;">or_insert</span><span>(</span><span style="color:#d08770;">0.0</span><span>) += ingredient.quantity;
</span><span>                    ingredient_units.</span><span style="color:#96b5b4;">insert</span><span>(ingredient.name.</span><span style="color:#96b5b4;">clone</span><span>(), ingredient.unit.</span><span style="color:#96b5b4;">clone</span><span>());
</span><span>                }
</span><span>            }
</span><span>
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> shopping_items: Vec&lt;String&gt; = ingredient_totals
</span><span>                .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">name</span><span>, &amp;</span><span style="color:#bf616a;">total_quantity</span><span>)| {
</span><span>                    </span><span style="color:#b48ead;">let</span><span> unit = ingredient_units.</span><span style="color:#96b5b4;">get</span><span>(name).</span><span style="color:#96b5b4;">unwrap_or</span><span>(&amp;&quot;</span><span style="color:#a3be8c;">unit</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>                    format!(&quot;</span><span style="color:#a3be8c;">□ </span><span style="color:#d08770;">{} {} {}</span><span>&quot;, total_quantity, unit, name)
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>            shopping_items.</span><span style="color:#96b5b4;">sort</span><span>();
</span><span>
</span><span>            format!(&quot;</span><span style="color:#a3be8c;">🛒 SHOPPING LIST</span><span style="color:#96b5b4;">\n</span><span style="color:#d08770;">{}</span><span style="color:#96b5b4;">\n\n</span><span style="color:#a3be8c;">Total items: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                   shopping_items.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;),
</span><span>                   shopping_items.</span><span style="color:#96b5b4;">len</span><span>())
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug, Clone)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">dietary_tags</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Recipe {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">ingredients</span><span>: Vec&lt;RecipeIngredient&gt;,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>RecipeIngredient {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">unit</span><span>: String,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test menu assembly
</span><span>    </span><span style="color:#b48ead;">let</span><span> appetizers = vec![
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Hummus &amp; Vegetables</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">8.99</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegan</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">Gluten-Free</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Caprese Salad</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">11.49</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegetarian</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> mains = vec![
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">15.99</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegan</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Mushroom Risotto</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">18.99</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegetarian</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">Gluten-Free</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> sections = [(&quot;</span><span style="color:#a3be8c;">Appetizers</span><span>&quot;, appetizers), (&quot;</span><span style="color:#a3be8c;">Main Dishes</span><span>&quot;, mains)];
</span><span>    </span><span style="color:#b48ead;">let</span><span> full_menu = MenuAssembler::create_full_menu(&amp;sections);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Generated menu:</span><span style="color:#96b5b4;">\n</span><span style="color:#d08770;">{}</span><span>&quot;, full_menu);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test shopping list assembly
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipes = vec![
</span><span>        Recipe {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            ingredients: vec![
</span><span>                RecipeIngredient { name: &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">2.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">cups</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>() },
</span><span>                RecipeIngredient { name: &quot;</span><span style="color:#a3be8c;">olive oil</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">3.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">tbsp</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>() },
</span><span>                RecipeIngredient { name: &quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">4.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">cups</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>() },
</span><span>            ],
</span><span>        },
</span><span>        Recipe {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Vegetable Stir Fry</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            ingredients: vec![
</span><span>                RecipeIngredient { name: &quot;</span><span style="color:#a3be8c;">olive oil</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">2.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">tbsp</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>() },
</span><span>                RecipeIngredient { name: &quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">6.0</span><span>, unit: &quot;</span><span style="color:#a3be8c;">cups</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>() },
</span><span>                RecipeIngredient { name: &quot;</span><span style="color:#a3be8c;">soy sauce</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), quantity: </span><span style="color:#d08770;">0.25</span><span>, unit: &quot;</span><span style="color:#a3be8c;">cup</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>() },
</span><span>            ],
</span><span>        },
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> shopping_list = MenuAssembler::create_shopping_list(&amp;recipes);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Generated shopping list:</span><span style="color:#96b5b4;">\n</span><span style="color:#d08770;">{}</span><span>&quot;, shopping_list);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔗 String Collection and Iterator Methods:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// collect() from various sources
</span><span>    </span><span style="color:#b48ead;">let</span><span> numbers = </span><span style="color:#d08770;">1</span><span>..=</span><span style="color:#d08770;">5</span><span>;
</span><span>    </span><span style="color:#b48ead;">let</span><span> number_words: String = numbers
</span><span>        .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">n</span><span>| </span><span style="color:#b48ead;">match</span><span> n {
</span><span>            </span><span style="color:#d08770;">1 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">one</span><span>&quot;,
</span><span>            </span><span style="color:#d08770;">2 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">two</span><span>&quot;,
</span><span>            </span><span style="color:#d08770;">3 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">three</span><span>&quot;,
</span><span>            </span><span style="color:#d08770;">4 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">four</span><span>&quot;,
</span><span>            </span><span style="color:#d08770;">5 </span><span>=&gt; &quot;</span><span style="color:#a3be8c;">five</span><span>&quot;,
</span><span>            _ =&gt; &quot;</span><span style="color:#a3be8c;">unknown</span><span>&quot;,
</span><span>        })
</span><span>        .collect::&lt;Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;&gt;()
</span><span>        .</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Number words: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, number_words);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Collecting with filtering
</span><span>    </span><span style="color:#b48ead;">let</span><span> mixed_items = vec![&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, &quot;&quot;, &quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;, &quot;   &quot;, &quot;</span><span style="color:#a3be8c;">dressing</span><span>&quot;, &quot;&quot;];
</span><span>    </span><span style="color:#b48ead;">let</span><span> clean_items: String = mixed_items
</span><span>        .</span><span style="color:#96b5b4;">into_iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">s</span><span>| !s.</span><span style="color:#96b5b4;">trim</span><span>().</span><span style="color:#96b5b4;">is_empty</span><span>())
</span><span>        .collect::&lt;Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;&gt;()
</span><span>        .</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;"> + </span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Clean items: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, clean_items);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// String interpolation patterns
</span><span>    </span><span style="color:#b48ead;">let</span><span> dish_components = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">base</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;),
</span><span>        (&quot;</span><span style="color:#a3be8c;">protein</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;),
</span><span>        (&quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">mixed greens</span><span>&quot;),
</span><span>        (&quot;</span><span style="color:#a3be8c;">sauce</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">tahini dressing</span><span>&quot;),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> dish_description = dish_components
</span><span>        .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">component_type</span><span>, </span><span style="color:#bf616a;">ingredient</span><span>)| format!(&quot;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, component_type, ingredient))
</span><span>        .collect::&lt;Vec&lt;String&gt;&gt;()
</span><span>        .</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Dish components: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, dish_description);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Performance-Optimized Joining:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">efficient_large_join</span><span>(</span><span style="color:#bf616a;">items</span><span>: &amp;[&amp;</span><span style="color:#b48ead;">str</span><span>], </span><span style="color:#bf616a;">separator</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; String {
</span><span>        </span><span style="color:#b48ead;">if</span><span> items.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>String::new();
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Calculate total capacity needed
</span><span>        </span><span style="color:#b48ead;">let</span><span> content_length: </span><span style="color:#b48ead;">usize </span><span>= items.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">len</span><span>()).</span><span style="color:#96b5b4;">sum</span><span>();
</span><span>        </span><span style="color:#b48ead;">let</span><span> separator_length = separator.</span><span style="color:#96b5b4;">len</span><span>() * (items.</span><span style="color:#96b5b4;">len</span><span>().</span><span style="color:#96b5b4;">saturating_sub</span><span>(</span><span style="color:#d08770;">1</span><span>));
</span><span>        </span><span style="color:#b48ead;">let</span><span> total_capacity = content_length + separator_length;
</span><span>
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> result = String::with_capacity(total_capacity);
</span><span>
</span><span>        </span><span style="color:#b48ead;">for </span><span>(i, item) in items.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            </span><span style="color:#b48ead;">if</span><span> i &gt; </span><span style="color:#d08770;">0 </span><span>{
</span><span>                result.</span><span style="color:#96b5b4;">push_str</span><span>(separator);
</span><span>            }
</span><span>            result.</span><span style="color:#96b5b4;">push_str</span><span>(item);
</span><span>        }
</span><span>
</span><span>        result
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> large_ingredient_list = vec![&quot;</span><span style="color:#a3be8c;">item</span><span>&quot;; </span><span style="color:#d08770;">1000</span><span>];  </span><span style="color:#a7adba;">// 1000 items
</span><span>    </span><span style="color:#b48ead;">let</span><span> _efficient_result = </span><span style="color:#96b5b4;">efficient_large_join</span><span>(&amp;large_ingredient_list, &quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Efficiently joined 1000 items</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🎯 Joining Method Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔗 join() → Basic separator joining</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📋 collect() → Gather iterator results</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎨 format!() → Template-based assembly</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ⚡ with_capacity() → Pre-allocate for performance</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 map() + join() → Transform then combine</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">💡 Assembly Best Practices:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📏 Estimate capacity for large joins</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 Filter empty/invalid items before joining</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎨 Use consistent formatting patterns</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 Consider iterator chains for efficiency</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📊 Cache assembled strings when reused</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_string_joining_methods</span><span>();
</span><span>}
</span></code></pre>
<h2 id="best-practices-and-professional-guidelines">Best Practices and Professional Guidelines</h2>
<h3 id="professional-string-method-usage-standards">Professional String Method Usage Standards</h3>
<p><strong>Essential patterns for building robust string manipulation systems:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_string_method_best_practices</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">✅ String Method Best Practices - Professional Standards</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;70}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::time::Instant;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best practices are like establishing professional kitchen standards
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">💡 Professional String Method Standards:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ⚡ Performance-conscious method selection</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🛡️ Unicode-safe string operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📊 Memory-efficient string building</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 Method chaining and composition</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 1: Performance-Conscious Method Selection
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">⚡ Best Practice 1: Performance-Conscious Method Selection</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ✅ Efficient string building
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">build_menu_efficiently</span><span>(</span><span style="color:#bf616a;">items</span><span>: &amp;[MenuItem]) -&gt; String {
</span><span>        </span><span style="color:#a7adba;">// Pre-calculate capacity
</span><span>        </span><span style="color:#b48ead;">let</span><span> estimated_capacity = items.</span><span style="color:#96b5b4;">len</span><span>() * </span><span style="color:#d08770;">50</span><span>; </span><span style="color:#a7adba;">// Rough estimate per item
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> menu = String::with_capacity(estimated_capacity);
</span><span>
</span><span>        menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">🍽️ TODAY&#39;S MENU</span><span style="color:#96b5b4;">\n</span><span>&quot;);
</span><span>        menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">═</span><span>&quot;.</span><span style="color:#96b5b4;">repeat</span><span>(</span><span style="color:#d08770;">50</span><span>).</span><span style="color:#96b5b4;">as_str</span><span>());
</span><span>        menu.</span><span style="color:#96b5b4;">push</span><span>(&#39;</span><span style="color:#96b5b4;">\n</span><span>&#39;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">for </span><span>(i, item) in items.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            </span><span style="color:#a7adba;">// Use write! for better performance than format! in loops
</span><span>            </span><span style="color:#b48ead;">use </span><span>std::fmt::Write;
</span><span>            write!(menu, &quot;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">. {:&lt;30} $</span><span style="color:#d08770;">{:&gt;6.2}</span><span>&quot;, i + </span><span style="color:#d08770;">1</span><span>, item.name, item.price).</span><span style="color:#96b5b4;">unwrap</span><span>();
</span><span>
</span><span>            </span><span style="color:#b48ead;">if </span><span>!item.dietary_tags.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;"> (</span><span>&quot;);
</span><span>                menu.</span><span style="color:#96b5b4;">push_str</span><span>(&amp;item.dietary_tags.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;));
</span><span>                menu.</span><span style="color:#96b5b4;">push</span><span>(&#39;</span><span style="color:#a3be8c;">)</span><span>&#39;);
</span><span>            }
</span><span>            menu.</span><span style="color:#96b5b4;">push</span><span>(&#39;</span><span style="color:#96b5b4;">\n</span><span>&#39;);
</span><span>        }
</span><span>
</span><span>        menu
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ❌ Inefficient approach
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">build_menu_inefficiently</span><span>(</span><span style="color:#bf616a;">items</span><span>: &amp;[MenuItem]) -&gt; String {
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> menu = String::from(&quot;</span><span style="color:#a3be8c;">🍽️ TODAY&#39;S MENU</span><span style="color:#96b5b4;">\n</span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">for </span><span>(i, item) in items.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            </span><span style="color:#a7adba;">// Multiple allocations and concatenations
</span><span>            menu = menu + &amp;format!(&quot;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">. </span><span>&quot;, i + </span><span style="color:#d08770;">1</span><span>);
</span><span>            menu = menu + &amp;item.name;
</span><span>            menu = menu + &amp;format!(&quot;</span><span style="color:#a3be8c;"> $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, item.price);
</span><span>            </span><span style="color:#b48ead;">if </span><span>!item.dietary_tags.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>                menu = menu + &quot;</span><span style="color:#a3be8c;"> (</span><span>&quot;;
</span><span>                menu = menu + &amp;item.dietary_tags.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;);
</span><span>                menu = menu + &quot;</span><span style="color:#a3be8c;">)</span><span>&quot;;
</span><span>            }
</span><span>            menu = menu + &quot;</span><span style="color:#96b5b4;">\n</span><span>&quot;;
</span><span>        }
</span><span>
</span><span>        menu
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug, Clone)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">dietary_tags</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_items = vec![
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">15.99</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegan</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">Gluten-Free</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Caesar Salad</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">12.49</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegetarian</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>        MenuItem {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">Lentil Soup</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price: </span><span style="color:#d08770;">9.75</span><span>,
</span><span>            dietary_tags: vec![&quot;</span><span style="color:#a3be8c;">Vegan</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">High-Protein</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()]
</span><span>        },
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Performance comparison
</span><span>    </span><span style="color:#b48ead;">let</span><span> start = Instant::now();
</span><span>    </span><span style="color:#b48ead;">let</span><span> efficient_menu = </span><span style="color:#96b5b4;">build_menu_efficiently</span><span>(&amp;test_items);
</span><span>    </span><span style="color:#b48ead;">let</span><span> efficient_time = start.</span><span style="color:#96b5b4;">elapsed</span><span>();
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> start = Instant::now();
</span><span>    </span><span style="color:#b48ead;">let</span><span> inefficient_menu = </span><span style="color:#96b5b4;">build_menu_inefficiently</span><span>(&amp;test_items);
</span><span>    </span><span style="color:#b48ead;">let</span><span> inefficient_time = start.</span><span style="color:#96b5b4;">elapsed</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Efficient approach: </span><span style="color:#d08770;">{:?}</span><span>&quot;, efficient_time);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Inefficient approach: </span><span style="color:#d08770;">{:?}</span><span>&quot;, inefficient_time);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Results identical: </span><span style="color:#d08770;">{}</span><span>&quot;, efficient_menu == inefficient_menu);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 2: Unicode-Safe Operations
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🌍 Best Practice 2: Unicode-Safe String Operations</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> international_menu = &quot;</span><span style="color:#a3be8c;">Café René: Crème Brûlée 🍮, Naïve Soufflé 🧁, Piña Colada 🍹</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ✅ Safe character operations
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">safe_truncate</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">max_chars</span><span>: </span><span style="color:#b48ead;">usize</span><span>) -&gt; String {
</span><span>        s.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">take</span><span>(max_chars).</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ✅ Safe substring extraction
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">safe_substring</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">start_char</span><span>: </span><span style="color:#b48ead;">usize</span><span>, </span><span style="color:#bf616a;">len_char</span><span>: </span><span style="color:#b48ead;">usize</span><span>) -&gt; String {
</span><span>        s.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">skip</span><span>(start_char).</span><span style="color:#96b5b4;">take</span><span>(len_char).</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ✅ Safe character counting
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">display_length</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">usize </span><span>{
</span><span>        s.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">count</span><span>()  </span><span style="color:#a7adba;">// Not s.len() for display purposes
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   International menu: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, international_menu);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Byte length: </span><span style="color:#d08770;">{}</span><span>&quot;, international_menu.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Display length: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#96b5b4;">display_length</span><span>(international_menu));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Safe truncate (20 chars): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, </span><span style="color:#96b5b4;">safe_truncate</span><span>(international_menu, </span><span style="color:#d08770;">20</span><span>));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Safe substring (5, 10): &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, </span><span style="color:#96b5b4;">safe_substring</span><span>(international_menu, </span><span style="color:#d08770;">5</span><span>, </span><span style="color:#d08770;">10</span><span>));
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 3: Method Chaining and Composition
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔗 Best Practice 3: Method Chaining and Composition</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>TextProcessor;
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>TextProcessor {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">clean_and_format_menu_item</span><span>(</span><span style="color:#bf616a;">raw_input</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>            </span><span style="color:#b48ead;">let</span><span> processed = raw_input
</span><span>                .</span><span style="color:#96b5b4;">trim</span><span>()                                    </span><span style="color:#a7adba;">// Remove leading/trailing whitespace
</span><span>                .</span><span style="color:#96b5b4;">split_whitespace</span><span>()                        </span><span style="color:#a7adba;">// Split into words
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">word</span><span>| {                             </span><span style="color:#a7adba;">// Process each word
</span><span>                    </span><span style="color:#b48ead;">let mut</span><span> chars = word.</span><span style="color:#96b5b4;">chars</span><span>();
</span><span>                    </span><span style="color:#b48ead;">match</span><span> chars.</span><span style="color:#96b5b4;">next</span><span>() {
</span><span>                        None =&gt; String::new(),
</span><span>                        Some(first) =&gt; {
</span><span>                            first.</span><span style="color:#96b5b4;">to_uppercase</span><span>().collect::&lt;String&gt;() +
</span><span>                            &amp;chars.</span><span style="color:#96b5b4;">as_str</span><span>().</span><span style="color:#96b5b4;">to_lowercase</span><span>()
</span><span>                        }
</span><span>                    }
</span><span>                })
</span><span>                .collect::&lt;Vec&lt;String&gt;&gt;()                 </span><span style="color:#a7adba;">// Collect processed words
</span><span>                .</span><span style="color:#96b5b4;">join</span><span>(&quot; &quot;);                               </span><span style="color:#a7adba;">// Rejoin with single spaces
</span><span>
</span><span>            </span><span style="color:#b48ead;">if</span><span> processed.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>                Err(&quot;</span><span style="color:#a3be8c;">Empty menu item after processing</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>            } </span><span style="color:#b48ead;">else if</span><span> processed.</span><span style="color:#96b5b4;">len</span><span>() &gt; </span><span style="color:#d08770;">50 </span><span>{
</span><span>                Err(&quot;</span><span style="color:#a3be8c;">Menu item name too long</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                Ok(processed)
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">extract_dietary_info</span><span>(</span><span style="color:#bf616a;">description</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Vec&lt;String&gt; {
</span><span>            </span><span style="color:#b48ead;">let</span><span> dietary_keywords = [
</span><span>                &quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">vegetarian</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">gluten-free</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">dairy-free</span><span>&quot;,
</span><span>                &quot;</span><span style="color:#a3be8c;">nut-free</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">organic</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">local</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">seasonal</span><span>&quot;
</span><span>            ];
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> lower_desc = description.</span><span style="color:#96b5b4;">to_lowercase</span><span>();
</span><span>            dietary_keywords
</span><span>                .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">filter</span><span>(|&amp;&amp;</span><span style="color:#bf616a;">keyword</span><span>| lower_desc.</span><span style="color:#96b5b4;">contains</span><span>(keyword))
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|&amp;</span><span style="color:#bf616a;">keyword</span><span>| {
</span><span>                    keyword.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">-</span><span>&#39;)
</span><span>                           .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">part</span><span>| {
</span><span>                               </span><span style="color:#b48ead;">let mut</span><span> chars = part.</span><span style="color:#96b5b4;">chars</span><span>();
</span><span>                               </span><span style="color:#b48ead;">match</span><span> chars.</span><span style="color:#96b5b4;">next</span><span>() {
</span><span>                                   None =&gt; String::new(),
</span><span>                                   Some(first) =&gt; first.</span><span style="color:#96b5b4;">to_uppercase</span><span>().collect::&lt;String&gt;() + chars.</span><span style="color:#96b5b4;">as_str</span><span>(),
</span><span>                               }
</span><span>                           })
</span><span>                           .collect::&lt;Vec&lt;String&gt;&gt;()
</span><span>                           .</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">-</span><span>&quot;)
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_raw_menu_data</span><span>(</span><span style="color:#bf616a;">raw_data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Vec&lt;ProcessedMenuItem&gt; {
</span><span>            raw_data
</span><span>                .</span><span style="color:#96b5b4;">lines</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">enumerate</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">filter_map</span><span>(|(</span><span style="color:#bf616a;">line_num</span><span>, </span><span style="color:#bf616a;">line</span><span>)| {
</span><span>                    </span><span style="color:#b48ead;">let</span><span> parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = line.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">|</span><span>&#39;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">trim</span><span>()).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>                    </span><span style="color:#b48ead;">if</span><span> parts.</span><span style="color:#96b5b4;">len</span><span>() &gt;= </span><span style="color:#d08770;">2 </span><span>{
</span><span>                        </span><span style="color:#b48ead;">let</span><span> name_result = </span><span style="color:#b48ead;">Self</span><span>::clean_and_format_menu_item(parts[^</span><span style="color:#d08770;">0</span><span>]);
</span><span>                        </span><span style="color:#b48ead;">let</span><span> price_result = parts[^</span><span style="color:#d08770;">1</span><span>].parse::&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;();
</span><span>
</span><span>                        </span><span style="color:#b48ead;">match </span><span>(name_result, price_result) {
</span><span>                            (Ok(name), Ok(price)) =&gt; {
</span><span>                                </span><span style="color:#b48ead;">let</span><span> description = parts.</span><span style="color:#96b5b4;">get</span><span>(</span><span style="color:#d08770;">2</span><span>).</span><span style="color:#96b5b4;">unwrap_or</span><span>(&amp;&quot;&quot;).</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>                                </span><span style="color:#b48ead;">let</span><span> dietary_info = </span><span style="color:#b48ead;">Self</span><span>::extract_dietary_info(&amp;description);
</span><span>
</span><span>                                Some(ProcessedMenuItem {
</span><span>                                    name,
</span><span>                                    price,
</span><span>                                    description,
</span><span>                                    dietary_info,
</span><span>                                    line_number: line_num + </span><span style="color:#d08770;">1</span><span>,
</span><span>                                })
</span><span>                            }
</span><span>                            _ =&gt; {
</span><span>                                eprintln!(&quot;</span><span style="color:#a3be8c;">Error processing line </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, line_num + </span><span style="color:#d08770;">1</span><span>, line);
</span><span>                                None
</span><span>                            }
</span><span>                        }
</span><span>                    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                        None
</span><span>                    }
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ProcessedMenuItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">description</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">dietary_info</span><span>: Vec&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">line_number</span><span>: </span><span style="color:#b48ead;">usize</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> raw_menu_data = &quot;</span><span style="color:#a3be8c;">  quinoa BUDDHA bowl  | 15.99 | Organic quinoa with seasonal vegetables, vegan and gluten-free
</span><span style="color:#a3be8c;">    caesar SALAD | 12.49 | Fresh romaine with vegetarian parmesan
</span><span style="color:#a3be8c;">    lentil soup | abc | Invalid price entry
</span><span style="color:#a3be8c;">    | 10.00 | Missing name
</span><span style="color:#a3be8c;">      mushroom   risotto    | 18.99 | Creamy arborio rice with local mushrooms, vegetarian and dairy-free</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> processed_items = TextProcessor::process_raw_menu_data(raw_menu_data);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Processed menu items:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> item in processed_items {
</span><span>        println!(&quot;     </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, item.name, item.price);
</span><span>        </span><span style="color:#b48ead;">if </span><span>!item.dietary_info.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">       Dietary: </span><span style="color:#d08770;">{}</span><span>&quot;, item.dietary_info.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;));
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 4: Error-Resilient String Operations
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🛡️ Best Practice 4: Error-Resilient String Operations</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>SafeStringOperations;
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>SafeStringOperations {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">safe_split_at_char</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">ch</span><span>: </span><span style="color:#b48ead;">char</span><span>) -&gt; Option&lt;(&amp;</span><span style="color:#b48ead;">str</span><span>, &amp;</span><span style="color:#b48ead;">str</span><span>)&gt; {
</span><span>            s.</span><span style="color:#96b5b4;">find</span><span>(ch).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">pos</span><span>| s.</span><span style="color:#96b5b4;">split_at</span><span>(pos))
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">safe_get_chars</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">start</span><span>: </span><span style="color:#b48ead;">usize</span><span>, </span><span style="color:#bf616a;">end</span><span>: </span><span style="color:#b48ead;">usize</span><span>) -&gt; Option&lt;String&gt; {
</span><span>            </span><span style="color:#b48ead;">let</span><span> chars: Vec&lt;</span><span style="color:#b48ead;">char</span><span>&gt; = s.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>            </span><span style="color:#b48ead;">if</span><span> start &lt;= end &amp;&amp; end &lt;= chars.</span><span style="color:#96b5b4;">len</span><span>() {
</span><span>                Some(chars[start..end].</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">collect</span><span>())
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                None
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">safe_replace_all</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">replacements</span><span>: &amp;HashMap&lt;&amp;</span><span style="color:#b48ead;">str</span><span>, &amp;</span><span style="color:#b48ead;">str</span><span>&gt;) -&gt; String {
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> result = s.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>
</span><span>            </span><span style="color:#b48ead;">for </span><span>(old, new) in replacements {
</span><span>                result = result.</span><span style="color:#96b5b4;">replace</span><span>(old, new);
</span><span>            }
</span><span>
</span><span>            result
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">normalize_whitespace</span><span>(</span><span style="color:#bf616a;">s</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; String {
</span><span>            s.</span><span style="color:#96b5b4;">split_whitespace</span><span>().collect::&lt;Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;&gt;().</span><span style="color:#96b5b4;">join</span><span>(&quot; &quot;)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_strings = [
</span><span>        &quot;</span><span style="color:#a3be8c;">Quinoa Bowl: Healthy and delicious</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">Café René specialité</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">   Multiple    spaces   and   </span><span style="color:#96b5b4;">\t</span><span style="color:#a3be8c;"> tabs  </span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;"> newlines   </span><span>&quot;,
</span><span>        &quot;&quot;,
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> replacements = HashMap::new();
</span><span>    replacements.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">Quinoa</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Ancient Grain</span><span>&quot;);
</span><span>    replacements.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">Café</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Restaurant</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> test_str in test_strings {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Original: &#39;</span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, test_str);
</span><span>
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some((before, after)) = SafeStringOperations::safe_split_at_char(test_str, &#39;</span><span style="color:#a3be8c;">:</span><span>&#39;) {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     Split at &#39;:&#39;: (&#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;, &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;)</span><span>&quot;, before, after);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some(substring) = SafeStringOperations::safe_get_chars(test_str, </span><span style="color:#d08770;">0</span><span>, </span><span style="color:#d08770;">10</span><span>) {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     First 10 chars: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, substring);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> replaced = SafeStringOperations::safe_replace_all(test_str, &amp;replacements);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     After replacements: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, replaced);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> normalized = SafeStringOperations::normalize_whitespace(test_str);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     Normalized whitespace: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, normalized);
</span><span>
</span><span>        println!();
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 5: Memory Management and Capacity Planning
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">💾 Best Practice 5: Memory Management and Capacity Planning</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_capacity_management</span><span>() {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   String capacity management:</span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Pre-allocate for known size
</span><span>        </span><span style="color:#b48ead;">let</span><span> expected_items = </span><span style="color:#d08770;">100</span><span>;
</span><span>        </span><span style="color:#b48ead;">let</span><span> avg_item_length = </span><span style="color:#d08770;">30</span><span>;
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> large_menu = String::with_capacity(expected_items * avg_item_length);
</span><span>
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     Initial capacity: </span><span style="color:#d08770;">{}</span><span>&quot;, large_menu.</span><span style="color:#96b5b4;">capacity</span><span>());
</span><span>
</span><span>        </span><span style="color:#b48ead;">for</span><span> i in </span><span style="color:#d08770;">0</span><span>..expected_items {
</span><span>            large_menu.</span><span style="color:#96b5b4;">push_str</span><span>(&amp;format!(&quot;</span><span style="color:#a3be8c;">Item </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> description here</span><span style="color:#96b5b4;">\n</span><span>&quot;, i));
</span><span>        }
</span><span>
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     After </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> items:</span><span>&quot;, expected_items);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">       Length: </span><span style="color:#d08770;">{}</span><span>&quot;, large_menu.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">       Capacity: </span><span style="color:#d08770;">{}</span><span>&quot;, large_menu.</span><span style="color:#96b5b4;">capacity</span><span>());
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">       Efficiency: </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">%</span><span>&quot;,
</span><span>                 (large_menu.</span><span style="color:#96b5b4;">len</span><span>() as </span><span style="color:#b48ead;">f64 </span><span>/ large_menu.</span><span style="color:#96b5b4;">capacity</span><span>() as </span><span style="color:#b48ead;">f64</span><span>) * </span><span style="color:#d08770;">100.0</span><span>);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Shrink to fit when appropriate
</span><span>        large_menu.</span><span style="color:#96b5b4;">shrink_to_fit</span><span>();
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     After shrink_to_fit:</span><span>&quot;);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">       Capacity: </span><span style="color:#d08770;">{}</span><span>&quot;, large_menu.</span><span style="color:#96b5b4;">capacity</span><span>());
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#96b5b4;">demonstrate_capacity_management</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📋 String Method Best Practices Summary:</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">⚡ Performance Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Use String::with_capacity() for known sizes</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Prefer push_str() over concatenation with +</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Use write!() macro in loops instead of format!()</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Consider join() for multiple string combinations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Cache expensive string operations</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🌍 Unicode Safety:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Use chars().count() for display length</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Use chars().take() for safe truncation</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Check char boundaries with is_char_boundary()</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Handle grapheme clusters when needed</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Be aware of normalization requirements</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔗 Method Composition:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Chain methods for readable transformations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Use iterator methods for bulk operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Handle Option/Result in chains appropriately</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Extract complex chains into named functions</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Document transformation pipelines clearly</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🛡️ Error Resilience:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Validate input before processing</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Handle empty strings gracefully</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Provide meaningful error messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Use Option/Result for fallible operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ✅ Implement recovery strategies where appropriate</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">💡 Professional Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎯 Profile string operations in hot paths</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📊 Monitor memory usage in string-heavy applications</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🔄 Design string APIs for composability</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   📝 Document string format requirements clearly</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   🎨 Establish consistent string formatting standards</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_string_method_best_practices</span><span>();
</span><span>}
</span></code></pre>
<h2 id="summary-and-key-takeaways">Summary and Key Takeaways</h2>
<h3 id="mental-model-the-complete-restaurant-text-processing-kitchen"><strong>Mental Model: The Complete Restaurant Text Processing Kitchen</strong></h3>
<p>Remember our comprehensive restaurant text processing kitchen analogy:</p>
<ul>
<li>🔪 <strong>String methods</strong> = <strong>Specialized kitchen tools</strong> - Each designed for specific text operations</li>
<li>👨🍳 <strong>Method composition</strong> = <strong>Recipe techniques</strong> - Combining tools for complex dishes</li>
<li>⚡ <strong>Performance</strong> = <strong>Kitchen efficiency</strong> - Right tool for each job</li>
<li>🌍 <strong>Unicode safety</strong> = <strong>Food safety standards</strong> - Handle all ingredients properly</li>
<li>📊 <strong>Memory management</strong> = <strong>Inventory control</strong> - Use resources wisely</li>
</ul>
<h3 id="essential-string-method-categories"><strong>Essential String Method Categories</strong></h3>
<p><strong>Creation and Building:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>String::new()                    </span><span style="color:#a7adba;">// Empty container
</span><span>String::with_capacity(n)         </span><span style="color:#a7adba;">// Pre-sized container
</span><span>String::from(&quot;</span><span style="color:#a3be8c;">text</span><span>&quot;)             </span><span style="color:#a7adba;">// From existing content
</span><span>format!(&quot;</span><span style="color:#a3be8c;">template </span><span style="color:#d08770;">{}</span><span>&quot;, var)      </span><span style="color:#a7adba;">// Assembled content
</span><span>string.</span><span style="color:#96b5b4;">push</span><span>(&#39;</span><span style="color:#a3be8c;">c</span><span>&#39;)                 </span><span style="color:#a7adba;">// Add single character
</span><span>string.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">text</span><span>&quot;)          </span><span style="color:#a7adba;">// Add string content
</span></code></pre>
<p><strong>Modification and Transformation:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>string.</span><span style="color:#96b5b4;">to_lowercase</span><span>()            </span><span style="color:#a7adba;">// Change case
</span><span>string.</span><span style="color:#96b5b4;">to_uppercase</span><span>()            </span><span style="color:#a7adba;">// Change case
</span><span>string.</span><span style="color:#96b5b4;">trim</span><span>()                    </span><span style="color:#a7adba;">// Remove whitespace
</span><span>string.</span><span style="color:#96b5b4;">replace</span><span>(&quot;</span><span style="color:#a3be8c;">old</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">new</span><span>&quot;)     </span><span style="color:#a7adba;">// Substitute text
</span><span>string.</span><span style="color:#96b5b4;">truncate</span><span>(len)             </span><span style="color:#a7adba;">// Cut to size
</span><span>string.</span><span style="color:#96b5b4;">clear</span><span>()                   </span><span style="color:#a7adba;">// Empty container
</span></code></pre>
<p><strong>Querying and Analysis:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>string.</span><span style="color:#96b5b4;">len</span><span>()                     </span><span style="color:#a7adba;">// Byte length
</span><span>string.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">count</span><span>()           </span><span style="color:#a7adba;">// Character count
</span><span>string.</span><span style="color:#96b5b4;">is_empty</span><span>()                </span><span style="color:#a7adba;">// Check if empty
</span><span>string.</span><span style="color:#96b5b4;">contains</span><span>(&quot;</span><span style="color:#a3be8c;">text</span><span>&quot;)          </span><span style="color:#a7adba;">// Check content
</span><span>string.</span><span style="color:#96b5b4;">starts_with</span><span>(&quot;</span><span style="color:#a3be8c;">prefix</span><span>&quot;)     </span><span style="color:#a7adba;">// Check beginning
</span><span>string.</span><span style="color:#96b5b4;">find</span><span>(&quot;</span><span style="color:#a3be8c;">pattern</span><span>&quot;)           </span><span style="color:#a7adba;">// Locate text
</span></code></pre>
<p><strong>Splitting and Parsing:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>string.</span><span style="color:#96b5b4;">split</span><span>(&quot;</span><span style="color:#a3be8c;">delimiter</span><span>&quot;)        </span><span style="color:#a7adba;">// Break apart
</span><span>string.</span><span style="color:#96b5b4;">split_whitespace</span><span>()        </span><span style="color:#a7adba;">// Split on spaces
</span><span>string.</span><span style="color:#96b5b4;">lines</span><span>()                   </span><span style="color:#a7adba;">// Split on newlines
</span><span>string.</span><span style="color:#96b5b4;">chars</span><span>()                   </span><span style="color:#a7adba;">// Character iterator
</span><span>string.</span><span style="color:#96b5b4;">split_inclusive</span><span>(&quot;</span><span style="color:#a3be8c;">sep</span><span>&quot;)    </span><span style="color:#a7adba;">// Keep delimiters
</span></code></pre>
<p><strong>Joining and Collection:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>vec.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">separator</span><span>&quot;)           </span><span style="color:#a7adba;">// Combine with separator
</span><span>iterator.collect::&lt;String&gt;()    </span><span style="color:#a7adba;">// Gather into string
</span><span>format!(&quot;</span><span style="color:#d08770;">{}</span><span>&quot;, values)           </span><span style="color:#a7adba;">// Template assembly
</span></code></pre>
<h3 id="performance-guidelines-matrix"><strong>Performance Guidelines Matrix</strong></h3>
<table><thead><tr><th style="text-align: left"><strong>Operation</strong></th><th style="text-align: left"><strong>Small Data</strong></th><th style="text-align: left"><strong>Large Data</strong></th><th style="text-align: left"><strong>Hot Path</strong></th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Building</strong></td><td style="text-align: left"><code>push_str()</code></td><td style="text-align: left"><code>with_capacity()</code> + <code>push_str()</code></td><td style="text-align: left">Pre-allocate + <code>write!()</code></td></tr>
<tr><td style="text-align: left"><strong>Concatenation</strong></td><td style="text-align: left"><code>+</code> operator</td><td style="text-align: left"><code>join()</code></td><td style="text-align: left"><code>String::with_capacity()</code></td></tr>
<tr><td style="text-align: left"><strong>Transformation</strong></td><td style="text-align: left">Method chains</td><td style="text-align: left">Iterator + <code>collect()</code></td><td style="text-align: left">Cache results</td></tr>
<tr><td style="text-align: left"><strong>Searching</strong></td><td style="text-align: left"><code>contains()</code></td><td style="text-align: left">Consider regex</td><td style="text-align: left">Memoize patterns</td></tr>
</tbody></table>
<h3 id="unicode-safety-checklist"><strong>Unicode Safety Checklist</strong></h3>
<p><strong>✅ Safe Operations:</strong></p>
<ul>
<li>Use <code>chars().count()</code> for display length</li>
<li>Use <code>chars().take(n)</code> for truncation</li>
<li>Use <code>char_indices()</code> for position + character</li>
<li>Check <code>is_char_boundary()</code> before slicing</li>
<li>Handle grapheme clusters appropriately</li>
</ul>
<p><strong>❌ Dangerous Operations:</strong></p>
<ul>
<li>Direct byte indexing without boundary checks</li>
<li>Using <code>len()</code> for character counting</li>
<li>Slicing with arbitrary byte positions</li>
<li>Assuming one byte = one character</li>
</ul>
<h3 id="method-chaining-patterns"><strong>Method Chaining Patterns</strong></h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// Clean and transform pattern
</span><span>text.</span><span style="color:#96b5b4;">trim</span><span>()                           </span><span style="color:#a7adba;">// Clean
</span><span>    .</span><span style="color:#96b5b4;">to_lowercase</span><span>()                   </span><span style="color:#a7adba;">// Normalize
</span><span>    .</span><span style="color:#96b5b4;">split_whitespace</span><span>()               </span><span style="color:#a7adba;">// Parse
</span><span>    .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">word</span><span>| word.</span><span style="color:#96b5b4;">len</span><span>() &gt; </span><span style="color:#d08770;">2</span><span>)    </span><span style="color:#a7adba;">// Filter
</span><span>    .collect::&lt;Vec&lt;_&gt;&gt;()              </span><span style="color:#a7adba;">// Collect
</span><span>    .</span><span style="color:#96b5b4;">join</span><span>(&quot; &quot;)                        </span><span style="color:#a7adba;">// Reassemble
</span><span>
</span><span style="color:#a7adba;">// Validation and processing pattern
</span><span>input.</span><span style="color:#96b5b4;">trim</span><span>()                          </span><span style="color:#a7adba;">// Clean input
</span><span>     .parse::&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;()                  </span><span style="color:#a7adba;">// Try convert
</span><span>     .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">n</span><span>| format!(&quot;</span><span style="color:#d08770;">{:.2}</span><span>&quot;, n))    </span><span style="color:#a7adba;">// Format if valid
</span><span>     .</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|_| &quot;</span><span style="color:#a3be8c;">Invalid</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()) </span><span style="color:#a7adba;">// Handle error
</span><span>
</span><span style="color:#a7adba;">// Builder pattern for complex assembly
</span><span>String::with_capacity(</span><span style="color:#d08770;">200</span><span>)
</span><span>    .</span><span style="color:#96b5b4;">tap</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Header</span><span style="color:#96b5b4;">\n</span><span>&quot;))
</span><span>    .</span><span style="color:#96b5b4;">tap</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Content</span><span style="color:#96b5b4;">\n</span><span>&quot;))
</span><span>    .</span><span style="color:#96b5b4;">tap</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">push_str</span><span>(&quot;</span><span style="color:#a3be8c;">Footer</span><span>&quot;))
</span></code></pre>
<h3 id="common-pitfalls-and-solutions"><strong>Common Pitfalls and Solutions</strong></h3>
<p><strong>Pitfall 1: Performance Issues</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ Inefficient
</span><span style="color:#b48ead;">let mut</span><span> result = String::new();
</span><span style="color:#b48ead;">for</span><span> item in large_list {
</span><span>    result = result + &amp;format!(&quot;</span><span style="color:#d08770;">{}</span><span style="color:#96b5b4;">\n</span><span>&quot;, item); </span><span style="color:#a7adba;">// Multiple allocations
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Efficient
</span><span style="color:#b48ead;">let mut</span><span> result = String::with_capacity(large_list.</span><span style="color:#96b5b4;">len</span><span>() * </span><span style="color:#d08770;">20</span><span>);
</span><span style="color:#b48ead;">for</span><span> item in large_list {
</span><span>    writeln!(result, &quot;</span><span style="color:#d08770;">{}</span><span>&quot;, item).</span><span style="color:#96b5b4;">unwrap</span><span>(); </span><span style="color:#a7adba;">// Single allocation
</span><span>}
</span></code></pre>
<p><strong>Pitfall 2: Unicode Handling</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ Dangerous
</span><span style="color:#b48ead;">let</span><span> truncated = &amp;text[..</span><span style="color:#d08770;">10</span><span>]; </span><span style="color:#a7adba;">// May panic on Unicode boundaries
</span><span>
</span><span style="color:#a7adba;">// ✅ Safe
</span><span style="color:#b48ead;">let</span><span> truncated: String = text.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">take</span><span>(</span><span style="color:#d08770;">10</span><span>).</span><span style="color:#96b5b4;">collect</span><span>();
</span></code></pre>
<h3 id="the-professional-advantage"><strong>The Professional Advantage</strong></h3>
<p><strong>Mastering String methods and manipulation in Rust is like having a world-class restaurant text processing kitchen</strong> that handles every aspect of text transformation efficiently and safely:</p>
<ul>
<li>🔪 <strong>Specialized tools</strong> - Each method optimized for specific operations</li>
<li>⚡ <strong>Performance optimization</strong> - Right approach for each scale of operation</li>
<li>🌍 <strong>Global support</strong> - Proper Unicode handling for international content</li>
<li>🛡️ <strong>Safety guarantees</strong> - Compiler-enforced correctness</li>
<li>🎯 <strong>Composability</strong> - Methods work together seamlessly</li>
</ul>
<p><strong>Understanding String methods transforms you from a programmer who struggles with text processing to an expert</strong> who builds efficient, robust, and internationally-aware text handling systems. Just as a professional chef knows which knife to use for each cutting task and how to combine techniques for complex dishes, a skilled Rust programmer intuitively selects the right String methods and combines them effectively for any text processing challenge.</p>
<p>This comprehensive mastery of String methods - from basic creation and modification through advanced parsing and performance optimization - makes your Rust programs more efficient, your text processing more robust, and your development process more productive, whether you're building simple text utilities or complex systems that process millions of strings with precision and speed!</p>
<ol>
<li>https://doc.rust-lang.org/std/string/struct.String.html</li>
<li>https://doc.rust-lang.org/rust-by-example/std/str.html</li>
<li>https://dev.to/alexmercedcoder/in-depth-guide-to-working-with-strings-in-rust-1522</li>
<li>https://www.geeksforgeeks.org/rust/rust-strings/</li>
<li>https://www.w3schools.com/rust/rust_strings.php</li>
<li>https://dev.to/ouma_ouma/rust-tutorial-mastering-strings-with-real-examples-pb1</li>
<li>https://dx13.co.uk/articles/2024/02/24/rust-string-and-str/</li>
<li>https://web.mit.edu/rust-lang_v1.25/arch/amd64_ubuntu1404/share/doc/rust/html/book/first-edition/strings.html</li>
<li>https://codesignal.com/learn/courses/string-manipulation-in-rust/lessons/advanced-string-methods-in-rust</li>
<li>https://www.reddit.com/r/rust/comments/1gtz615/a_pitfall_for_beginners_in_rust_misunderstanding/</li>
<li>https://www.programiz.com/rust/string</li>
<li>https://techwasti.com/day-7learn-about-slices-and-string-manipulation-in-rust</li>
<li>https://www.youtube.com/watch?v=Mcuqzx3rBWc</li>
<li>https://doc.rust-lang.org/std/primitive.str.html</li>
<li>https://ezesunday.com/blog/rust-string-manipulation/</li>
<li>https://developers.amadeus.com/blog/rust-rest-api-tutorial</li>
<li>https://users.rust-lang.org/t/string-manipulation/96821</li>
<li>https://www.reddit.com/r/rust/comments/189a5tu/string_manipulation_in_rust_advent_of_code/</li>
<li>https://www.c-sharpcorner.com/article/string-operations-in-rust-a-beginners-guide/</li>
<li>https://google.github.io/comprehensive-rust/references/strings.html</li>
<li>https://zerotomastery.io/blog/how-strings-work-in-rust/</li>
<li>https://codesignal.com/learn/courses/string-manipulation-in-rust/lessons/string-methods-and-ownership</li>
<li>https://www.openmymind.net/Rust-Strings/</li>
<li>https://www.youtube.com/watch?v=CpvzeyzgQdw</li>
<li>https://codesignal.com/learn/courses/string-manipulation-in-rust/lessons/string-conversions-and-methods</li>
<li>https://www.youtube.com/watch?v=GK9Iz_ihmV8</li>
</ol>

    
        </div>

    </article>
</main>


    <script type="text/javascript" src="http://localhost/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="http://localhost/search_index.en.js" defer></script>
<script type="text/javascript" src="http://localhost/js.js" defer></script>

</body>
</html>
