<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://aarambhdevhub.github.io/rust-doc/main.css">
    <link rel="icon" href="https://www.rust-lang.org/static/images/favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Rust Programming Course! | Creating Custom Error Types in Rust </title>
</head>
<body>

<main>
    
    <nav>
            <a href="https:&#x2F;&#x2F;aarambhdevhub.github.io&#x2F;rust-doc&#x2F;">
                        <img src="https://www.rust-lang.org/static/images/rust-logo-blk.svg" alt="logo"/>
                    </a>
                <!-- -->

            <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="day-1-introduction"
                           />
                    <label class="tree-toggle-label"
                           for="day-1-introduction">Day 1: Introduction</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-1/">What is Rust and why use it?</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-2/">Installing Rust Toolchain (rustup, cargo)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-3/">Setting up Development (VS Code + Hello World)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-4/">Understanding Cargo Project Structure</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-2-basic-syntax-variables"
                           />
                    <label class="tree-toggle-label"
                           for="day-2-basic-syntax-variables">Day 2: Basic Syntax &amp; Variables</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-1/">Variables and Mutability in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-2/">Data Types in Rust: Integers, Floats, Booleans, and Characters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-3/">Constants vs Variables</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-4/">Understanding Shadowing in Rust: A Practical Guide</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-5/">Basic Input&#x2F;Output</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-3-functions-control-flow"
                           />
                    <label class="tree-toggle-label"
                           for="day-3-functions-control-flow">Day 3: Functions &amp; Control Flow</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-1/">Function Syntax and Parameters in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-2/">Return Values and Expressions vs Statements</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-3/">If&#x2F;Else Statements in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-4/">Match Expressions in Rust: Powerful Pattern Matching</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-5/">Loops in Rust: loop, while, for Explained</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-4-data-types-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-4-data-types-deep-dive">Day 4: Data Types Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-1/">Compound Types (Tuples, Arrays)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-2/">String vs &amp;str in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-3/">Vector Basics in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-4/">Type Annotations and Inference in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-5/">Practical Rust Exercises</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-5-practice-review"
                           />
                    <label class="tree-toggle-label"
                           for="day-5-practice-review">Day 5: Practice &amp; Review</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 5/chapter-1/">Day 5: Practice &amp; Review</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-6-ownership-fundamentals"
                           />
                    <label class="tree-toggle-label"
                           for="day-6-ownership-fundamentals">Day 6: Ownership Fundamentals</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-1/">Ownership in Rust: A Detailed Guide</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-2/">Stack vs Heap in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-3/">Understanding Ownership in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-4/">Move Semantics in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-5/">Copy Trait in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-7-references-borrowing"
                           />
                    <label class="tree-toggle-label"
                           for="day-7-references-borrowing">Day 7: References &amp; Borrowing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-1/">Immutable References</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-2/">Mutable References</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-3/">Borrowing Rules</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-4/">Reference Lifetime Basics</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-5/">Common Borrowing Errors and Solutions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-8-slices"
                           />
                    <label class="tree-toggle-label"
                           for="day-8-slices">Day 8: Slices</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-1/">String Slices</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-2/">Array Slices</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-3/">Slice Syntax and Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-4/">Practical Applications</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-5/">Memory Safety Benefits</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-9-advanced-ownership"
                           />
                    <label class="tree-toggle-label"
                           for="day-9-advanced-ownership">Day 9: Advanced Ownership</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-1/">Clone Trait</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-2/">Drop Trait</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-3/">RAII Pattern</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-4/">Memory Management Comparison with Other Languages</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-5/">Best Practices (Advanced Ownership)</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-10-ownership-practice"
                           />
                    <label class="tree-toggle-label"
                           for="day-10-ownership-practice">Day 10: Ownership Practice</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-1/">Complex Ownership Scenarios</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-2/">Debugging Ownership Errors</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-3/">Code Refactoring Exercises</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-4/">Group Problem-Solving</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-11-structs-basics"
                           />
                    <label class="tree-toggle-label"
                           for="day-11-structs-basics">Day 11: Structs Basics</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-1/">Defining and Instantiating Structs</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-2/">Field Access and Modification</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-3/">Tuple Structs and Unit Structs</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-4/">Struct Update Syntax</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-5/">Ownership of Struct Data</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-12-methods-associated-functions"
                           />
                    <label class="tree-toggle-label"
                           for="day-12-methods-associated-functions">Day 12: Methods &amp; Associated Functions</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-1/">Implementing Methods with impl Blocks</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-2/">&amp;self, &amp;mut self, and self</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-3/">Associated Functions (like Constructors)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-4/">Multiple impl Blocks</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-5/">Method Chaining</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-13-advanced-struct-concepts"
                           />
                    <label class="tree-toggle-label"
                           for="day-13-advanced-struct-concepts">Day 13: Advanced Struct Concepts</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-1/">Struct Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-2/">Debug Trait and Custom Formatting</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-3/">Builder Pattern Implementation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-4/">Struct Composition</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-5/">Best Practices for Struct Design</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-14-enums-pattern-matching"
                           />
                    <label class="tree-toggle-label"
                           for="day-14-enums-pattern-matching">Day 14: Enums &amp; Pattern Matching</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-1/">Defining Enums</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-2/">Enum Variants with Data</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/">Option&lt;T&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-4/">Result&lt;T, E&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-5/">Advanced Match Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-15-practice-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-15-practice-project">Day 15: Practice Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 15/chapter-1/">Building a Simple CLI Calculator in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-16-vectors"
                           />
                    <label class="tree-toggle-label"
                           for="day-16-vectors">Day 16: Vectors</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-1/">Creating and Updating Vectors</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-2/">Vector Methods: push, pop, iter</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-3/">Accessing Vector Elements Safely</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-4/">Vector of Different Types with Enums</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-5/">Performance Considerations</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-17-hashmaps-other-collections"
                           />
                    <label class="tree-toggle-label"
                           for="day-17-hashmaps-other-collections">Day 17: HashMaps &amp; Other Collections</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-1/">HashMap Creation and Manipulation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-2/">Keys and Values Ownership</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-3/">HashMap Methods and Iteration</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-4/">When to Use Different Collections</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-5/">BTreeMap Introduction</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-18-error-handling"
                           checked/>
                    <label class="tree-toggle-label"
                           for="day-18-error-handling">Day 18: Error Handling</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-1/">Panic! and When to Use It</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-2/">Result&lt;T, E&gt; in Depth</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-3/">The ? Operator in Rust</a>
                            </li>

                            <li class="active">
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/">Creating Custom Error Types in Rust</a>
                            </li>

                            
                                    
                                    
                                        <ul id="toc">
                                            <li><a href="
                                                        https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#custom-error-types-in-rust-comprehensive-documentation-for-beginners">Custom Error Types in Rust: Comprehensive Documentation for Beginners</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#the-professional-restaurant-incident-management-system-analogy-convenience-store">The Professional Restaurant Incident Management System Analogy üè™</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#understanding-custom-error-types-fundamentals">Understanding Custom Error Types Fundamentals</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#implementing-standard-traits-for-custom-errors">Implementing Standard Traits for Custom Errors</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#error-conversion-and-the-from-trait">Error Conversion and the From Trait</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#advanced-custom-error-patterns">Advanced Custom Error Patterns</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#best-practices-and-professional-guidelines">Best Practices and Professional Guidelines</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/#summary-and-key-takeaways">Summary and Key Takeaways</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            </ul>
                                    <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-5/">Error Propagation Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-19-strings-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-19-strings-deep-dive">Day 19: Strings Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-1/">String vs &amp;str Revisited</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-2/">String Methods and Manipulation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-5/">Performance Considerations</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-3/">UTF-8 and Character Encoding</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-4/">String Concatenation Techniques</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-20-mini-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-20-mini-project">Day 20: Mini Project</label>

                    <ul class="subtree">
                        </ul>
                <input class="tree-toggle" type="checkbox" id="day-21-generic-functions-structs"
                           />
                    <label class="tree-toggle-label"
                           for="day-21-generic-functions-structs">Day 21: Generic Functions &amp; Structs</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-1/">Generic Function Syntax</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-2/">Generic Structs and Enums</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-3/">Type Parameters and Constraints</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-4/">Monomorphization Concept</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-5/">Generic Collections</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-22-traits-fundamentals"
                           />
                    <label class="tree-toggle-label"
                           for="day-22-traits-fundamentals">Day 22: Traits Fundamentals</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-1/">Defining Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-2/">Implementing Traits for Types</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-3/">Default Implementations</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-4/">Trait as Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-5/">Trait Bounds</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-23-advanced-traits"
                           />
                    <label class="tree-toggle-label"
                           for="day-23-advanced-traits">Day 23: Advanced Traits</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-1/">Trait Objects and Dynamic Dispatch</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-2/">Supertraits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-3/">Associated Types</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-4/">Orphan Rule</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-5/">Coherence Rules</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-24-standard-library-traits"
                           />
                    <label class="tree-toggle-label"
                           for="day-24-standard-library-traits">Day 24: Standard Library Traits</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-1/">Iterator Trait</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-2/">From and Into Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-3/">Display and Debug Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-4/">Clone and Copy Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-5/">PartialEq and Eq Traits</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-25-trait-practice"
                           />
                    <label class="tree-toggle-label"
                           for="day-25-trait-practice">Day 25: Trait Practice</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-1/">Custom Trait Implementation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-2/">Generic Programming Exercises</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-3/">Trait Object Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-4/">Performance Implications</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-26-lifetime-annotations"
                           />
                    <label class="tree-toggle-label"
                           for="day-26-lifetime-annotations">Day 26: Lifetime Annotations</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-1/">Why Lifetimes Exist</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-2/">Lifetime Annotation Syntax</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-3/">Function Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-4/">Struct Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-5/">Lifetime Elision Rules</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-27-advanced-lifetimes"
                           />
                    <label class="tree-toggle-label"
                           for="day-27-advanced-lifetimes">Day 27: Advanced Lifetimes</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-1/">Static Lifetime</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-2/">Lifetime Subtyping</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-3/">Higher-Ranked Trait Bounds</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-4/">Common Lifetime Patterns</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-5/">Debugging Lifetime Errors</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-28-smart-pointers"
                           />
                    <label class="tree-toggle-label"
                           for="day-28-smart-pointers">Day 28: Smart Pointers</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-1/">Box&lt;T&gt; for Heap Allocation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-2/">Rc&lt;T&gt; for Reference Counting</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-3/">RefCell&lt;T&gt; for Interior Mutability</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-4/">Weak&lt;T&gt; References</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-5/">Memory Leak Prevention</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-29-concurrency-preparation"
                           />
                    <label class="tree-toggle-label"
                           for="day-29-concurrency-preparation">Day 29: Concurrency Preparation</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-1/">Arc&lt;T&gt; for Atomic Reference Counting</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-2/">Send and Sync Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-3/">Thread Safety Concepts</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-4/">Shared State Challenges</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-5/">Lock-Free Programming Introduction</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-30-memory-management-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-30-memory-management-project">Day 30: Memory Management Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-1/">Building a Simple Data Structure</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-2/">Using Smart Pointers Effectively</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-3/">Memory Usage Optimization</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-4/">Performance Benchmarking</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-31-closures"
                           />
                    <label class="tree-toggle-label"
                           for="day-31-closures">Day 31: Closures</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-1/">Closure Syntax and Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-2/">Capturing Environment</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-3/">Fn, FnMut, and FnOnce Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-4/">Moving Closures</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-5/">Closures vs Functions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-32-iterators-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-32-iterators-deep-dive">Day 32: Iterators Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-1/">Iterator Trait Implementation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-2/">Lazy Evaluation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-3/">Iterator Adaptors (map, filter, etc.)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-4/">Consumer Adaptors (collect, fold, etc.)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-5/">Custom Iterators</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-32-iterators-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-32-iterators-deep-dive">Day 32: Iterators Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-1/">Higher-Order Functions</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-2/">Function Composition</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-3/">Immutable Data Patterns</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-4/">Functional Error Handling</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-5/">Performance of Functional Style</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-34-advanced-iterator-patterns"
                           />
                    <label class="tree-toggle-label"
                           for="day-34-advanced-iterator-patterns">Day 34: Advanced Iterator Patterns</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-1/">Chain, Zip, Enumerate</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-2/">Flat_map and Filter_map</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-3/">Custom Iterator Implementations</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-4/">Parallel Iterators (Rayon Introduction)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-5/">Iterator Performance Optimization</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-35-functional-programming-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-35-functional-programming-project">Day 35: Functional Programming Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 35/chapter-1/">Functional Programming Project</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-36-unit-testing"
                           />
                    <label class="tree-toggle-label"
                           for="day-36-unit-testing">Day 36: Unit Testing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 36/chapter-1/">Writing Test Functions</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 36/chapter-2/">Assert Macros</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 36/chapter-3/">Test Organization</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 36/chapter-4/">Running Tests with Cargo</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 36/chapter-5/">Test-Driven Development</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-37-integration-testing"
                           />
                    <label class="tree-toggle-label"
                           for="day-37-integration-testing">Day 37: Integration Testing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 37/chapter-1/">Integration Test Structure</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 37/chapter-2/">Testing Public API</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 37/chapter-3/">Test Utilities and Helpers</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 37/chapter-4/">Mocking and Test Doubles</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 37/chapter-5/">Test Data Management</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-38-property-based-testing"
                           />
                    <label class="tree-toggle-label"
                           for="day-38-property-based-testing">Day 38: Property-Based Testing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 38/chapter-1/">QuickCheck Concepts</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 38/chapter-2/">Proptest Library Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 38/chapter-3/">Generating Test Data</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 38/chapter-4/">Property Definition</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 38/chapter-5/">Shrinking and Debugging</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-39-documentation"
                           />
                    <label class="tree-toggle-label"
                           for="day-39-documentation">Day 39: Documentation</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 39/chapter-1/">Writing Documentation Comments</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 39/chapter-2/">Generating Docs with cargo doc</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 39/chapter-3/">Documentation Tests</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 39/chapter-4/">Examples in Documentation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 39/chapter-5/">Documentation Best Practices</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-40-testing-workshop"
                           />
                    <label class="tree-toggle-label"
                           for="day-40-testing-workshop">Day 40: Testing Workshop</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 40/chapter-1/">Comprehensive Testing Exercise</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 40/chapter-3/">Continuous Integration Setup</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 40/chapter-4/">Testing Strategies Discussion</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 40/chapter-2/">Code Coverage Analysis</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-41-thread-basics"
                           />
                    <label class="tree-toggle-label"
                           for="day-41-thread-basics">Day 41: Thread Basics</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 41/chapter-1/">Creating and Joining Threads</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 41/chapter-2/">Thread::spawn Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 41/chapter-3/">Message Passing with Channels</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 41/chapter-4/">Thread Panics and Handling</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 41/chapter-5/">Thread Local Storage</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-42-message-passing"
                           />
                    <label class="tree-toggle-label"
                           for="day-42-message-passing">Day 42: Message Passing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 42/chapter-1/">Channels (mpsc)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 42/chapter-2/">Synchronous vs Asynchronous Channels</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 42/chapter-3/">Multiple Producers, Single Consumer</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 42/chapter-4/">Deadlock Avoidance</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 42/chapter-5/">Channel Patterns and Best Practices</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-43-shared-state-concurrency"
                           />
                    <label class="tree-toggle-label"
                           for="day-43-shared-state-concurrency">Day 43: Shared State Concurrency</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 43/chapter-1/">Mutex and Arc Combination</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 43/chapter-2/">RwLock for Read-Write Access</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 43/chapter-3/">Atomic Types</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 43/chapter-4/">Lock-Free Data Structures</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 43/chapter-5/">Performance Considerations</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-44-parallel-processing"
                           />
                    <label class="tree-toggle-label"
                           for="day-44-parallel-processing">Day 44: Parallel Processing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 44/chapter-1/">Rayon Library Introduction</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 44/chapter-2/">Parallel Iterators</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 44/chapter-3/">Work Stealing</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 44/chapter-4/">Parallel Algorithms</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 44/chapter-5/">When to Use Parallelism</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-45-concurrency-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-45-concurrency-project">Day 45: Concurrency Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 45/chapter-1/">Day 45 (Friday): Concurrency Project</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>

        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <div id="wrap">
            
        <h1 id="custom-error-types-in-rust-comprehensive-documentation-for-beginners">Custom Error Types in Rust: Comprehensive Documentation for Beginners</h1>
<p>Understanding custom error types in Rust is like learning to <strong>design a comprehensive incident reporting system for your vegetarian restaurant</strong> - instead of just saying "something went wrong," you need detailed categories that tell you exactly what type of problem occurred (kitchen issue, customer complaint, supply chain problem, staff shortage), where it happened, why it happened, and what specific actions need to be taken. Just as a professional restaurant manager needs different protocols for different problems, Rust's custom error types allow you to create sophisticated error handling systems that provide rich context, enable appropriate responses, and make debugging and maintenance much more effective.</p>
<h2 id="the-professional-restaurant-incident-management-system-analogy-convenience-store">The Professional Restaurant Incident Management System Analogy üè™</h2>
<h3 id="imagine-you-re-designing-a-complete-error-classification-system-for-your-restaurant">Imagine You're Designing a Complete Error Classification System for Your Restaurant</h3>
<p><strong>The Problem with Generic Errors:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ‚ùå Generic errors - like saying &quot;something went wrong&quot;
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_order_generic</span><span>(</span><span style="color:#bf616a;">order</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>    </span><span style="color:#b48ead;">if</span><span> order.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>        </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Error</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()); </span><span style="color:#a7adba;">// What kind of error?
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">if </span><span>!order.</span><span style="color:#96b5b4;">contains</span><span>(&quot;</span><span style="color:#a3be8c;">$</span><span>&quot;) {
</span><span>        </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Bad input</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()); </span><span style="color:#a7adba;">// Why is it bad?
</span><span>    }
</span><span>
</span><span>    Ok(&quot;</span><span style="color:#a3be8c;">Order processed</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>}
</span></code></pre>
<p><strong>The Power of Custom Error Types - Professional Incident Classification:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ‚úÖ Custom error types - like having detailed incident categories
</span><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>    </span><span style="color:#a7adba;">// Kitchen-related incidents
</span><span>    Kitchen(KitchenError),
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Customer service incidents
</span><span>    CustomerService(CustomerServiceError),
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Supply chain incidents
</span><span>    SupplyChain(SupplyChainError),
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Staff-related incidents
</span><span>    Staff(StaffError),
</span><span>
</span><span>    </span><span style="color:#a7adba;">// System/equipment incidents
</span><span>    System(SystemError),
</span><span>}
</span><span>
</span><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">enum </span><span>KitchenError {
</span><span>    EquipmentFailure { equipment: String, error_code: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    InsufficientIngredients { item: String, needed: </span><span style="color:#b48ead;">u32</span><span>, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    FoodSafety { violation: String, severity: SafetySeverity },
</span><span>    PreparationError { dish: String, step: String, details: String },
</span><span>}
</span><span>
</span><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">enum </span><span>CustomerServiceError {
</span><span>    InvalidOrder { details: String, suggested_fix: String },
</span><span>    PaymentIssue { amount: </span><span style="color:#b48ead;">f64</span><span>, payment_method: String, reason: String },
</span><span>    SpecialRequestUnavailable { request: String, alternatives: Vec&lt;String&gt; },
</span><span>}
</span></code></pre>
<p><strong>Why Custom Error Types Are Superior:</strong></p>
<ul>
<li>üéØ <strong>Precise problem identification</strong> - Know exactly what went wrong</li>
<li>üîß <strong>Targeted solutions</strong> - Different errors need different responses</li>
<li>üìä <strong>Rich context</strong> - Carry all relevant information for debugging</li>
<li>üèóÔ∏è <strong>Structured hierarchy</strong> - Organize errors by domain and severity</li>
<li>üõ°Ô∏è <strong>Type safety</strong> - Compiler ensures you handle all error cases</li>
<li>üìà <strong>Better monitoring</strong> - Track and analyze specific error patterns</li>
</ul>
<h2 id="understanding-custom-error-types-fundamentals">Understanding Custom Error Types Fundamentals</h2>
<h3 id="what-are-custom-error-types">What are Custom Error Types?</h3>
<p>Custom error types are user-defined types that represent specific error conditions in your application:</p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_custom_error_basics</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üèóÔ∏è Custom Error Types Fundamentals - Restaurant Management</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Custom error types provide structure and context to error handling
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üí° Why Custom Error Types Matter:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ üéØ Specific error identification</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ üîß Appropriate error responses</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ üìä Rich debugging information</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ üèóÔ∏è Hierarchical error organization</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ üõ°Ô∏è Compile-time error handling verification</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 1: Simple enum-based custom error
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>OrderError {
</span><span>        EmptyOrder,
</span><span>        InvalidItem(String),
</span><span>        InsufficientStock { item: String, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        PaymentFailed(String),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>OrderError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                OrderError::EmptyOrder =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Order cannot be empty</span><span>&quot;),
</span><span>                OrderError::InvalidItem(item) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Invalid menu item: </span><span style="color:#d08770;">{}</span><span>&quot;, item),
</span><span>                OrderError::InsufficientStock { item, available } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Not enough </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> in stock (available: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;, item, available),
</span><span>                OrderError::PaymentFailed(reason) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Payment failed: </span><span style="color:#d08770;">{}</span><span>&quot;, reason),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Function using custom error type
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_restaurant_order</span><span>(</span><span style="color:#bf616a;">order_data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">payment_info</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, OrderError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> order_data.</span><span style="color:#96b5b4;">trim</span><span>().</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(OrderError::EmptyOrder);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> items: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = order_data.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>        </span><span style="color:#b48ead;">for</span><span> item in &amp;items {
</span><span>            </span><span style="color:#b48ead;">match</span><span> item.</span><span style="color:#96b5b4;">trim</span><span>() {
</span><span>                &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">veggie_burger</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">lentil_soup</span><span>&quot; =&gt; {
</span><span>                    </span><span style="color:#a7adba;">// Check stock (simplified)
</span><span>                    </span><span style="color:#b48ead;">let</span><span> available_stock = </span><span style="color:#d08770;">10</span><span>;
</span><span>                    </span><span style="color:#b48ead;">if</span><span> available_stock &lt; </span><span style="color:#d08770;">1 </span><span>{
</span><span>                        </span><span style="color:#b48ead;">return </span><span>Err(OrderError::InsufficientStock {
</span><span>                            item: item.</span><span style="color:#96b5b4;">trim</span><span>().</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                            available: available_stock,
</span><span>                        });
</span><span>                    }
</span><span>                }
</span><span>                &quot;&quot; =&gt; </span><span style="color:#b48ead;">continue</span><span>,
</span><span>                unknown =&gt; </span><span style="color:#b48ead;">return </span><span>Err(OrderError::InvalidItem(unknown.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> payment_info == &quot;</span><span style="color:#a3be8c;">invalid_card</span><span>&quot; {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(OrderError::PaymentFailed(&quot;</span><span style="color:#a3be8c;">Card declined</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()));
</span><span>        }
</span><span>
</span><span>        Ok(format!(&quot;</span><span style="color:#a3be8c;">Order processed: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> items</span><span>&quot;, items.</span><span style="color:#96b5b4;">len</span><span>()))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 2: Struct-based custom error with additional context
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>DetailedOrderError {
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">error_type</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">order_id</span><span>: Option&lt;String&gt;,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">customer_id</span><span>: Option&lt;String&gt;,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">timestamp</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">details</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">recovery_suggestions</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>DetailedOrderError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>            write!(f, &quot;</span><span style="color:#a3be8c;">[</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">] </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.error_type,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.order_id.</span><span style="color:#96b5b4;">as_deref</span><span>().</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;</span><span style="color:#a3be8c;">Unknown</span><span>&quot;),
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.details)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>DetailedOrderError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">error_type</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">details</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            DetailedOrderError {
</span><span>                error_type: error_type.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                order_id: None,
</span><span>                customer_id: None,
</span><span>                timestamp: &quot;</span><span style="color:#a3be8c;">2024-01-15T14:30:00Z</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#a7adba;">// Simplified
</span><span>                details: details.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                recovery_suggestions: Vec::new(),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_order_id</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">order_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.order_id = Some(order_id.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_suggestions</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">suggestions</span><span>: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.recovery_suggestions = suggestions.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">to_string</span><span>()).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Custom Error Types:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test enum-based errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Enum-based Custom Errors:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_orders = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">quinoa_bowl,veggie_burger</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),  </span><span style="color:#a7adba;">// Valid
</span><span>        (&quot;&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),                           </span><span style="color:#a7adba;">// Empty order
</span><span>        (&quot;</span><span style="color:#a3be8c;">pizza,burger</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),               </span><span style="color:#a7adba;">// Invalid items
</span><span>        (&quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">invalid_card</span><span>&quot;),              </span><span style="color:#a7adba;">// Payment failure
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(order, payment) in test_orders {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_restaurant_order</span><span>(order, payment) {
</span><span>            Ok(result) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Success: </span><span style="color:#d08770;">{}</span><span>&quot;, result),
</span><span>            Err(error) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>                </span><span style="color:#b48ead;">match</span><span> error {
</span><span>                    OrderError::EmptyOrder =&gt; println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Add items to order</span><span>&quot;),
</span><span>                    OrderError::InvalidItem(item) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Choose from menu: quinoa_bowl, veggie_burger, lentil_soup</span><span>&quot;),
</span><span>                    OrderError::InsufficientStock { .. } =&gt; println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Try alternative items or wait for restock</span><span>&quot;),
</span><span>                    OrderError::PaymentFailed(_) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Try different payment method</span><span>&quot;),
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test struct-based errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Struct-based Custom Errors with Rich Context:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> detailed_error = DetailedOrderError::new(&quot;</span><span style="color:#a3be8c;">INVENTORY_ERROR</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Quinoa out of stock</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">with_order_id</span><span>(&quot;</span><span style="color:#a3be8c;">ORD_12345</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">with_suggestions</span><span>(vec![
</span><span>            &quot;</span><span style="color:#a3be8c;">Try veggie burger instead</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">Check availability in 30 minutes</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">Subscribe to restock notifications</span><span>&quot;
</span><span>        ]);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Error Details: </span><span style="color:#d08770;">{}</span><span>&quot;, detailed_error);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Timestamp: </span><span style="color:#d08770;">{}</span><span>&quot;, detailed_error.timestamp);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recovery Options:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> suggestion in &amp;detailed_error.recovery_suggestions {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚Ä¢ </span><span style="color:#d08770;">{}</span><span>&quot;, suggestion);
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Custom Error Types Benefits:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Specific error categorization and handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Rich context and debugging information</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Type-safe error handling at compile time</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Structured error hierarchies for complex systems</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Better error reporting and monitoring capabilities</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_custom_error_basics</span><span>();
</span><span>}
</span></code></pre>
<h3 id="custom-error-type-patterns">Custom Error Type Patterns</h3>
<p><strong>Different approaches to designing custom error types:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_custom_error_patterns</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üé® Custom Error Type Patterns - Restaurant Design Strategies</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 1: Simple Enum Errors (Most Common)
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üîπ Pattern 1: Simple Enum Errors</span><span>&quot;);
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug, PartialEq)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>MenuError {
</span><span>        ItemNotFound,
</span><span>        OutOfStock,
</span><span>        PriceChanged,
</span><span>        CategoryUnavailable(String),
</span><span>        SpecialDietRestriction { requested: String, available: Vec&lt;String&gt; },
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>MenuError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                MenuError::ItemNotFound =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Menu item not found</span><span>&quot;),
</span><span>                MenuError::OutOfStock =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Item is currently out of stock</span><span>&quot;),
</span><span>                MenuError::PriceChanged =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Menu price has been updated</span><span>&quot;),
</span><span>                MenuError::CategoryUnavailable(category) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Menu category &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is not available</span><span>&quot;, category),
</span><span>                MenuError::SpecialDietRestriction { requested, available } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Dietary requirement &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not available. Options: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                           requested, available.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;)),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 2: Hierarchical Enum Errors (Complex Systems)
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîπ Pattern 2: Hierarchical Enum Errors</span><span>&quot;);
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>RestaurantSystemError {
</span><span>        Menu(MenuError),
</span><span>        Kitchen(KitchenError),
</span><span>        Service(ServiceError),
</span><span>        Payment(PaymentError),
</span><span>        System(SystemError),
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>KitchenError {
</span><span>        EquipmentDown { equipment: String, estimated_repair_time: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        StaffShortage { required: </span><span style="color:#b48ead;">u32</span><span>, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        IngredientQuality { ingredient: String, issue: String },
</span><span>        PreparationDelay { dish: String, additional_minutes: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>ServiceError {
</span><span>        TableNotAvailable,
</span><span>        ServerOverloaded { server_id: String, current_tables: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        SpecialRequestComplexity { request: String, difficulty_level: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        WaitTimeExceeded { expected: </span><span style="color:#b48ead;">u32</span><span>, actual: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>PaymentError {
</span><span>        CardDeclined { reason: String, suggested_action: String },
</span><span>        InsufficientFunds { required: </span><span style="color:#b48ead;">f64</span><span>, available: </span><span style="color:#b48ead;">f64 </span><span>},
</span><span>        PaymentProcessorDown { processor: String, eta_minutes: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        InvalidPaymentMethod { method: String, accepted_methods: Vec&lt;String&gt; },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>SystemError {
</span><span>        DatabaseConnection { details: String },
</span><span>        NetworkTimeout { operation: String, timeout_seconds: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        ConfigurationMissing { setting: String },
</span><span>        MemoryLimits { current_usage: </span><span style="color:#b48ead;">u64</span><span>, limit: </span><span style="color:#b48ead;">u64 </span><span>},
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 3: Struct-based Errors with Builder Pattern
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîπ Pattern 3: Struct-based Errors with Rich Context</span><span>&quot;);
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>RestaurantIncident {
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">incident_id</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">severity</span><span>: IncidentSeverity,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">category</span><span>: IncidentCategory,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">title</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">description</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">affected_areas</span><span>: Vec&lt;String&gt;,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">customer_impact</span><span>: CustomerImpact,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">estimated_resolution_time</span><span>: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">workarounds</span><span>: Vec&lt;String&gt;,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">escalation_required</span><span>: </span><span style="color:#b48ead;">bool</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>IncidentSeverity {
</span><span>        Low,
</span><span>        Medium,
</span><span>        High,
</span><span>        Critical,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>IncidentCategory {
</span><span>        Operations,
</span><span>        CustomerService,
</span><span>        Safety,
</span><span>        Equipment,
</span><span>        Staff,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>CustomerImpact {
</span><span>        None,
</span><span>        Minor,
</span><span>        Moderate,
</span><span>        Severe,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>RestaurantIncident {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">incident_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">category</span><span>: IncidentCategory, </span><span style="color:#bf616a;">title</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantIncident {
</span><span>                incident_id: incident_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                severity: IncidentSeverity::Medium,
</span><span>                category,
</span><span>                title: title.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                description: String::new(),
</span><span>                affected_areas: Vec::new(),
</span><span>                customer_impact: CustomerImpact::None,
</span><span>                estimated_resolution_time: None,
</span><span>                workarounds: Vec::new(),
</span><span>                escalation_required: </span><span style="color:#d08770;">false</span><span>,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">severity</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">severity</span><span>: IncidentSeverity) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.severity = severity;
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">description</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">description</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.description = description.</span><span style="color:#96b5b4;">to_string</span><span>();
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">affects</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">areas</span><span>: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.affected_areas = areas.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">to_string</span><span>()).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">customer_impact</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">impact</span><span>: CustomerImpact) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.customer_impact = impact;
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">resolution_time</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">minutes</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.estimated_resolution_time = Some(minutes);
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">workarounds</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">workarounds</span><span>: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.workarounds = workarounds.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">s</span><span>| s.</span><span style="color:#96b5b4;">to_string</span><span>()).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">requires_escalation</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.escalation_required = </span><span style="color:#d08770;">true</span><span>;
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantIncident {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>            write!(f, &quot;</span><span style="color:#a3be8c;">[</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">] </span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;"> - </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.incident_id, </span><span style="color:#bf616a;">self</span><span>.severity, </span><span style="color:#bf616a;">self</span><span>.title, </span><span style="color:#bf616a;">self</span><span>.description)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 4: Error with Automatic Conversion
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîπ Pattern 4: Error Types with Automatic Conversion</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantSystemError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantSystemError::Menu(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Menu error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantSystemError::Kitchen(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Kitchen error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantSystemError::Service(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Service error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantSystemError::Payment(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Payment error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantSystemError::System(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">System error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Automatic conversion from specific errors to general error
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;MenuError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantSystemError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: MenuError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantSystemError::Menu(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;KitchenError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantSystemError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: KitchenError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantSystemError::Kitchen(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;PaymentError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantSystemError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: PaymentError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantSystemError::Payment(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Custom Error Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test simple enum errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Simple Enum Errors:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> menu_errors = [
</span><span>        MenuError::ItemNotFound,
</span><span>        MenuError::OutOfStock,
</span><span>        MenuError::CategoryUnavailable(&quot;</span><span style="color:#a3be8c;">Desserts</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        MenuError::SpecialDietRestriction {
</span><span>            requested: &quot;</span><span style="color:#a3be8c;">Keto</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            available: vec![&quot;</span><span style="color:#a3be8c;">Vegan</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">Gluten-Free</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()],
</span><span>        },
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> error in menu_errors {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test hierarchical errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Hierarchical Error System:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> system_errors = [
</span><span>        RestaurantSystemError::Kitchen(KitchenError::EquipmentDown {
</span><span>            equipment: &quot;</span><span style="color:#a3be8c;">Main Grill</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            estimated_repair_time: </span><span style="color:#d08770;">45</span><span>,
</span><span>        }),
</span><span>        RestaurantSystemError::Payment(PaymentError::CardDeclined {
</span><span>            reason: &quot;</span><span style="color:#a3be8c;">Insufficient funds</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            suggested_action: &quot;</span><span style="color:#a3be8c;">Try a different card</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>        }),
</span><span>        RestaurantSystemError::Service(ServiceError::WaitTimeExceeded {
</span><span>            expected: </span><span style="color:#d08770;">15</span><span>,
</span><span>            actual: </span><span style="color:#d08770;">35</span><span>,
</span><span>        }),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> error in system_errors {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå System Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test struct-based incident
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">3Ô∏è‚É£ Structured Incident Report:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> incident = RestaurantIncident::new(&quot;</span><span style="color:#a3be8c;">INC_001</span><span>&quot;, IncidentCategory::Equipment, &quot;</span><span style="color:#a3be8c;">Freezer Malfunction</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">severity</span><span>(IncidentSeverity::High)
</span><span>        .</span><span style="color:#96b5b4;">description</span><span>(&quot;</span><span style="color:#a3be8c;">Main freezer temperature rising, risk to food safety</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">affects</span><span>(vec![&quot;</span><span style="color:#a3be8c;">Kitchen</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Food Storage</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Menu Availability</span><span>&quot;])
</span><span>        .</span><span style="color:#96b5b4;">customer_impact</span><span>(CustomerImpact::Moderate)
</span><span>        .</span><span style="color:#96b5b4;">resolution_time</span><span>(</span><span style="color:#d08770;">90</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">workarounds</span><span>(vec![
</span><span>            &quot;</span><span style="color:#a3be8c;">Use backup freezer for critical items</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">Limit menu to non-frozen ingredients</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">Expedite repairs with priority service call</span><span>&quot;
</span><span>        ])
</span><span>        .</span><span style="color:#96b5b4;">requires_escalation</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìã Incident Report:</span><span>&quot;);
</span><span>    println!(&quot;     </span><span style="color:#d08770;">{}</span><span>&quot;, incident);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Affected Areas: </span><span style="color:#d08770;">{}</span><span>&quot;, incident.affected_areas.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Customer Impact: </span><span style="color:#d08770;">{:?}</span><span>&quot;, incident.customer_impact);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Resolution ETA: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> minutes</span><span>&quot;, incident.estimated_resolution_time.</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0</span><span>));
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Workarounds Available: </span><span style="color:#d08770;">{}</span><span>&quot;, incident.workarounds.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Escalation Required: </span><span style="color:#d08770;">{}</span><span>&quot;, incident.escalation_required);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Error Pattern Selection Guide:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîπ Simple Enum ‚Üí Few error types, straightforward handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîπ Hierarchical Enum ‚Üí Complex systems, categorized errors</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîπ Rich Structs ‚Üí Detailed context, incident management</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîπ Auto Conversion ‚Üí Layered architecture, error propagation</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_custom_error_patterns</span><span>();
</span><span>}
</span></code></pre>
<h2 id="implementing-standard-traits-for-custom-errors">Implementing Standard Traits for Custom Errors</h2>
<h3 id="making-your-custom-errors-professional">Making Your Custom Errors Professional</h3>
<p><strong>Essential traits that make custom errors work seamlessly with Rust's ecosystem:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_error_traits</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üõ†Ô∏è Implementing Error Traits - Professional Error Standards</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::error::Error;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::fmt;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Professional custom error with all standard traits
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>        </span><span style="color:#a7adba;">// Customer-related errors
</span><span>        Customer {
</span><span>            customer_id: String,
</span><span>            issue: CustomerIssue,
</span><span>        },
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Order processing errors
</span><span>        Order {
</span><span>            order_id: String,
</span><span>            step: OrderProcessingStep,
</span><span>            details: String,
</span><span>        },
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Infrastructure errors
</span><span>        Infrastructure {
</span><span>            component: String,
</span><span>            error_code: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>            message: String,
</span><span>        },
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Business logic errors
</span><span>        BusinessRule {
</span><span>            rule: String,
</span><span>            violation: String,
</span><span>            suggested_action: String,
</span><span>        },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>CustomerIssue {
</span><span>        NotFound,
</span><span>        AccountSuspended(String),
</span><span>        InsufficientCredit(</span><span style="color:#b48ead;">f64</span><span>),
</span><span>        InvalidData(String),
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>OrderProcessingStep {
</span><span>        Validation,
</span><span>        InventoryCheck,
</span><span>        PaymentProcessing,
</span><span>        KitchenPreparation,
</span><span>        Delivery,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement Display trait for user-friendly error messages
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter&lt;&#39;_&gt;) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::Customer { customer_id, issue } =&gt; {
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Customer error for </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id, issue)
</span><span>                }
</span><span>                RestaurantError::Order { order_id, step, details } =&gt; {
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Order </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> failed at </span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, order_id, step, details)
</span><span>                }
</span><span>                RestaurantError::Infrastructure { component, error_code, message } =&gt; {
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Infrastructure error in </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (code </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">): </span><span style="color:#d08770;">{}</span><span>&quot;, component, error_code, message)
</span><span>                }
</span><span>                RestaurantError::BusinessRule { rule, violation, suggested_action } =&gt; {
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Business rule &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; violated: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">. Suggestion: </span><span style="color:#d08770;">{}</span><span>&quot;, rule, violation, suggested_action)
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>CustomerIssue {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter&lt;&#39;_&gt;) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                CustomerIssue::NotFound =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Customer not found in system</span><span>&quot;),
</span><span>                CustomerIssue::AccountSuspended(reason) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Account suspended: </span><span style="color:#d08770;">{}</span><span>&quot;, reason),
</span><span>                CustomerIssue::InsufficientCredit(available) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Insufficient credit (available: $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;">)</span><span>&quot;, available),
</span><span>                CustomerIssue::InvalidData(field) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Invalid data in field: </span><span style="color:#d08770;">{}</span><span>&quot;, field),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement Error trait for integration with error handling ecosystem
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;(dyn Error + </span><span style="color:#b48ead;">&#39;static</span><span>)&gt; {
</span><span>            </span><span style="color:#a7adba;">// Return the underlying error if this error wraps another error
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                </span><span style="color:#a7adba;">// For this example, we don&#39;t have wrapped errors
</span><span>                _ =&gt; None,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">description</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; &amp;</span><span style="color:#b48ead;">str </span><span>{
</span><span>            </span><span style="color:#a7adba;">// Deprecated but sometimes still used
</span><span>            &quot;</span><span style="color:#a3be8c;">RestaurantError</span><span>&quot;
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">cause</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;dyn Error&gt; {
</span><span>            </span><span style="color:#a7adba;">// Deprecated, use source() instead
</span><span>            </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">source</span><span>()
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Advanced error with chained causation
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>DatabaseError {
</span><span>        </span><span style="color:#bf616a;">operation</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">details</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">source_error</span><span>: Option&lt;Box&lt;dyn Error&gt;&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>DatabaseError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter&lt;&#39;_&gt;) -&gt; fmt::Result {
</span><span>            write!(f, &quot;</span><span style="color:#a3be8c;">Database error during &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.operation, </span><span style="color:#bf616a;">self</span><span>.details)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>DatabaseError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;(dyn Error + </span><span style="color:#b48ead;">&#39;static</span><span>)&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.source_error.</span><span style="color:#96b5b4;">as_ref</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">e</span><span>| e.</span><span style="color:#96b5b4;">as_ref</span><span>())
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Error that wraps other errors
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>ServiceError {
</span><span>        Database(DatabaseError),
</span><span>        Network { url: String, status_code: </span><span style="color:#b48ead;">u16 </span><span>},
</span><span>        Configuration { setting: String, issue: String },
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>ServiceError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter&lt;&#39;_&gt;) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                ServiceError::Database(db_err) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Service database error: </span><span style="color:#d08770;">{}</span><span>&quot;, db_err),
</span><span>                ServiceError::Network { url, status_code } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Network error accessing </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: HTTP </span><span style="color:#d08770;">{}</span><span>&quot;, url, status_code),
</span><span>                ServiceError::Configuration { setting, issue } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Configuration error in &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, setting, issue),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>ServiceError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;(dyn Error + </span><span style="color:#b48ead;">&#39;static</span><span>)&gt; {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                ServiceError::Database(db_err) =&gt; Some(db_err),
</span><span>                ServiceError::Network { .. } =&gt; None,
</span><span>                ServiceError::Configuration { .. } =&gt; None,
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;DatabaseError&gt; </span><span style="color:#b48ead;">for </span><span>ServiceError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: DatabaseError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            ServiceError::Database(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Functions that demonstrate error usage
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_customer_order</span><span>(</span><span style="color:#bf616a;">customer_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">order_data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Simulate customer validation
</span><span>        </span><span style="color:#b48ead;">if</span><span> customer_id == &quot;</span><span style="color:#a3be8c;">BANNED_001</span><span>&quot; {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::Customer {
</span><span>                customer_id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                issue: CustomerIssue::AccountSuspended(&quot;</span><span style="color:#a3be8c;">Multiple violations</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            });
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> customer_id == &quot;</span><span style="color:#a3be8c;">UNKNOWN</span><span>&quot; {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::Customer {
</span><span>                customer_id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                issue: CustomerIssue::NotFound,
</span><span>            });
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Simulate order validation
</span><span>        </span><span style="color:#b48ead;">if</span><span> order_data.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::Order {
</span><span>                order_id: &quot;</span><span style="color:#a3be8c;">TEMP_ORDER</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                step: OrderProcessingStep::Validation,
</span><span>                details: &quot;</span><span style="color:#a3be8c;">Order data cannot be empty</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            });
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Simulate business rule validation
</span><span>        </span><span style="color:#b48ead;">if</span><span> order_data.</span><span style="color:#96b5b4;">contains</span><span>(&quot;</span><span style="color:#a3be8c;">alcohol</span><span>&quot;) {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::BusinessRule {
</span><span>                rule: &quot;</span><span style="color:#a3be8c;">No Alcohol Policy</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                violation: &quot;</span><span style="color:#a3be8c;">Alcohol items found in vegetarian restaurant order</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                suggested_action: &quot;</span><span style="color:#a3be8c;">Remove alcohol items or visit our bar separately</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            });
</span><span>        }
</span><span>
</span><span>        Ok(format!(&quot;</span><span style="color:#a3be8c;">Order validated for customer </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">simulate_service_operation</span><span>() -&gt; Result&lt;String, ServiceError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Simulate database error
</span><span>        </span><span style="color:#b48ead;">let</span><span> db_error = DatabaseError {
</span><span>            operation: &quot;</span><span style="color:#a3be8c;">customer_lookup</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            details: &quot;</span><span style="color:#a3be8c;">Connection timeout after 30 seconds</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            source_error: None,
</span><span>        };
</span><span>
</span><span>        Err(ServiceError::Database(db_error))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Error reporting and analysis functions
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">report_error_details</span><span>(</span><span style="color:#bf616a;">error</span><span>: &amp;dyn Error) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   üìã Error Report:</span><span>&quot;);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     Main Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Walk the error chain
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> source = error.</span><span style="color:#96b5b4;">source</span><span>();
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> level = </span><span style="color:#d08770;">1</span><span>;
</span><span>
</span><span>        </span><span style="color:#b48ead;">while let </span><span>Some(err) = source {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     Caused by (level </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">): </span><span style="color:#d08770;">{}</span><span>&quot;, level, err);
</span><span>            source = err.</span><span style="color:#96b5b4;">source</span><span>();
</span><span>            level += </span><span style="color:#d08770;">1</span><span>;
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Debug representation
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     Debug Info: </span><span style="color:#d08770;">{:?}</span><span>&quot;, error);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">categorize_error</span><span>(</span><span style="color:#bf616a;">error</span><span>: &amp;RestaurantError) -&gt; (String, String, </span><span style="color:#b48ead;">u8</span><span>) {
</span><span>        </span><span style="color:#b48ead;">match</span><span> error {
</span><span>            RestaurantError::Customer { .. } =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">Customer Service</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Handle with customer support team</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#a7adba;">// Medium priority
</span><span>            ),
</span><span>            RestaurantError::Order { step, .. } =&gt; {
</span><span>                </span><span style="color:#b48ead;">let</span><span> priority = </span><span style="color:#b48ead;">match</span><span> step {
</span><span>                    OrderProcessingStep::PaymentProcessing =&gt; </span><span style="color:#d08770;">3</span><span>, </span><span style="color:#a7adba;">// High priority
</span><span>                    OrderProcessingStep::KitchenPreparation =&gt; </span><span style="color:#d08770;">3</span><span>,
</span><span>                    _ =&gt; </span><span style="color:#d08770;">2</span><span>,
</span><span>                };
</span><span>                (
</span><span>                    &quot;</span><span style="color:#a3be8c;">Operations</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Review order processing workflow</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    priority,
</span><span>                )
</span><span>            }
</span><span>            RestaurantError::Infrastructure { .. } =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">Technical</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Escalate to IT team immediately</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">4</span><span>, </span><span style="color:#a7adba;">// Critical priority
</span><span>            ),
</span><span>            RestaurantError::BusinessRule { .. } =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">Business Logic</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Review business rules and customer communication</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#a7adba;">// Low priority
</span><span>            ),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Custom Error Traits:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test restaurant error scenarios
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Restaurant Error Scenarios:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_scenarios = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl,veggie_burger</span><span>&quot;),    </span><span style="color:#a7adba;">// Valid
</span><span>        (&quot;</span><span style="color:#a3be8c;">BANNED_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">lentil_soup</span><span>&quot;),                </span><span style="color:#a7adba;">// Suspended account
</span><span>        (&quot;</span><span style="color:#a3be8c;">UNKNOWN</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">pasta</span><span>&quot;),                         </span><span style="color:#a7adba;">// Customer not found
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_002</span><span>&quot;, &quot;&quot;),                            </span><span style="color:#a7adba;">// Empty order
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_003</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">wine,quinoa_bowl</span><span>&quot;),            </span><span style="color:#a7adba;">// Business rule violation
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(customer_id, order_data) in test_scenarios {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Testing: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ordering &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, customer_id, order_data);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">validate_customer_order</span><span>(customer_id, order_data) {
</span><span>            Ok(result) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Success: </span><span style="color:#d08770;">{}</span><span>&quot;, result);
</span><span>            }
</span><span>            Err(error) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚ùå Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>
</span><span>                </span><span style="color:#a7adba;">// Demonstrate error categorization
</span><span>                </span><span style="color:#b48ead;">let </span><span>(category, action, priority) = </span><span style="color:#96b5b4;">categorize_error</span><span>(&amp;error);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     üìä Category: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (Priority: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;, category, priority);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     üîß Action: </span><span style="color:#d08770;">{}</span><span>&quot;, action);
</span><span>
</span><span>                </span><span style="color:#a7adba;">// Demonstrate error chain reporting
</span><span>                </span><span style="color:#96b5b4;">report_error_details</span><span>(&amp;error);
</span><span>            }
</span><span>        }
</span><span>        println!();
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test service error with chained causation
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Service Error with Error Chain:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">simulate_service_operation</span><span>() {
</span><span>        Ok(result) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Service Success: </span><span style="color:#d08770;">{}</span><span>&quot;, result),
</span><span>        Err(error) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Service Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>            </span><span style="color:#96b5b4;">report_error_details</span><span>(&amp;error);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Demonstrate error trait benefits
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Error Traits Benefits:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Display trait ‚Üí User-friendly error messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Debug trait ‚Üí Detailed debugging information</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Error trait ‚Üí Integration with error handling ecosystem</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ From trait ‚Üí Automatic error conversion</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Source chaining ‚Üí Track root causes through error chains</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí° Professional Error Design:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üéØ Implement Display for end-user messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîç Implement Debug for developer debugging</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîó Implement Error trait for ecosystem integration</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Use From trait for automatic conversions</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìã Include rich context in error variants</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üé≠ Design error hierarchies that match your domain</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_error_traits</span><span>();
</span><span>}
</span></code></pre>
<h2 id="error-conversion-and-the-from-trait">Error Conversion and the From Trait</h2>
<h3 id="building-seamless-error-propagation-systems">Building Seamless Error Propagation Systems</h3>
<p><strong>Creating automatic error conversion systems for complex restaurant operations:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_error_conversion</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üîÑ Error Conversion with From Trait - Seamless Error Flow</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::fmt;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::error::Error;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Different subsystem errors that need to be unified
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>DatabaseError {
</span><span>        ConnectionFailed(String),
</span><span>        QueryTimeout,
</span><span>        DataCorruption { table: String, details: String },
</span><span>        PermissionDenied(String),
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>PaymentProcessorError {
</span><span>        NetworkError(String),
</span><span>        InvalidCredentials,
</span><span>        TransactionDeclined { reason: String, code: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        ServiceUnavailable { eta_minutes: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>InventorySystemError {
</span><span>        ItemNotFound(String),
</span><span>        StockLevelError { item: String, expected: </span><span style="color:#b48ead;">u32</span><span>, actual: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        SupplierCommunicationError(String),
</span><span>        InventoryLocked(String),
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>ValidationError {
</span><span>        MissingField(String),
</span><span>        InvalidFormat { field: String, expected: String, got: String },
</span><span>        OutOfRange { field: String, min: </span><span style="color:#b48ead;">f64</span><span>, max: </span><span style="color:#b48ead;">f64</span><span>, value: </span><span style="color:#b48ead;">f64 </span><span>},
</span><span>        BusinessRuleViolation { rule: String, details: String },
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Main application error that consolidates all subsystem errors
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>RestaurantOperationError {
</span><span>        Database(DatabaseError),
</span><span>        Payment(PaymentProcessorError),
</span><span>        Inventory(InventorySystemError),
</span><span>        Validation(ValidationError),
</span><span>        BusinessLogic { operation: String, details: String },
</span><span>        ExternalService { service: String, error: String },
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement Display for all error types
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>DatabaseError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                DatabaseError::ConnectionFailed(details) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Database connection failed: </span><span style="color:#d08770;">{}</span><span>&quot;, details),
</span><span>                DatabaseError::QueryTimeout =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Database query timed out</span><span>&quot;),
</span><span>                DatabaseError::DataCorruption { table, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Data corruption in table &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, table, details),
</span><span>                DatabaseError::PermissionDenied(operation) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Permission denied for database operation: </span><span style="color:#d08770;">{}</span><span>&quot;, operation),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>PaymentProcessorError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                PaymentProcessorError::NetworkError(details) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Payment network error: </span><span style="color:#d08770;">{}</span><span>&quot;, details),
</span><span>                PaymentProcessorError::InvalidCredentials =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Invalid payment processor credentials</span><span>&quot;),
</span><span>                PaymentProcessorError::TransactionDeclined { reason, code } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Transaction declined (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">): </span><span style="color:#d08770;">{}</span><span>&quot;, code, reason),
</span><span>                PaymentProcessorError::ServiceUnavailable { eta_minutes } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Payment service unavailable (ETA: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> minutes)</span><span>&quot;, eta_minutes),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>InventorySystemError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                InventorySystemError::ItemNotFound(item) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Inventory item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found</span><span>&quot;, item),
</span><span>                InventorySystemError::StockLevelError { item, expected, actual } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Stock level mismatch for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: expected </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, found </span><span style="color:#d08770;">{}</span><span>&quot;, item, expected, actual),
</span><span>                InventorySystemError::SupplierCommunicationError(details) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Supplier communication error: </span><span style="color:#d08770;">{}</span><span>&quot;, details),
</span><span>                InventorySystemError::InventoryLocked(reason) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Inventory system locked: </span><span style="color:#d08770;">{}</span><span>&quot;, reason),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>ValidationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                ValidationError::MissingField(field) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Missing required field: </span><span style="color:#d08770;">{}</span><span>&quot;, field),
</span><span>                ValidationError::InvalidFormat { field, expected, got } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Invalid format for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: expected </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, got </span><span style="color:#d08770;">{}</span><span>&quot;, field, expected, got),
</span><span>                ValidationError::OutOfRange { field, min, max, value } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Value </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; out of range [</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">]</span><span>&quot;, value, field, min, max),
</span><span>                ValidationError::BusinessRuleViolation { rule, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Business rule &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; violated: </span><span style="color:#d08770;">{}</span><span>&quot;, rule, details),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantOperationError::Database(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Database error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantOperationError::Payment(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Payment error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantOperationError::Inventory(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Inventory error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantOperationError::Validation(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Validation error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantOperationError::BusinessLogic { operation, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Business logic error in &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, operation, details),
</span><span>                RestaurantOperationError::ExternalService { service, error } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">External service &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; error: </span><span style="color:#d08770;">{}</span><span>&quot;, service, error),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement Error trait for all error types
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>DatabaseError {}
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>PaymentProcessorError {}
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>InventorySystemError {}
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>ValidationError {}
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;(dyn Error + </span><span style="color:#b48ead;">&#39;static</span><span>)&gt; {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantOperationError::Database(e) =&gt; Some(e),
</span><span>                RestaurantOperationError::Payment(e) =&gt; Some(e),
</span><span>                RestaurantOperationError::Inventory(e) =&gt; Some(e),
</span><span>                RestaurantOperationError::Validation(e) =&gt; Some(e),
</span><span>                _ =&gt; None,
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement From trait for automatic error conversion
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;DatabaseError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: DatabaseError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantOperationError::Database(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;PaymentProcessorError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: PaymentProcessorError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantOperationError::Payment(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;InventorySystemError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: InventorySystemError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantOperationError::Inventory(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;ValidationError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: ValidationError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantOperationError::Validation(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Convert from standard library errors
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;std::num::ParseIntError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: std::num::ParseIntError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantOperationError::Validation(ValidationError::InvalidFormat {
</span><span>                field: &quot;</span><span style="color:#a3be8c;">numeric_field</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                expected: &quot;</span><span style="color:#a3be8c;">integer</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                got: error.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            })
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;std::num::ParseFloatError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantOperationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: std::num::ParseFloatError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantOperationError::Validation(ValidationError::InvalidFormat {
</span><span>                field: &quot;</span><span style="color:#a3be8c;">numeric_field</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                expected: &quot;</span><span style="color:#a3be8c;">float</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                got: error.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            })
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Subsystem operations that return specific error types
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">lookup_customer_in_database</span><span>(</span><span style="color:#bf616a;">customer_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;CustomerData, DatabaseError&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> customer_id {
</span><span>            &quot;</span><span style="color:#a3be8c;">DB_TIMEOUT</span><span>&quot; =&gt; Err(DatabaseError::QueryTimeout),
</span><span>            &quot;</span><span style="color:#a3be8c;">DB_CORRUPT</span><span>&quot; =&gt; Err(DatabaseError::DataCorruption {
</span><span>                table: &quot;</span><span style="color:#a3be8c;">customers</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                details: &quot;</span><span style="color:#a3be8c;">Primary key corruption detected</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            }),
</span><span>            &quot;</span><span style="color:#a3be8c;">DB_PERMISSION</span><span>&quot; =&gt; Err(DatabaseError::PermissionDenied(&quot;</span><span style="color:#a3be8c;">customer_read</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            &quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot; =&gt; Ok(CustomerData {
</span><span>                id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                name: &quot;</span><span style="color:#a3be8c;">Alice Johnson</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                credit_limit: </span><span style="color:#d08770;">500.0</span><span>,
</span><span>            }),
</span><span>            _ =&gt; Err(DatabaseError::ConnectionFailed(&quot;</span><span style="color:#a3be8c;">Unknown customer ID</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_inventory_availability</span><span>(</span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;(), InventorySystemError&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> item {
</span><span>            &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot; =&gt; {
</span><span>                </span><span style="color:#b48ead;">if</span><span> quantity &lt;= </span><span style="color:#d08770;">20 </span><span>{
</span><span>                    Ok(())
</span><span>                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                    Err(InventorySystemError::StockLevelError {
</span><span>                        item: item.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        expected: quantity,
</span><span>                        actual: </span><span style="color:#d08770;">20</span><span>,
</span><span>                    })
</span><span>                }
</span><span>            }
</span><span>            &quot;</span><span style="color:#a3be8c;">locked_item</span><span>&quot; =&gt; Err(InventorySystemError::InventoryLocked(&quot;</span><span style="color:#a3be8c;">System maintenance</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            &quot;</span><span style="color:#a3be8c;">missing_item</span><span>&quot; =&gt; Err(InventorySystemError::ItemNotFound(item.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            _ =&gt; Ok(()),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_payment</span><span>(</span><span style="color:#bf616a;">amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">card_info</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, PaymentProcessorError&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> card_info {
</span><span>            &quot;</span><span style="color:#a3be8c;">declined_card</span><span>&quot; =&gt; Err(PaymentProcessorError::TransactionDeclined {
</span><span>                reason: &quot;</span><span style="color:#a3be8c;">Insufficient funds</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                code: </span><span style="color:#d08770;">4001</span><span>,
</span><span>            }),
</span><span>            &quot;</span><span style="color:#a3be8c;">network_error</span><span>&quot; =&gt; Err(PaymentProcessorError::NetworkError(&quot;</span><span style="color:#a3be8c;">Timeout</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            &quot;</span><span style="color:#a3be8c;">service_down</span><span>&quot; =&gt; Err(PaymentProcessorError::ServiceUnavailable { eta_minutes: </span><span style="color:#d08770;">15 </span><span>}),
</span><span>            &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot; =&gt; Ok(format!(&quot;</span><span style="color:#a3be8c;">Payment of $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> processed</span><span>&quot;, amount)),
</span><span>            _ =&gt; Err(PaymentProcessorError::InvalidCredentials),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_order_data</span><span>(</span><span style="color:#bf616a;">order_data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;ParsedOrder, ValidationError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> order_data.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(ValidationError::MissingField(&quot;</span><span style="color:#a3be8c;">order_data</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()));
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = order_data.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>        </span><span style="color:#b48ead;">if</span><span> parts.</span><span style="color:#96b5b4;">len</span><span>() != </span><span style="color:#d08770;">3 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(ValidationError::InvalidFormat {
</span><span>                field: &quot;</span><span style="color:#a3be8c;">order_format</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                expected: &quot;</span><span style="color:#a3be8c;">item,quantity,price</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                got: order_data.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            });
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> quantity: </span><span style="color:#b48ead;">u32 </span><span>= parts[</span><span style="color:#d08770;">1</span><span>].</span><span style="color:#96b5b4;">parse</span><span>()?; </span><span style="color:#a7adba;">// This will auto-convert ParseIntError
</span><span>        </span><span style="color:#b48ead;">let</span><span> price: </span><span style="color:#b48ead;">f64 </span><span>= parts[</span><span style="color:#d08770;">2</span><span>].</span><span style="color:#96b5b4;">parse</span><span>()?;    </span><span style="color:#a7adba;">// This will auto-convert ParseFloatError
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> quantity == </span><span style="color:#d08770;">0 </span><span>|| quantity &gt; </span><span style="color:#d08770;">100 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(ValidationError::OutOfRange {
</span><span>                field: &quot;</span><span style="color:#a3be8c;">quantity</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                min: </span><span style="color:#d08770;">1.0</span><span>,
</span><span>                max: </span><span style="color:#d08770;">100.0</span><span>,
</span><span>                value: quantity as </span><span style="color:#b48ead;">f64</span><span>,
</span><span>            });
</span><span>        }
</span><span>
</span><span>        Ok(ParsedOrder {
</span><span>            item: parts[</span><span style="color:#d08770;">0</span><span>].</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            quantity,
</span><span>            price,
</span><span>        })
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>CustomerData {
</span><span>        </span><span style="color:#bf616a;">id</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">credit_limit</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ParsedOrder {
</span><span>        </span><span style="color:#bf616a;">item</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Main business logic that uses ? operator with automatic error conversion
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_complete_restaurant_order</span><span>(
</span><span>        </span><span style="color:#bf616a;">customer_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">order_data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">card_info</span><span>: &amp;</span><span style="color:#b48ead;">str
</span><span>    ) -&gt; Result&lt;String, RestaurantOperationError&gt; {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   üìã Processing order for customer: </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Each ? automatically converts the specific error to RestaurantOperationError
</span><span>        </span><span style="color:#b48ead;">let</span><span> customer = </span><span style="color:#96b5b4;">lookup_customer_in_database</span><span>(customer_id)?;  </span><span style="color:#a7adba;">// DatabaseError ‚Üí RestaurantOperationError
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Customer loaded: </span><span style="color:#d08770;">{}</span><span>&quot;, customer.name);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> parsed_order = </span><span style="color:#96b5b4;">validate_order_data</span><span>(order_data)?;       </span><span style="color:#a7adba;">// ValidationError ‚Üí RestaurantOperationError
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Order validated: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span>&quot;, parsed_order.quantity, parsed_order.item);
</span><span>
</span><span>        </span><span style="color:#96b5b4;">check_inventory_availability</span><span>(&amp;parsed_order.item, parsed_order.quantity)?; </span><span style="color:#a7adba;">// InventorySystemError ‚Üí RestaurantOperationError
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Inventory check passed</span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> total_amount = parsed_order.price * parsed_order.quantity as </span><span style="color:#b48ead;">f64</span><span>;
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Business rule validation
</span><span>        </span><span style="color:#b48ead;">if</span><span> total_amount &gt; customer.credit_limit {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantOperationError::BusinessLogic {
</span><span>                operation: &quot;</span><span style="color:#a3be8c;">credit_check</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                details: format!(&quot;</span><span style="color:#a3be8c;">Order total $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> exceeds credit limit $</span><span style="color:#d08770;">{:.2}</span><span>&quot;,
</span><span>                                total_amount, customer.credit_limit),
</span><span>            });
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> payment_result = </span><span style="color:#96b5b4;">process_payment</span><span>(total_amount, card_info)?; </span><span style="color:#a7adba;">// PaymentProcessorError ‚Üí RestaurantOperationError
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Payment processed: </span><span style="color:#d08770;">{}</span><span>&quot;, payment_result);
</span><span>
</span><span>        Ok(format!(
</span><span>            &quot;</span><span style="color:#a3be8c;">Order completed for </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> @ $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> each = $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> total</span><span>&quot;,
</span><span>            customer.name,
</span><span>            parsed_order.quantity,
</span><span>            parsed_order.item,
</span><span>            parsed_order.price,
</span><span>            total_amount
</span><span>        ))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Error analysis helper
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">analyze_error_source</span><span>(</span><span style="color:#bf616a;">error</span><span>: &amp;RestaurantOperationError) -&gt; (String, String, </span><span style="color:#b48ead;">u8</span><span>) {
</span><span>        </span><span style="color:#b48ead;">match</span><span> error {
</span><span>            RestaurantOperationError::Database(_) =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">Infrastructure</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Check database connectivity and server status</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">4</span><span>, </span><span style="color:#a7adba;">// Critical
</span><span>            ),
</span><span>            RestaurantOperationError::Payment(_) =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">External Service</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Retry payment or offer alternative payment methods</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">3</span><span>, </span><span style="color:#a7adba;">// High
</span><span>            ),
</span><span>            RestaurantOperationError::Inventory(_) =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">Operations</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Update inventory or suggest alternatives</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#a7adba;">// Medium
</span><span>            ),
</span><span>            RestaurantOperationError::Validation(_) =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">User Input</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Guide user to correct input format</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">1</span><span>, </span><span style="color:#a7adba;">// Low
</span><span>            ),
</span><span>            RestaurantOperationError::BusinessLogic { .. } =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">Business Rules</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Review business rules or offer customer solutions</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">2</span><span>, </span><span style="color:#a7adba;">// Medium
</span><span>            ),
</span><span>            RestaurantOperationError::ExternalService { .. } =&gt; (
</span><span>                &quot;</span><span style="color:#a3be8c;">External Dependency</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                &quot;</span><span style="color:#a3be8c;">Check external service status and implement fallbacks</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                </span><span style="color:#d08770;">3</span><span>, </span><span style="color:#a7adba;">// High
</span><span>            ),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Error Conversion System:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_scenarios = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa,5,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),        </span><span style="color:#a7adba;">// Success case
</span><span>        (&quot;</span><span style="color:#a3be8c;">DB_TIMEOUT</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa,2,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),     </span><span style="color:#a7adba;">// Database error
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa,abc,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),     </span><span style="color:#a7adba;">// Validation error (parse)
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa,150,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),     </span><span style="color:#a7adba;">// Validation error (range)
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">missing_item,2,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;), </span><span style="color:#a7adba;">// Inventory error
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa,2,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">declined_card</span><span>&quot;),    </span><span style="color:#a7adba;">// Payment error
</span><span>        (&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa,50,15.99</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">valid_card</span><span>&quot;),      </span><span style="color:#a7adba;">// Business logic error
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(customer_id, order_data, card_info) in test_scenarios {
</span><span>        println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîç Testing: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ordering &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; with </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id, order_data, card_info);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_complete_restaurant_order</span><span>(customer_id, order_data, card_info) {
</span><span>            Ok(confirmation) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   üéâ SUCCESS: </span><span style="color:#d08770;">{}</span><span>&quot;, confirmation);
</span><span>            }
</span><span>            Err(error) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   üí• FAILED: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>
</span><span>                </span><span style="color:#b48ead;">let </span><span>(category, suggestion, priority) = </span><span style="color:#96b5b4;">analyze_error_source</span><span>(&amp;error);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   üìä Error Analysis:</span><span>&quot;);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     Category: </span><span style="color:#d08770;">{}</span><span>&quot;, category);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     Priority: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">/4</span><span>&quot;, priority);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     Suggestion: </span><span style="color:#d08770;">{}</span><span>&quot;, suggestion);
</span><span>
</span><span>                </span><span style="color:#a7adba;">// Show error chain
</span><span>                </span><span style="color:#b48ead;">if let </span><span>Some(source) = error.</span><span style="color:#96b5b4;">source</span><span>() {
</span><span>                    println!(&quot;</span><span style="color:#a3be8c;">     Root Cause: </span><span style="color:#d08770;">{}</span><span>&quot;, source);
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Error Conversion Benefits:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Automatic error type conversion with From trait</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Clean ? operator usage across different subsystems</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Unified error handling at application boundaries</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Preserves specific error context and information</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Enables systematic error analysis and response</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí° From Trait Implementation Tips:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Implement From&lt;SpecificError&gt; for UnifiedError</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üéØ Preserve error context during conversion</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîó Chain errors to maintain causation information</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìä Design error hierarchies that match your architecture</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚ö° Use ? operator for clean error propagation</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_error_conversion</span><span>();
</span><span>}
</span></code></pre>
<h2 id="advanced-custom-error-patterns">Advanced Custom Error Patterns</h2>
<h3 id="professional-error-management-systems">Professional Error Management Systems</h3>
<p><strong>Building sophisticated error handling for complex restaurant operations:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_advanced_error_patterns</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üöÄ Advanced Custom Error Patterns - Enterprise Restaurant Systems</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;70}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::fmt;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::error::Error;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 1: Error Context with Stack Traces
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ErrorContext {
</span><span>        </span><span style="color:#bf616a;">operation</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">location</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">timestamp</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">correlation_id</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">additional_data</span><span>: HashMap&lt;String, String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ErrorContext {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">operation</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">location</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            ErrorContext {
</span><span>                operation: operation.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                location: location.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                timestamp: &quot;</span><span style="color:#a3be8c;">2024-01-15T14:30:00Z</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#a7adba;">// Simplified
</span><span>                correlation_id: format!(&quot;</span><span style="color:#a3be8c;">REQ_</span><span style="color:#d08770;">{}</span><span>&quot;, rand::random::&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;()),
</span><span>                additional_data: HashMap::new(),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_data</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">key</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">value</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.additional_data.</span><span style="color:#96b5b4;">insert</span><span>(key.</span><span style="color:#96b5b4;">to_string</span><span>(), value.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Mock random function
</span><span>    </span><span style="color:#b48ead;">mod </span><span>rand {
</span><span>        </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">random</span><span>&lt;T: From&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;&gt;() -&gt; T {
</span><span>            T::from(</span><span style="color:#d08770;">12345</span><span>) </span><span style="color:#a7adba;">// Simplified for demo
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ContextualError {
</span><span>        </span><span style="color:#bf616a;">error_type</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">message</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">context</span><span>: ErrorContext,
</span><span>        </span><span style="color:#bf616a;">source_error</span><span>: Option&lt;Box&lt;dyn Error&gt;&gt;,
</span><span>        </span><span style="color:#bf616a;">severity</span><span>: ErrorSeverity,
</span><span>        </span><span style="color:#bf616a;">recoverable</span><span>: </span><span style="color:#b48ead;">bool</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>ErrorSeverity {
</span><span>        Info,
</span><span>        Warning,
</span><span>        Error,
</span><span>        Critical,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>ContextualError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            write!(f, &quot;</span><span style="color:#a3be8c;">[</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">] </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> in </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.context.correlation_id,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.error_type,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.context.operation,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.message)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>ContextualError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;(dyn Error + </span><span style="color:#b48ead;">&#39;static</span><span>)&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.source_error.</span><span style="color:#96b5b4;">as_ref</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">e</span><span>| e.</span><span style="color:#96b5b4;">as_ref</span><span>())
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ContextualError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">error_type</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">message</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">context</span><span>: ErrorContext) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            ContextualError {
</span><span>                error_type: error_type.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                message: message.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                context,
</span><span>                source_error: None,
</span><span>                severity: ErrorSeverity::Error,
</span><span>                recoverable: </span><span style="color:#d08770;">false</span><span>,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">severity</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">severity</span><span>: ErrorSeverity) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.severity = severity;
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">recoverable</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.recoverable = </span><span style="color:#d08770;">true</span><span>;
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">caused_by</span><span>&lt;E: Error + </span><span style="color:#b48ead;">&#39;static</span><span>&gt;(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">source</span><span>: E) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.source_error = Some(Box::new(source));
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 2: Error Registry with Error Codes
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug, Clone)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ErrorDefinition {
</span><span>        </span><span style="color:#bf616a;">code</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">category</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">title</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">description</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">suggested_actions</span><span>: Vec&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">documentation_url</span><span>: Option&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ErrorRegistry {
</span><span>        </span><span style="color:#bf616a;">errors</span><span>: HashMap&lt;String, ErrorDefinition&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ErrorRegistry {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> registry = ErrorRegistry {
</span><span>                errors: HashMap::new(),
</span><span>            };
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Register restaurant-specific errors
</span><span>            registry.</span><span style="color:#96b5b4;">register</span><span>(&quot;</span><span style="color:#a3be8c;">MENU_001</span><span>&quot;, ErrorDefinition {
</span><span>                code: &quot;</span><span style="color:#a3be8c;">MENU_001</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                category: &quot;</span><span style="color:#a3be8c;">Menu Management</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                title: &quot;</span><span style="color:#a3be8c;">Menu Item Not Available</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                description: &quot;</span><span style="color:#a3be8c;">The requested menu item is not currently available</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                suggested_actions: vec![
</span><span>                    &quot;</span><span style="color:#a3be8c;">Check alternative items in the same category</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Contact kitchen for availability updates</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Offer substitutions to customer</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                ],
</span><span>                documentation_url: Some(&quot;</span><span style="color:#a3be8c;">https://docs.restaurant.com/menu/unavailable-items</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            });
</span><span>
</span><span>            registry.</span><span style="color:#96b5b4;">register</span><span>(&quot;</span><span style="color:#a3be8c;">PAY_001</span><span>&quot;, ErrorDefinition {
</span><span>                code: &quot;</span><span style="color:#a3be8c;">PAY_001</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                category: &quot;</span><span style="color:#a3be8c;">Payment Processing</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                title: &quot;</span><span style="color:#a3be8c;">Payment Authorization Failed</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                description: &quot;</span><span style="color:#a3be8c;">Payment could not be authorized by the payment processor</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                suggested_actions: vec![
</span><span>                    &quot;</span><span style="color:#a3be8c;">Verify card details with customer</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Try alternative payment method</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Contact payment processor if issue persists</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                ],
</span><span>                documentation_url: Some(&quot;</span><span style="color:#a3be8c;">https://docs.restaurant.com/payment/authorization-errors</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            });
</span><span>
</span><span>            registry.</span><span style="color:#96b5b4;">register</span><span>(&quot;</span><span style="color:#a3be8c;">INV_001</span><span>&quot;, ErrorDefinition {
</span><span>                code: &quot;</span><span style="color:#a3be8c;">INV_001</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                category: &quot;</span><span style="color:#a3be8c;">Inventory Management</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                title: &quot;</span><span style="color:#a3be8c;">Insufficient Stock</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                description: &quot;</span><span style="color:#a3be8c;">Not enough inventory to fulfill the order</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                suggested_actions: vec![
</span><span>                    &quot;</span><span style="color:#a3be8c;">Check supplier delivery schedule</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Offer similar items with available stock</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    &quot;</span><span style="color:#a3be8c;">Update menu availability status</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                ],
</span><span>                documentation_url: None,
</span><span>            });
</span><span>
</span><span>            registry
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">register</span><span>(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">code</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">definition</span><span>: ErrorDefinition) {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.errors.</span><span style="color:#96b5b4;">insert</span><span>(code.</span><span style="color:#96b5b4;">to_string</span><span>(), definition);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_definition</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">code</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;&amp;ErrorDefinition&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.errors.</span><span style="color:#96b5b4;">get</span><span>(code)
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">create_error</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">code</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">context</span><span>: ErrorContext) -&gt; Option&lt;CatalogError&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_definition</span><span>(code).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">def</span><span>| {
</span><span>                CatalogError {
</span><span>                    definition: def.</span><span style="color:#96b5b4;">clone</span><span>(),
</span><span>                    context,
</span><span>                    additional_details: HashMap::new(),
</span><span>                }
</span><span>            })
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>CatalogError {
</span><span>        </span><span style="color:#bf616a;">definition</span><span>: ErrorDefinition,
</span><span>        </span><span style="color:#bf616a;">context</span><span>: ErrorContext,
</span><span>        </span><span style="color:#bf616a;">additional_details</span><span>: HashMap&lt;String, String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>CatalogError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            write!(f, &quot;</span><span style="color:#a3be8c;">[</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">] </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.definition.code,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.definition.title,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.definition.description)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>CatalogError {}
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>CatalogError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_detail</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">key</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">value</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.additional_details.</span><span style="color:#96b5b4;">insert</span><span>(key.</span><span style="color:#96b5b4;">to_string</span><span>(), value.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_suggested_actions</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; &amp;Vec&lt;String&gt; {
</span><span>            &amp;</span><span style="color:#bf616a;">self</span><span>.definition.suggested_actions
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 3: Error Metrics and Monitoring
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ErrorMetrics {
</span><span>        </span><span style="color:#bf616a;">error_count</span><span>: HashMap&lt;String, </span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">error_rate</span><span>: HashMap&lt;String, </span><span style="color:#b48ead;">f64</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">last_occurrence</span><span>: HashMap&lt;String, String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ErrorMetrics {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            ErrorMetrics {
</span><span>                error_count: HashMap::new(),
</span><span>                error_rate: HashMap::new(),
</span><span>                last_occurrence: HashMap::new(),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">record_error</span><span>(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">error_type</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) {
</span><span>            *</span><span style="color:#bf616a;">self</span><span>.error_count.</span><span style="color:#96b5b4;">entry</span><span>(error_type.</span><span style="color:#96b5b4;">to_string</span><span>()).</span><span style="color:#96b5b4;">or_insert</span><span>(</span><span style="color:#d08770;">0</span><span>) += </span><span style="color:#d08770;">1</span><span>;
</span><span>            </span><span style="color:#bf616a;">self</span><span>.last_occurrence.</span><span style="color:#96b5b4;">insert</span><span>(error_type.</span><span style="color:#96b5b4;">to_string</span><span>(), &quot;</span><span style="color:#a3be8c;">2024-01-15T14:30:00Z</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Calculate error rate (simplified)
</span><span>            </span><span style="color:#b48ead;">let</span><span> count = </span><span style="color:#bf616a;">self</span><span>.error_count[error_type];
</span><span>            </span><span style="color:#bf616a;">self</span><span>.error_rate.</span><span style="color:#96b5b4;">insert</span><span>(error_type.</span><span style="color:#96b5b4;">to_string</span><span>(), count as </span><span style="color:#b48ead;">f64 </span><span>/ </span><span style="color:#d08770;">100.0</span><span>);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_error_summary</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Vec&lt;(String, </span><span style="color:#b48ead;">u32</span><span>, </span><span style="color:#b48ead;">f64</span><span>)&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.error_count.</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">error_type</span><span>, &amp;</span><span style="color:#bf616a;">count</span><span>)| {
</span><span>                    </span><span style="color:#b48ead;">let</span><span> rate = </span><span style="color:#bf616a;">self</span><span>.error_rate.</span><span style="color:#96b5b4;">get</span><span>(error_type).</span><span style="color:#96b5b4;">copied</span><span>().</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>);
</span><span>                    (error_type.</span><span style="color:#96b5b4;">clone</span><span>(), count, rate)
</span><span>                })
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">is_error_trending_up</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">error_type</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>            </span><span style="color:#a7adba;">// Simplified trend analysis
</span><span>            </span><span style="color:#bf616a;">self</span><span>.error_rate.</span><span style="color:#96b5b4;">get</span><span>(error_type).</span><span style="color:#96b5b4;">map</span><span>(|&amp;</span><span style="color:#bf616a;">rate</span><span>| rate &gt; </span><span style="color:#d08770;">0.05</span><span>).</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">false</span><span>)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 4: Composite Error with Multiple Failures
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>BatchProcessingError {
</span><span>        </span><span style="color:#bf616a;">operation</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">total_items</span><span>: </span><span style="color:#b48ead;">usize</span><span>,
</span><span>        </span><span style="color:#bf616a;">successful_items</span><span>: </span><span style="color:#b48ead;">usize</span><span>,
</span><span>        </span><span style="color:#bf616a;">failed_items</span><span>: Vec&lt;(</span><span style="color:#b48ead;">usize</span><span>, Box&lt;dyn Error&gt;)&gt;,
</span><span>        </span><span style="color:#bf616a;">partial_success</span><span>: </span><span style="color:#b48ead;">bool</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>BatchProcessingError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            write!(f, &quot;</span><span style="color:#a3be8c;">Batch processing &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; completed with </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">/</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> successes</span><span>&quot;,
</span><span>                   </span><span style="color:#bf616a;">self</span><span>.operation, </span><span style="color:#bf616a;">self</span><span>.successful_items, </span><span style="color:#bf616a;">self</span><span>.total_items)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>BatchProcessingError {}
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>BatchProcessingError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">operation</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">total_items</span><span>: </span><span style="color:#b48ead;">usize</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            BatchProcessingError {
</span><span>                operation: operation.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                total_items,
</span><span>                successful_items: </span><span style="color:#d08770;">0</span><span>,
</span><span>                failed_items: Vec::new(),
</span><span>                partial_success: </span><span style="color:#d08770;">false</span><span>,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">add_success</span><span>(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>) {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.successful_items += </span><span style="color:#d08770;">1</span><span>;
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">add_failure</span><span>&lt;E: Error + </span><span style="color:#b48ead;">&#39;static</span><span>&gt;(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">index</span><span>: </span><span style="color:#b48ead;">usize</span><span>, </span><span style="color:#bf616a;">error</span><span>: E) {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.failed_items.</span><span style="color:#96b5b4;">push</span><span>((index, Box::new(error)));
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">finalize</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>) -&gt; Result&lt;String, </span><span style="color:#b48ead;">Self</span><span>&gt; {
</span><span>            </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">self</span><span>.failed_items.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>                Ok(format!(&quot;</span><span style="color:#a3be8c;">All </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> items processed successfully</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.total_items))
</span><span>            } </span><span style="color:#b48ead;">else if </span><span style="color:#bf616a;">self</span><span>.successful_items &gt; </span><span style="color:#d08770;">0 </span><span>{
</span><span>                </span><span style="color:#bf616a;">self</span><span>.partial_success = </span><span style="color:#d08770;">true</span><span>;
</span><span>                Err(</span><span style="color:#bf616a;">self</span><span>)
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                Err(</span><span style="color:#bf616a;">self</span><span>)
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_failure_summary</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Vec&lt;String&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.failed_items.</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">index</span><span>, </span><span style="color:#bf616a;">error</span><span>)| format!(&quot;</span><span style="color:#a3be8c;">Item </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, index, error))
</span><span>                .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Demonstration functions
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">simulate_menu_operation</span><span>(</span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, CatalogError&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> registry = ErrorRegistry::new();
</span><span>        </span><span style="color:#b48ead;">let</span><span> context = ErrorContext::new(&quot;</span><span style="color:#a3be8c;">menu_lookup</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">restaurant_service</span><span>&quot;)
</span><span>            .</span><span style="color:#96b5b4;">with_data</span><span>(&quot;</span><span style="color:#a3be8c;">item</span><span>&quot;, item)
</span><span>            .</span><span style="color:#96b5b4;">with_data</span><span>(&quot;</span><span style="color:#a3be8c;">timestamp</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">2024-01-15T14:30:00Z</span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match</span><span> item {
</span><span>            &quot;</span><span style="color:#a3be8c;">unavailable_item</span><span>&quot; =&gt; {
</span><span>                Err(registry.</span><span style="color:#96b5b4;">create_error</span><span>(&quot;</span><span style="color:#a3be8c;">MENU_001</span><span>&quot;, context)
</span><span>                    .</span><span style="color:#96b5b4;">unwrap</span><span>()
</span><span>                    .</span><span style="color:#96b5b4;">with_detail</span><span>(&quot;</span><span style="color:#a3be8c;">requested_item</span><span>&quot;, item))
</span><span>            }
</span><span>            _ =&gt; Ok(format!(&quot;</span><span style="color:#a3be8c;">Menu item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is available</span><span>&quot;, item)),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">simulate_payment_operation</span><span>(</span><span style="color:#bf616a;">amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; Result&lt;String, CatalogError&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> registry = ErrorRegistry::new();
</span><span>        </span><span style="color:#b48ead;">let</span><span> context = ErrorContext::new(&quot;</span><span style="color:#a3be8c;">payment_processing</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">payment_service</span><span>&quot;)
</span><span>            .</span><span style="color:#96b5b4;">with_data</span><span>(&quot;</span><span style="color:#a3be8c;">amount</span><span>&quot;, &amp;amount.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>            .</span><span style="color:#96b5b4;">with_data</span><span>(&quot;</span><span style="color:#a3be8c;">timestamp</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">2024-01-15T14:30:00Z</span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> amount &gt; </span><span style="color:#d08770;">1000.0 </span><span>{
</span><span>            Err(registry.</span><span style="color:#96b5b4;">create_error</span><span>(&quot;</span><span style="color:#a3be8c;">PAY_001</span><span>&quot;, context)
</span><span>                .</span><span style="color:#96b5b4;">unwrap</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">with_detail</span><span>(&quot;</span><span style="color:#a3be8c;">amount</span><span>&quot;, &amp;amount.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>                .</span><span style="color:#96b5b4;">with_detail</span><span>(&quot;</span><span style="color:#a3be8c;">limit</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">1000.00</span><span>&quot;))
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            Ok(format!(&quot;</span><span style="color:#a3be8c;">Payment of $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> processed</span><span>&quot;, amount))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_bulk_orders</span><span>(</span><span style="color:#bf616a;">orders</span><span>: &amp;[(&amp;</span><span style="color:#bf616a;">str</span><span>, </span><span style="color:#bf616a;">f64</span><span>)]) -&gt; Result&lt;String, BatchProcessingError&gt; {
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> batch_error = BatchProcessingError::new(&quot;</span><span style="color:#a3be8c;">bulk_order_processing</span><span>&quot;, orders.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>
</span><span>        </span><span style="color:#b48ead;">for </span><span>(index, (item, amount)) in orders.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            </span><span style="color:#a7adba;">// Try menu operation
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">simulate_menu_operation</span><span>(item) {
</span><span>                Ok(_) =&gt; {
</span><span>                    </span><span style="color:#a7adba;">// Try payment operation
</span><span>                    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">simulate_payment_operation</span><span>(*amount) {
</span><span>                        Ok(_) =&gt; batch_error.</span><span style="color:#96b5b4;">add_success</span><span>(),
</span><span>                        Err(e) =&gt; batch_error.</span><span style="color:#96b5b4;">add_failure</span><span>(index, e),
</span><span>                    }
</span><span>                }
</span><span>                Err(e) =&gt; batch_error.</span><span style="color:#96b5b4;">add_failure</span><span>(index, e),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        batch_error.</span><span style="color:#96b5b4;">finalize</span><span>()
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Advanced Error Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test contextual errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Contextual Error System:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> context = ErrorContext::new(&quot;</span><span style="color:#a3be8c;">order_validation</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">order_service</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">with_data</span><span>(&quot;</span><span style="color:#a3be8c;">customer_id</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">with_data</span><span>(&quot;</span><span style="color:#a3be8c;">order_id</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">ORD_12345</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> contextual_error = ContextualError::new(
</span><span>        &quot;</span><span style="color:#a3be8c;">VALIDATION_ERROR</span><span>&quot;,
</span><span>        &quot;</span><span style="color:#a3be8c;">Order contains invalid items</span><span>&quot;,
</span><span>        context
</span><span>    ).</span><span style="color:#96b5b4;">severity</span><span>(ErrorSeverity::Warning).</span><span style="color:#96b5b4;">recoverable</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Error: </span><span style="color:#d08770;">{}</span><span>&quot;, contextual_error);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Correlation ID: </span><span style="color:#d08770;">{}</span><span>&quot;, contextual_error.context.correlation_id);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Recoverable: </span><span style="color:#d08770;">{}</span><span>&quot;, contextual_error.recoverable);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Additional Data: </span><span style="color:#d08770;">{:?}</span><span>&quot;, contextual_error.context.additional_data);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test error registry
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Error Registry and Cataloging:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_operations = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">available_item</span><span>&quot;, </span><span style="color:#d08770;">50.0</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">unavailable_item</span><span>&quot;, </span><span style="color:#d08770;">25.0</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">available_item</span><span>&quot;, </span><span style="color:#d08770;">1500.0</span><span>),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> metrics = ErrorMetrics::new();
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(item, amount) in test_operations {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Testing: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> @ $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, item, amount);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">simulate_menu_operation</span><span>(item) {
</span><span>            Ok(result) =&gt; {
</span><span>                </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">simulate_payment_operation</span><span>(amount) {
</span><span>                    Ok(payment_result) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Success: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, </span><span style="color:#d08770;">{}</span><span>&quot;, result, payment_result),
</span><span>                    Err(error) =&gt; {
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     ‚ùå Payment Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     Suggested Actions:</span><span>&quot;);
</span><span>                        </span><span style="color:#b48ead;">for</span><span> action in error.</span><span style="color:#96b5b4;">get_suggested_actions</span><span>() {
</span><span>                            println!(&quot;</span><span style="color:#a3be8c;">       ‚Ä¢ </span><span style="color:#d08770;">{}</span><span>&quot;, action);
</span><span>                        }
</span><span>                        metrics.</span><span style="color:#96b5b4;">record_error</span><span>(&quot;</span><span style="color:#a3be8c;">payment_error</span><span>&quot;);
</span><span>                    }
</span><span>                }
</span><span>            }
</span><span>            Err(error) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚ùå Menu Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     Category: </span><span style="color:#d08770;">{}</span><span>&quot;, error.definition.category);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     Suggested Actions:</span><span>&quot;);
</span><span>                </span><span style="color:#b48ead;">for</span><span> action in error.</span><span style="color:#96b5b4;">get_suggested_actions</span><span>() {
</span><span>                    println!(&quot;</span><span style="color:#a3be8c;">       ‚Ä¢ </span><span style="color:#d08770;">{}</span><span>&quot;, action);
</span><span>                }
</span><span>                metrics.</span><span style="color:#96b5b4;">record_error</span><span>(&quot;</span><span style="color:#a3be8c;">menu_error</span><span>&quot;);
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test batch processing errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">3Ô∏è‚É£ Batch Processing with Partial Failures:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> bulk_orders = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">15.99</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">unavailable_item</span><span>&quot;, </span><span style="color:#d08770;">12.49</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">veggie_burger</span><span>&quot;, </span><span style="color:#d08770;">1200.0</span><span>), </span><span style="color:#a7adba;">// Over payment limit
</span><span>        (&quot;</span><span style="color:#a3be8c;">lentil_soup</span><span>&quot;, </span><span style="color:#d08770;">9.75</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">unavailable_item</span><span>&quot;, </span><span style="color:#d08770;">18.99</span><span>),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_bulk_orders</span><span>(&amp;bulk_orders) {
</span><span>        Ok(success_message) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Batch Success: </span><span style="color:#d08770;">{}</span><span>&quot;, success_message),
</span><span>        Err(batch_error) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ‚ö†Ô∏è Batch Partial Failure: </span><span style="color:#d08770;">{}</span><span>&quot;, batch_error);
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     Success Rate: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">/</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">%)</span><span>&quot;,
</span><span>                     batch_error.successful_items,
</span><span>                     batch_error.total_items,
</span><span>                     (batch_error.successful_items as </span><span style="color:#b48ead;">f64 </span><span>/ batch_error.total_items as </span><span style="color:#b48ead;">f64</span><span>) * </span><span style="color:#d08770;">100.0</span><span>);
</span><span>
</span><span>            </span><span style="color:#b48ead;">if</span><span> batch_error.partial_success {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Partial success - some orders completed</span><span>&quot;);
</span><span>            }
</span><span>
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">     Failed Items:</span><span>&quot;);
</span><span>            </span><span style="color:#b48ead;">for</span><span> failure in batch_error.</span><span style="color:#96b5b4;">get_failure_summary</span><span>() {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       ‚Ä¢ </span><span style="color:#d08770;">{}</span><span>&quot;, failure);
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test error metrics
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">4Ô∏è‚É£ Error Metrics and Monitoring:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Error Summary:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for </span><span>(error_type, count, rate) in metrics.</span><span style="color:#96b5b4;">get_error_summary</span><span>() {
</span><span>        </span><span style="color:#b48ead;">let</span><span> trend = </span><span style="color:#b48ead;">if</span><span> metrics.</span><span style="color:#96b5b4;">is_error_trending_up</span><span>(&amp;error_type) { &quot;</span><span style="color:#a3be8c;">üìà UP</span><span>&quot; } </span><span style="color:#b48ead;">else </span><span>{ &quot;</span><span style="color:#a3be8c;">üìä STABLE</span><span>&quot; };
</span><span>        println!(&quot;     </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> occurrences, </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">% rate </span><span style="color:#d08770;">{}</span><span>&quot;, error_type, count, rate * </span><span style="color:#d08770;">100.0</span><span>, trend);
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Advanced Error Pattern Benefits:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Rich contextual information for debugging</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Centralized error definitions with consistent messaging</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Error metrics and monitoring capabilities</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Batch processing with partial failure handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Structured error analysis and trending</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí° Enterprise Error Handling Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üéØ Include correlation IDs for request tracing</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìä Maintain error registries for consistent messaging</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìà Implement error metrics for system monitoring</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Design for partial success in batch operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üèóÔ∏è Structure errors to match operational procedures</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_advanced_error_patterns</span><span>();
</span><span>}
</span></code></pre>
<h2 id="best-practices-and-professional-guidelines">Best Practices and Professional Guidelines</h2>
<h3 id="professional-custom-error-design">Professional Custom Error Design</h3>
<p><strong>Essential patterns for building robust error handling systems:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_custom_error_best_practices</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">‚úÖ Custom Error Best Practices - Professional Guidelines</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::fmt;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::error::Error;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 1: Well-structured error hierarchies
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üèóÔ∏è Best Practice 1: Well-Structured Error Hierarchies</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ‚úÖ Good: Clear hierarchy matching business domains
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>        </span><span style="color:#a7adba;">// Customer-facing errors (user can fix)
</span><span>        UserError(UserError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Business logic errors (need business decision)
</span><span>        BusinessError(BusinessError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// System errors (need technical intervention)
</span><span>        SystemError(SystemError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// External service errors (need service monitoring)
</span><span>        ExternalError(ExternalError),
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>UserError {
</span><span>        InvalidInput { field: String, reason: String },
</span><span>        MissingRequiredField(String),
</span><span>        FormatError { field: String, expected: String, received: String },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>BusinessError {
</span><span>        InsufficientInventory { item: String, requested: </span><span style="color:#b48ead;">u32</span><span>, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        PaymentLimitExceeded { amount: </span><span style="color:#b48ead;">f64</span><span>, limit: </span><span style="color:#b48ead;">f64 </span><span>},
</span><span>        OperationNotAllowed { operation: String, reason: String },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>SystemError {
</span><span>        DatabaseConnectionFailed(String),
</span><span>        ConfigurationError(String),
</span><span>        ResourceExhausted { resource: String, limit: String },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>ExternalError {
</span><span>        PaymentServiceUnavailable,
</span><span>        SupplierApiTimeout,
</span><span>        DeliveryServiceError(String),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 2: Rich error context with builder pattern
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìù Best Practice 2: Rich Error Context</span><span>&quot;);
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ErrorBuilder {
</span><span>        </span><span style="color:#bf616a;">error_type</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">message</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">code</span><span>: Option&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">source</span><span>: Option&lt;Box&lt;dyn Error&gt;&gt;,
</span><span>        </span><span style="color:#bf616a;">metadata</span><span>: HashMap&lt;String, String&gt;,
</span><span>        </span><span style="color:#bf616a;">user_message</span><span>: Option&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">remediation_steps</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ErrorBuilder {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">error_type</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">message</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            ErrorBuilder {
</span><span>                error_type: error_type.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                message: message.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                code: None,
</span><span>                source: None,
</span><span>                metadata: HashMap::new(),
</span><span>                user_message: None,
</span><span>                remediation_steps: Vec::new(),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">code</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">code</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.code = Some(code.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>&lt;E: Error + </span><span style="color:#b48ead;">&#39;static</span><span>&gt;(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">source</span><span>: E) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.source = Some(Box::new(source));
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">metadata</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">key</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">value</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.metadata.</span><span style="color:#96b5b4;">insert</span><span>(key.</span><span style="color:#96b5b4;">to_string</span><span>(), value.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">user_message</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">message</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.user_message = Some(message.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">remediation</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">step</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.remediation_steps.</span><span style="color:#96b5b4;">push</span><span>(step.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>            </span><span style="color:#bf616a;">self
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">build</span><span>(</span><span style="color:#bf616a;">self</span><span>) -&gt; RichError {
</span><span>            RichError {
</span><span>                error_type: </span><span style="color:#bf616a;">self</span><span>.error_type,
</span><span>                message: </span><span style="color:#bf616a;">self</span><span>.message,
</span><span>                code: </span><span style="color:#bf616a;">self</span><span>.code,
</span><span>                source: </span><span style="color:#bf616a;">self</span><span>.source,
</span><span>                metadata: </span><span style="color:#bf616a;">self</span><span>.metadata,
</span><span>                user_message: </span><span style="color:#bf616a;">self</span><span>.user_message,
</span><span>                remediation_steps: </span><span style="color:#bf616a;">self</span><span>.remediation_steps,
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>RichError {
</span><span>        </span><span style="color:#bf616a;">error_type</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">message</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">code</span><span>: Option&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">source</span><span>: Option&lt;Box&lt;dyn Error&gt;&gt;,
</span><span>        </span><span style="color:#bf616a;">metadata</span><span>: HashMap&lt;String, String&gt;,
</span><span>        </span><span style="color:#bf616a;">user_message</span><span>: Option&lt;String&gt;,
</span><span>        </span><span style="color:#bf616a;">remediation_steps</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>RichError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span>&amp;</span><span style="color:#bf616a;">self</span><span>.code {
</span><span>                Some(code) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">[</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">] </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, code, </span><span style="color:#bf616a;">self</span><span>.error_type, </span><span style="color:#bf616a;">self</span><span>.message),
</span><span>                None =&gt; write!(f, &quot;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.error_type, </span><span style="color:#bf616a;">self</span><span>.message),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>RichError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;&amp;(dyn Error + </span><span style="color:#b48ead;">&#39;static</span><span>)&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.source.</span><span style="color:#96b5b4;">as_ref</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">e</span><span>| e.</span><span style="color:#96b5b4;">as_ref</span><span>())
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>RichError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_user_friendly_message</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; &amp;</span><span style="color:#b48ead;">str </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.user_message.</span><span style="color:#96b5b4;">as_deref</span><span>().</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;</span><span style="color:#a3be8c;">An error occurred. Please try again.</span><span>&quot;)
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_remediation_steps</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; &amp;Vec&lt;String&gt; {
</span><span>            &amp;</span><span style="color:#bf616a;">self</span><span>.remediation_steps
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 3: Error categorization for handling
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Best Practice 3: Error Categorization for Handling</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">trait </span><span>ErrorCategory {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">is_retryable</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool</span><span>;
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">is_user_fixable</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool</span><span>;
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">severity_level</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">u8</span><span>; </span><span style="color:#a7adba;">// 1-5, 5 being most severe
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">should_notify_ops</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool</span><span>;
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_error_category</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; &amp;</span><span style="color:#b48ead;">&#39;static str</span><span>;
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ErrorCategory </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">is_retryable</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::SystemError(SystemError::DatabaseConnectionFailed(_)) =&gt; </span><span style="color:#d08770;">true</span><span>,
</span><span>                RestaurantError::ExternalError(_) =&gt; </span><span style="color:#d08770;">true</span><span>,
</span><span>                _ =&gt; </span><span style="color:#d08770;">false</span><span>,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">is_user_fixable</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>            matches!(</span><span style="color:#bf616a;">self</span><span>, RestaurantError::UserError(_))
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">severity_level</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">u8 </span><span>{
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::UserError(_) =&gt; </span><span style="color:#d08770;">1</span><span>,
</span><span>                RestaurantError::BusinessError(_) =&gt; </span><span style="color:#d08770;">2</span><span>,
</span><span>                RestaurantError::ExternalError(_) =&gt; </span><span style="color:#d08770;">3</span><span>,
</span><span>                RestaurantError::SystemError(_) =&gt; </span><span style="color:#d08770;">4</span><span>,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">should_notify_ops</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>            </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">severity_level</span><span>() &gt;= </span><span style="color:#d08770;">3
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_error_category</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; &amp;</span><span style="color:#b48ead;">&#39;static str </span><span>{
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::UserError(_) =&gt; &quot;</span><span style="color:#a3be8c;">user_error</span><span>&quot;,
</span><span>                RestaurantError::BusinessError(_) =&gt; &quot;</span><span style="color:#a3be8c;">business_error</span><span>&quot;,
</span><span>                RestaurantError::SystemError(_) =&gt; &quot;</span><span style="color:#a3be8c;">system_error</span><span>&quot;,
</span><span>                RestaurantError::ExternalError(_) =&gt; &quot;</span><span style="color:#a3be8c;">external_error</span><span>&quot;,
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 4: Consistent error formatting and display
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìã Best Practice 4: Consistent Error Display</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::UserError(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Input Error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantError::BusinessError(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Business Rule Error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantError::SystemError(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">System Error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>                RestaurantError::ExternalError(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">External Service Error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, e),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Error </span><span style="color:#b48ead;">for </span><span>RestaurantError {}
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 5: Error response handling
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>ErrorResponse {
</span><span>        </span><span style="color:#bf616a;">error_code</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">message</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">user_message</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">details</span><span>: HashMap&lt;String, String&gt;,
</span><span>        </span><span style="color:#bf616a;">retry_after</span><span>: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">support_contact</span><span>: Option&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>ErrorResponse {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from_restaurant_error</span><span>(</span><span style="color:#bf616a;">error</span><span>: &amp;RestaurantError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#b48ead;">match</span><span> error {
</span><span>                RestaurantError::UserError(user_err) =&gt; {
</span><span>                    ErrorResponse {
</span><span>                        error_code: &quot;</span><span style="color:#a3be8c;">USER_ERROR</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        message: format!(&quot;</span><span style="color:#d08770;">{:?}</span><span>&quot;, user_err),
</span><span>                        user_message: &quot;</span><span style="color:#a3be8c;">Please check your input and try again.</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        details: HashMap::new(),
</span><span>                        retry_after: None,
</span><span>                        support_contact: None,
</span><span>                    }
</span><span>                }
</span><span>                RestaurantError::BusinessError(biz_err) =&gt; {
</span><span>                    ErrorResponse {
</span><span>                        error_code: &quot;</span><span style="color:#a3be8c;">BUSINESS_ERROR</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        message: format!(&quot;</span><span style="color:#d08770;">{:?}</span><span>&quot;, biz_err),
</span><span>                        user_message: &quot;</span><span style="color:#a3be8c;">This operation cannot be completed due to business rules.</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        details: HashMap::new(),
</span><span>                        retry_after: None,
</span><span>                        support_contact: Some(&quot;</span><span style="color:#a3be8c;">support@restaurant.com</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>                    }
</span><span>                }
</span><span>                RestaurantError::SystemError(_) =&gt; {
</span><span>                    ErrorResponse {
</span><span>                        error_code: &quot;</span><span style="color:#a3be8c;">SYSTEM_ERROR</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        message: &quot;</span><span style="color:#a3be8c;">Internal system error</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        user_message: &quot;</span><span style="color:#a3be8c;">We&#39;re experiencing technical difficulties. Please try again later.</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        details: HashMap::new(),
</span><span>                        retry_after: Some(</span><span style="color:#d08770;">300</span><span>), </span><span style="color:#a7adba;">// 5 minutes
</span><span>                        support_contact: Some(&quot;</span><span style="color:#a3be8c;">support@restaurant.com</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>                    }
</span><span>                }
</span><span>                RestaurantError::ExternalError(_) =&gt; {
</span><span>                    ErrorResponse {
</span><span>                        error_code: &quot;</span><span style="color:#a3be8c;">EXTERNAL_ERROR</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        message: &quot;</span><span style="color:#a3be8c;">External service unavailable</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        user_message: &quot;</span><span style="color:#a3be8c;">Some features are temporarily unavailable. Please try again in a few minutes.</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                        details: HashMap::new(),
</span><span>                        retry_after: Some(</span><span style="color:#d08770;">180</span><span>), </span><span style="color:#a7adba;">// 3 minutes
</span><span>                        support_contact: None,
</span><span>                    }
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Demonstration functions
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_order_input</span><span>(</span><span style="color:#bf616a;">order_data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> order_data.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::UserError(
</span><span>                UserError::MissingRequiredField(&quot;</span><span style="color:#a3be8c;">order_data</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>            ));
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if </span><span>!order_data.</span><span style="color:#96b5b4;">contains</span><span>(&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;) {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::UserError(
</span><span>                UserError::FormatError {
</span><span>                    field: &quot;</span><span style="color:#a3be8c;">order_data</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    expected: &quot;</span><span style="color:#a3be8c;">item,quantity,price</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    received: order_data.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                }
</span><span>            ));
</span><span>        }
</span><span>
</span><span>        Ok(&quot;</span><span style="color:#a3be8c;">Order data is valid</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_business_rules</span><span>(</span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> quantity &gt; </span><span style="color:#d08770;">50 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::BusinessError(
</span><span>                BusinessError::InsufficientInventory {
</span><span>                    item: item.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    requested: quantity,
</span><span>                    available: </span><span style="color:#d08770;">50</span><span>,
</span><span>                }
</span><span>            ));
</span><span>        }
</span><span>
</span><span>        Ok(&quot;</span><span style="color:#a3be8c;">Business rules passed</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">simulate_system_operation</span><span>() -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Simulate system error
</span><span>        Err(RestaurantError::SystemError(
</span><span>            SystemError::DatabaseConnectionFailed(&quot;</span><span style="color:#a3be8c;">Connection timeout</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        ))
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Best Practices:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test error hierarchy and categorization
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Error Hierarchy and Categorization:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_scenarios = [
</span><span>        (&quot;&quot;, </span><span style="color:#d08770;">1</span><span>),           </span><span style="color:#a7adba;">// User error
</span><span>        (&quot;</span><span style="color:#a3be8c;">item,quantity</span><span>&quot;, </span><span style="color:#d08770;">100</span><span>), </span><span style="color:#a7adba;">// Business error
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(order_data, quantity) in test_scenarios {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Testing: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; with quantity </span><span style="color:#d08770;">{}</span><span>&quot;, order_data, quantity);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Chain operations that can fail at different levels
</span><span>        </span><span style="color:#b48ead;">let</span><span> result = </span><span style="color:#96b5b4;">validate_order_input</span><span>(order_data)
</span><span>            .</span><span style="color:#96b5b4;">and_then</span><span>(|_| </span><span style="color:#96b5b4;">check_business_rules</span><span>(&quot;</span><span style="color:#a3be8c;">test_item</span><span>&quot;, quantity))
</span><span>            .</span><span style="color:#96b5b4;">and_then</span><span>(|_| </span><span style="color:#96b5b4;">simulate_system_operation</span><span>());
</span><span>
</span><span>        </span><span style="color:#b48ead;">match</span><span> result {
</span><span>            Ok(success) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Success: </span><span style="color:#d08770;">{}</span><span>&quot;, success),
</span><span>            Err(error) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚ùå Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       Category: </span><span style="color:#d08770;">{}</span><span>&quot;, error.</span><span style="color:#96b5b4;">get_error_category</span><span>());
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       Severity: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">/5</span><span>&quot;, error.</span><span style="color:#96b5b4;">severity_level</span><span>());
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       Retryable: </span><span style="color:#d08770;">{}</span><span>&quot;, error.</span><span style="color:#96b5b4;">is_retryable</span><span>());
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       User Fixable: </span><span style="color:#d08770;">{}</span><span>&quot;, error.</span><span style="color:#96b5b4;">is_user_fixable</span><span>());
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       Notify Ops: </span><span style="color:#d08770;">{}</span><span>&quot;, error.</span><span style="color:#96b5b4;">should_notify_ops</span><span>());
</span><span>
</span><span>                </span><span style="color:#a7adba;">// Create error response
</span><span>                </span><span style="color:#b48ead;">let</span><span> response = ErrorResponse::from_restaurant_error(&amp;error);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">       User Message: </span><span style="color:#d08770;">{}</span><span>&quot;, response.user_message);
</span><span>                </span><span style="color:#b48ead;">if let </span><span>Some(retry_after) = response.retry_after {
</span><span>                    println!(&quot;</span><span style="color:#a3be8c;">       Retry After: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> seconds</span><span>&quot;, retry_after);
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>        println!();
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test rich error builder
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Rich Error Builder Pattern:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> rich_error = ErrorBuilder::new(&quot;</span><span style="color:#a3be8c;">ORDER_PROCESSING</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Failed to process order</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">code</span><span>(&quot;</span><span style="color:#a3be8c;">ORD_001</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">metadata</span><span>(&quot;</span><span style="color:#a3be8c;">customer_id</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">CUST_12345</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">metadata</span><span>(&quot;</span><span style="color:#a3be8c;">order_id</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">ORD_67890</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">user_message</span><span>(&quot;</span><span style="color:#a3be8c;">Your order could not be processed. Please contact customer service.</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">remediation</span><span>(&quot;</span><span style="color:#a3be8c;">Check inventory availability</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">remediation</span><span>(&quot;</span><span style="color:#a3be8c;">Verify payment method</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">remediation</span><span>(&quot;</span><span style="color:#a3be8c;">Contact customer if issues persist</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">build</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Rich Error: </span><span style="color:#d08770;">{}</span><span>&quot;, rich_error);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   User Message: </span><span style="color:#d08770;">{}</span><span>&quot;, rich_error.</span><span style="color:#96b5b4;">get_user_friendly_message</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Remediation Steps:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for </span><span>(i, step) in rich_error.</span><span style="color:#96b5b4;">get_remediation_steps</span><span>().</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>        println!(&quot;     </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">. </span><span style="color:#d08770;">{}</span><span>&quot;, i + </span><span style="color:#d08770;">1</span><span>, step);
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìã Custom Error Best Practices Summary:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Design error hierarchies matching business domains</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Include rich context and metadata in errors</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Categorize errors for appropriate handling strategies</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Provide user-friendly messages separate from technical details</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Include remediation steps and recovery guidance</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Implement standard traits (Debug, Display, Error)</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use builder patterns for complex error construction</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí° Professional Guidelines:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üéØ Match error structure to operational procedures</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìä Include error codes for consistent categorization</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Design for error recovery and retry scenarios</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìù Separate technical details from user-facing messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üèóÔ∏è Build error types that support monitoring and alerting</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚ö° Consider performance impact of error context collection</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_custom_error_best_practices</span><span>();
</span><span>}
</span></code></pre>
<h2 id="summary-and-key-takeaways">Summary and Key Takeaways</h2>
<h3 id="mental-model-the-complete-restaurant-incident-management-system"><strong>Mental Model: The Complete Restaurant Incident Management System</strong></h3>
<p>Remember our comprehensive restaurant incident management analogy:</p>
<ul>
<li>üèóÔ∏è <strong>Custom error types</strong> = <strong>Professional incident classification</strong> - Know exactly what went wrong and how to fix it</li>
<li>üìä <strong>Error hierarchies</strong> = <strong>Organized response protocols</strong> - Different types of problems need different solutions</li>
<li>üéØ <strong>Rich context</strong> = <strong>Detailed incident reports</strong> - All the information needed for proper resolution</li>
<li>üîÑ <strong>Error conversion</strong> = <strong>Escalation procedures</strong> - Route problems to the right teams automatically</li>
<li>üìà <strong>Error monitoring</strong> = <strong>System health tracking</strong> - Prevent problems before they become critical</li>
</ul>
<h3 id="essential-custom-error-type-patterns"><strong>Essential Custom Error Type Patterns</strong></h3>
<p><strong>Basic Enum Pattern:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>    InvalidOrder(String),
</span><span>    InsufficientStock { item: String, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    PaymentFailed(String),
</span><span>    SystemUnavailable,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>            RestaurantError::InvalidOrder(details) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Invalid order: </span><span style="color:#d08770;">{}</span><span>&quot;, details),
</span><span>            RestaurantError::InsufficientStock { item, available } =&gt;
</span><span>                write!(f, &quot;</span><span style="color:#a3be8c;">Not enough </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (available: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;, item, available),
</span><span>            RestaurantError::PaymentFailed(reason) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Payment failed: </span><span style="color:#d08770;">{}</span><span>&quot;, reason),
</span><span>            RestaurantError::SystemUnavailable =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">System temporarily unavailable</span><span>&quot;),
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre>
<p><strong>Hierarchical Error Pattern:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">enum </span><span>AppError {
</span><span>    User(UserError),
</span><span>    Business(BusinessError),
</span><span>    System(SystemError),
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Automatic conversion
</span><span style="color:#b48ead;">impl </span><span>From&lt;UserError&gt; </span><span style="color:#b48ead;">for </span><span>AppError {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: UserError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        AppError::User(error)
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Use with ? operator
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_order</span><span>() -&gt; Result&lt;String, AppError&gt; {
</span><span>    </span><span style="color:#b48ead;">let</span><span> validated = </span><span style="color:#96b5b4;">validate_user_input</span><span>()?;  </span><span style="color:#a7adba;">// UserError ‚Üí AppError
</span><span>    </span><span style="color:#b48ead;">let</span><span> processed = </span><span style="color:#96b5b4;">apply_business_rules</span><span>(validated)?;  </span><span style="color:#a7adba;">// BusinessError ‚Üí AppError
</span><span>    Ok(processed)
</span><span>}
</span></code></pre>
<h3 id="required-trait-implementations"><strong>Required Trait Implementations</strong></h3>
<p><strong>Essential Traits:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]  </span><span style="color:#a7adba;">// Required for error debugging
</span><span style="color:#b48ead;">enum </span><span>CustomError {
</span><span>    SomeVariant(String),
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>CustomError {  </span><span style="color:#a7adba;">// User-friendly messages
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>            CustomError::SomeVariant(msg) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Error occurred: </span><span style="color:#d08770;">{}</span><span>&quot;, msg),
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>std::error::Error </span><span style="color:#b48ead;">for </span><span>CustomError {}  </span><span style="color:#a7adba;">// Integration with error ecosystem
</span></code></pre>
<h3 id="error-design-decision-matrix"><strong>Error Design Decision Matrix</strong></h3>
<table><thead><tr><th style="text-align: left"><strong>Scenario</strong></th><th style="text-align: left"><strong>Pattern</strong></th><th style="text-align: left"><strong>Example</strong></th><th style="text-align: left"><strong>Benefits</strong></th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Simple errors</strong></td><td style="text-align: left">Basic enum</td><td style="text-align: left"><code>MenuError::ItemNotFound</code></td><td style="text-align: left">Easy to create and use</td></tr>
<tr><td style="text-align: left"><strong>Rich context</strong></td><td style="text-align: left">Enum with data</td><td style="text-align: left"><code>InsufficientStock { item, available }</code></td><td style="text-align: left">Detailed error information</td></tr>
<tr><td style="text-align: left"><strong>Complex systems</strong></td><td style="text-align: left">Hierarchical enum</td><td style="text-align: left"><code>AppError::Database(DbError)</code></td><td style="text-align: left">Organized error categories</td></tr>
<tr><td style="text-align: left"><strong>Error chaining</strong></td><td style="text-align: left">Struct with source</td><td style="text-align: left"><code>ProcessingError { source: Box&lt;dyn Error&gt; }</code></td><td style="text-align: left">Root cause tracking</td></tr>
<tr><td style="text-align: left"><strong>Enterprise</strong></td><td style="text-align: left">Builder pattern</td><td style="text-align: left"><code>ErrorBuilder::new().code().build()</code></td><td style="text-align: left">Flexible error construction</td></tr>
</tbody></table>
<h3 id="best-practices-checklist"><strong>Best Practices Checklist</strong></h3>
<p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Design error types that match your business domains</li>
<li>Include rich context and debugging information</li>
<li>Implement <code>Debug</code>, <code>Display</code>, and <code>Error</code> traits</li>
<li>Use hierarchical organization for complex systems</li>
<li>Provide user-friendly messages separate from technical details</li>
<li>Include error codes for consistent categorization</li>
<li>Design for error recovery and retry scenarios</li>
<li>Use the <code>From</code> trait for automatic error conversion</li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Create overly generic error types like <code>String</code></li>
<li>Expose internal implementation details in error messages</li>
<li>Make error types too complex for simple use cases</li>
<li>Forget to implement standard traits</li>
<li>Mix user-facing and technical messages</li>
<li>Create deep error hierarchies without</li>
</ul>

    
        </div>

    </article>
</main>


    <script type="text/javascript" src="https://aarambhdevhub.github.io/rust-doc/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="https://aarambhdevhub.github.io/rust-doc/search_index.en.js" defer></script>
<script type="text/javascript" src="https://aarambhdevhub.github.io/rust-doc/js.js" defer></script>

</body>
</html>
