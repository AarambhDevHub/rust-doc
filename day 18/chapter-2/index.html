<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://localhost/main.css">
    <link rel="icon" href="https://www.rust-lang.org/static/images/favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Rust Programming Course! | Result&lt;T, E&gt; in Depth </title>
</head>
<body>

<main>
    
    <nav>
            <a href="http:&#x2F;&#x2F;localhost">
                        <img src="https://www.rust-lang.org/static/images/rust-logo-blk.svg" alt="logo"/>
                    </a>
                <!-- -->

            <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="day-1-introduction"
                           />
                    <label class="tree-toggle-label"
                           for="day-1-introduction">Day 1: Introduction</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 1/chapter-1/">What is Rust and why use it?</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 1/chapter-2/">Installing Rust Toolchain (rustup, cargo)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 1/chapter-3/">Setting up Development (VS Code + Hello World)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 1/chapter-4/">Understanding Cargo Project Structure</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-2-basic-syntax-variables"
                           />
                    <label class="tree-toggle-label"
                           for="day-2-basic-syntax-variables">Day 2: Basic Syntax &amp; Variables</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 2/chapter-1/">Variables and Mutability in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-2/">Data Types in Rust: Integers, Floats, Booleans, and Characters</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-3/">Constants vs Variables</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-4/">Understanding Shadowing in Rust: A Practical Guide</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 2/chapter-5/">Basic Input&#x2F;Output</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-3-functions-control-flow"
                           />
                    <label class="tree-toggle-label"
                           for="day-3-functions-control-flow">Day 3: Functions &amp; Control Flow</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 3/chapter-1/">Function Syntax and Parameters in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-2/">Return Values and Expressions vs Statements</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-3/">If&#x2F;Else Statements in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-4/">Match Expressions in Rust: Powerful Pattern Matching</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 3/chapter-5/">Loops in Rust: loop, while, for Explained</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-4-data-types-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-4-data-types-deep-dive">Day 4: Data Types Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 4/chapter-1/">Compound Types (Tuples, Arrays)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-2/">String vs &amp;str in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-3/">Vector Basics in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-4/">Type Annotations and Inference in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 4/chapter-5/">Practical Rust Exercises</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-5-practice-review"
                           />
                    <label class="tree-toggle-label"
                           for="day-5-practice-review">Day 5: Practice &amp; Review</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 5/chapter-1/">Day 5: Practice &amp; Review</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-6-ownership-fundamentals"
                           />
                    <label class="tree-toggle-label"
                           for="day-6-ownership-fundamentals">Day 6: Ownership Fundamentals</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 6/chapter-1/">Ownership in Rust: A Detailed Guide</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-2/">Stack vs Heap in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-3/">Understanding Ownership in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-4/">Move Semantics in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 6/chapter-5/">Copy Trait in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-7-references-borrowing"
                           />
                    <label class="tree-toggle-label"
                           for="day-7-references-borrowing">Day 7: References &amp; Borrowing</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 7/chapter-1/">Immutable References</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-2/">Mutable References</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-3/">Borrowing Rules</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-4/">Reference Lifetime Basics</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 7/chapter-5/">Common Borrowing Errors and Solutions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-8-slices"
                           />
                    <label class="tree-toggle-label"
                           for="day-8-slices">Day 8: Slices</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 8/chapter-1/">String Slices</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-2/">Array Slices</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-3/">Slice Syntax and Usage</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-4/">Practical Applications</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 8/chapter-5/">Memory Safety Benefits</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-9-advanced-ownership"
                           />
                    <label class="tree-toggle-label"
                           for="day-9-advanced-ownership">Day 9: Advanced Ownership</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 9/chapter-1/">Clone Trait</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-2/">Drop Trait</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-3/">RAII Pattern</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-4/">Memory Management Comparison with Other Languages</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 9/chapter-5/">Best Practices (Advanced Ownership)</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-10-ownership-practice"
                           />
                    <label class="tree-toggle-label"
                           for="day-10-ownership-practice">Day 10: Ownership Practice</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 10/chapter-1/">Complex Ownership Scenarios</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 10/chapter-2/">Debugging Ownership Errors</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 10/chapter-3/">Code Refactoring Exercises</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 10/chapter-4/">Group Problem-Solving</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-11-structs-basics"
                           />
                    <label class="tree-toggle-label"
                           for="day-11-structs-basics">Day 11: Structs Basics</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 11/chapter-1/">Defining and Instantiating Structs</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-2/">Field Access and Modification</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-3/">Tuple Structs and Unit Structs</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-4/">Struct Update Syntax</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 11/chapter-5/">Ownership of Struct Data</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-12-methods-associated-functions"
                           />
                    <label class="tree-toggle-label"
                           for="day-12-methods-associated-functions">Day 12: Methods &amp; Associated Functions</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 12/chapter-1/">Implementing Methods with impl Blocks</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-2/">&amp;self, &amp;mut self, and self</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-3/">Associated Functions (like Constructors)</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-4/">Multiple impl Blocks</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 12/chapter-5/">Method Chaining</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-13-advanced-struct-concepts"
                           />
                    <label class="tree-toggle-label"
                           for="day-13-advanced-struct-concepts">Day 13: Advanced Struct Concepts</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 13/chapter-1/">Struct Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-2/">Debug Trait and Custom Formatting</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-3/">Builder Pattern Implementation</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-4/">Struct Composition</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 13/chapter-5/">Best Practices for Struct Design</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-14-enums-pattern-matching"
                           />
                    <label class="tree-toggle-label"
                           for="day-14-enums-pattern-matching">Day 14: Enums &amp; Pattern Matching</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 14/chapter-1/">Defining Enums</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-2/">Enum Variants with Data</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-3/">Option&lt;T&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-4/">Result&lt;T, E&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 14/chapter-5/">Advanced Match Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-15-practice-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-15-practice-project">Day 15: Practice Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 15/chapter-1/">Building a Simple CLI Calculator in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-16-vectors"
                           />
                    <label class="tree-toggle-label"
                           for="day-16-vectors">Day 16: Vectors</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 16/chapter-1/">Creating and Updating Vectors</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-2/">Vector Methods: push, pop, iter</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-3/">Accessing Vector Elements Safely</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-4/">Vector of Different Types with Enums</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 16/chapter-5/">Performance Considerations</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-17-hashmaps-other-collections"
                           />
                    <label class="tree-toggle-label"
                           for="day-17-hashmaps-other-collections">Day 17: HashMaps &amp; Other Collections</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 17/chapter-1/">HashMap Creation and Manipulation</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-2/">Keys and Values Ownership</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-3/">HashMap Methods and Iteration</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-4/">When to Use Different Collections</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 17/chapter-5/">BTreeMap Introduction</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-18-error-handling"
                           checked/>
                    <label class="tree-toggle-label"
                           for="day-18-error-handling">Day 18: Error Handling</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 18/chapter-1/">Panic! and When to Use It</a>
                            </li>

                            <li class="active">
                                <a href="http://localhost/day 18/chapter-2/">Result&lt;T, E&gt; in Depth</a>
                            </li>

                            
                                    
                                    
                                        <ul id="toc">
                                            <li><a href="
                                                        http://localhost/day 18/chapter-2/#result-t-e-in-rust-comprehensive-documentation-for-beginners">Result&lt;T, E&gt; in Rust: Comprehensive Documentation for Beginners</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#the-professional-restaurant-quality-control-system-analogy-convenience-store">The Professional Restaurant Quality Control System Analogy üè™</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#understanding-result-t-e-fundamentals">Understanding Result&lt;T, E&gt; Fundamentals</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#core-result-t-e-operations-restaurant-management">Core Result&lt;T, E&gt; Operations - Restaurant Management</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#advanced-result-t-e-patterns-and-techniques">Advanced Result&lt;T, E&gt; Patterns and Techniques</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#result-t-e-vs-panic-making-the-right-choice">Result&lt;T, E&gt; vs panic! - Making the Right Choice</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#best-practices-and-professional-patterns">Best Practices and Professional Patterns</a>
                                                                </li>
                                                            <li>
                                                                    <a href="http://localhost/day 18/chapter-2/#summary-and-decision-guidelines">Summary and Decision Guidelines</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            </ul>
                                    <li >
                                <a href="http://localhost/day 18/chapter-3/">The ? Operator in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 18/chapter-4/">Creating Custom Error Types in Rust</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 18/chapter-5/">Error Propagation Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-19-strings-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-19-strings-deep-dive">Day 19: Strings Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 19/chapter-1/">String vs &amp;str Revisited</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 19/chapter-2/">String Methods and Manipulation</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 19/chapter-5/">Performance Considerations</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 19/chapter-3/">UTF-8 and Character Encoding</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 19/chapter-4/">String Concatenation Techniques</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-20-mini-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-20-mini-project">Day 20: Mini Project</label>

                    <ul class="subtree">
                        </ul>
                <input class="tree-toggle" type="checkbox" id="day-21-generic-functions-structs"
                           />
                    <label class="tree-toggle-label"
                           for="day-21-generic-functions-structs">Day 21: Generic Functions &amp; Structs</label>

                    <ul class="subtree">
                        <li >
                                <a href="http://localhost/day 21/chapter-1/">Generic Function Syntax</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-2/">Generic Structs and Enums</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-3/">Type Parameters and Constraints</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-4/">Monomorphization Concept</a>
                            </li>

                            <li >
                                <a href="http://localhost/day 21/chapter-5/">Generic Collections</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>

        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <div id="wrap">
            
        <h1 id="result-t-e-in-rust-comprehensive-documentation-for-beginners">Result&lt;T, E&gt; in Rust: Comprehensive Documentation for Beginners</h1>
<p>Understanding <code>Result&lt;T, E&gt;</code> in Rust is like learning to <strong>manage a professional vegetarian restaurant's complete error handling and quality control system</strong> - you need a systematic way to handle everything that can go wrong during daily operations while keeping the restaurant running smoothly. Just as a professional restaurant manager must distinguish between recoverable problems (like running out of an ingredient - substitute it) and unrecoverable emergencies (like a kitchen fire - evacuate immediately), Rust's <code>Result&lt;T, E&gt;</code> type provides a powerful, type-safe way to handle errors that can be recovered from, allowing your program to continue operating even when things don't go exactly as planned.</p>
<h2 id="the-professional-restaurant-quality-control-system-analogy-convenience-store">The Professional Restaurant Quality Control System Analogy üè™</h2>
<h3 id="imagine-you-re-operating-a-high-end-vegetarian-restaurant-s-complete-error-management-system">Imagine You're Operating a High-End Vegetarian Restaurant's Complete Error Management System</h3>
<p><strong>The Two Possible Outcomes for Every Operation:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// Every restaurant operation has two possible outcomes
</span><span style="color:#b48ead;">enum </span><span>RestaurantOperation&lt;Success, Problem&gt; {
</span><span>    Success(Success),    </span><span style="color:#a7adba;">// ‚úÖ Everything went perfectly
</span><span>    Problem(Problem),    </span><span style="color:#a7adba;">// ‚ö†Ô∏è Something went wrong, but we can handle it
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// In Rust, this is exactly what Result&lt;T, E&gt; represents!
</span><span style="color:#b48ead;">use </span><span>std::result::Result;
</span><span>
</span><span style="color:#a7adba;">// T = Success type, E = Error type
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">prepare_dish</span><span>(</span><span style="color:#bf616a;">ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> ingredient {
</span><span>        &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Delicious Quinoa Buddha Bowl ready!</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        &quot;</span><span style="color:#a3be8c;">tomatoes</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Fresh Caprese Salad prepared!</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        &quot;</span><span style="color:#a3be8c;">unicorn_meat</span><span>&quot; =&gt; Err(&quot;</span><span style="color:#a3be8c;">Ingredient not available in vegetarian restaurant</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        &quot;&quot; =&gt; Err(&quot;</span><span style="color:#a3be8c;">Cannot prepare dish without ingredients</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        _ =&gt; Ok(format!(&quot;</span><span style="color:#a3be8c;">Creative dish made with </span><span style="color:#d08770;">{}</span><span>&quot;, ingredient)),
</span><span>    }
</span><span>}
</span></code></pre>
<p><strong>Why Result&lt;T, E&gt; is Superior to Simple Error Codes:</strong></p>
<ul>
<li>‚úÖ <strong>Type safety</strong> - Compiler forces you to handle both success and error cases</li>
<li>üéØ <strong>Clear intentions</strong> - Function signatures tell you exactly what can go wrong</li>
<li>üîÑ <strong>Composable</strong> - Chain operations together elegantly</li>
<li>üõ°Ô∏è <strong>No silent failures</strong> - Can't accidentally ignore errors</li>
<li>üìä <strong>Rich error information</strong> - Carry detailed error context</li>
</ul>
<h2 id="understanding-result-t-e-fundamentals">Understanding Result&lt;T, E&gt; Fundamentals</h2>
<h3 id="what-is-result-t-e">What is Result&lt;T, E&gt;?</h3>
<p><code>Result&lt;T, E&gt;</code> is Rust's primary error-handling type - an enum with two variants:[^1][^2]</p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_result_basics</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üéØ Result&lt;T, E&gt; Fundamentals - Restaurant Quality Control</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;60}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Result is defined as an enum with two variants:
</span><span>    </span><span style="color:#a7adba;">// enum Result&lt;T, E&gt; {
</span><span>    </span><span style="color:#a7adba;">//     Ok(T),   // Success case containing value of type T
</span><span>    </span><span style="color:#a7adba;">//     Err(E),  // Error case containing error of type E
</span><span>    </span><span style="color:#a7adba;">// }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üìä Result&lt;T, E&gt; Structure:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ T = Type of the success value</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ E = Type of the error value</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ Ok(T) = Operation succeeded with value</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ Err(E) = Operation failed with error</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 1: Simple restaurant operations
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_table_availability</span><span>(</span><span style="color:#bf616a;">table_number</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> table_number {
</span><span>            </span><span style="color:#d08770;">1</span><span>..=</span><span style="color:#d08770;">20 </span><span>=&gt; Ok(format!(&quot;</span><span style="color:#a3be8c;">Table </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is available for reservation</span><span>&quot;, table_number)),
</span><span>            </span><span style="color:#d08770;">21</span><span>..=</span><span style="color:#d08770;">25 </span><span>=&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Table </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is currently occupied</span><span>&quot;, table_number)),
</span><span>            _ =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Table </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> does not exist in restaurant</span><span>&quot;, table_number)),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">ü™ë Table Availability Check:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test different scenarios
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_tables = [</span><span style="color:#d08770;">5</span><span>, </span><span style="color:#d08770;">23</span><span>, </span><span style="color:#d08770;">50</span><span>];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> table in test_tables {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">check_table_availability</span><span>(table) {
</span><span>            Ok(message) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ </span><span style="color:#d08770;">{}</span><span>&quot;, message),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 2: More complex restaurant operation
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Order {
</span><span>        </span><span style="color:#bf616a;">id</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">dish</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>OrderError {
</span><span>        InvalidDish,
</span><span>        PriceOutOfRange,
</span><span>        KitchenClosed,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">create_order</span><span>(</span><span style="color:#bf616a;">dish</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">hour</span><span>: </span><span style="color:#b48ead;">u8</span><span>) -&gt; Result&lt;Order, OrderError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Check if kitchen is open
</span><span>        </span><span style="color:#b48ead;">if</span><span> hour &lt; </span><span style="color:#d08770;">11 </span><span>|| hour &gt; </span><span style="color:#d08770;">22 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(OrderError::KitchenClosed);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Validate dish
</span><span>        </span><span style="color:#b48ead;">let</span><span> valid_dishes = [&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Lentil Soup</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Green Salad</span><span>&quot;];
</span><span>        </span><span style="color:#b48ead;">if </span><span>!valid_dishes.</span><span style="color:#96b5b4;">contains</span><span>(&amp;dish) {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(OrderError::InvalidDish);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Validate price range
</span><span>        </span><span style="color:#b48ead;">if</span><span> price &lt; </span><span style="color:#d08770;">5.0 </span><span>|| price &gt; </span><span style="color:#d08770;">30.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(OrderError::PriceOutOfRange);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// All validations passed - create order
</span><span>        Ok(Order {
</span><span>            id: </span><span style="color:#d08770;">12345</span><span>,
</span><span>            dish: dish.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            price,
</span><span>        })
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìã Order Creation Examples:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> order_attempts = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;, </span><span style="color:#d08770;">15.99</span><span>, </span><span style="color:#d08770;">19</span><span>),    </span><span style="color:#a7adba;">// Valid order
</span><span>        (&quot;</span><span style="color:#a3be8c;">Pizza</span><span>&quot;, </span><span style="color:#d08770;">12.99</span><span>, </span><span style="color:#d08770;">19</span><span>),          </span><span style="color:#a7adba;">// Invalid dish
</span><span>        (&quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;, </span><span style="color:#d08770;">45.0</span><span>, </span><span style="color:#d08770;">19</span><span>),   </span><span style="color:#a7adba;">// Price too high
</span><span>        (&quot;</span><span style="color:#a3be8c;">Lentil Soup</span><span>&quot;, </span><span style="color:#d08770;">9.99</span><span>, </span><span style="color:#d08770;">23</span><span>),     </span><span style="color:#a7adba;">// Kitchen closed
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(dish, price, hour) in order_attempts {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">create_order</span><span>(dish, price, hour) {
</span><span>            Ok(order) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Order created: </span><span style="color:#d08770;">{:?}</span><span>&quot;, order),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Order failed: </span><span style="color:#d08770;">{:?}</span><span>&quot;, error),
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_result_basics</span><span>();
</span><span>}
</span></code></pre>
<h3 id="the-anatomy-of-result-t-e">The Anatomy of Result&lt;T, E&gt;</h3>
<p><strong>Understanding the type parameters and variants:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_result_anatomy</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üî¨ Result&lt;T, E&gt; Anatomy - Deep Dive into Success and Error Types</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Different Result types for different restaurant operations
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 1: String success, String error (simple)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">simple_menu_lookup</span><span>(</span><span style="color:#bf616a;">item_id</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> item_id {
</span><span>            </span><span style="color:#d08770;">1 </span><span>=&gt; Ok(&quot;</span><span style="color:#a3be8c;">Quinoa Buddha Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            </span><span style="color:#d08770;">2 </span><span>=&gt; Ok(&quot;</span><span style="color:#a3be8c;">Mediterranean Wrap</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            </span><span style="color:#d08770;">3 </span><span>=&gt; Ok(&quot;</span><span style="color:#a3be8c;">Lentil Curry</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            _ =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Menu item </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> not found</span><span>&quot;, item_id))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 2: Complex success type, enum error type
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>CustomerAccount {
</span><span>        </span><span style="color:#bf616a;">email</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">loyalty_points</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">membership_tier</span><span>: String,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>AccountError {
</span><span>        NotFound,
</span><span>        Suspended,
</span><span>        InvalidEmail,
</span><span>        DatabaseError(String),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_customer_account</span><span>(</span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;CustomerAccount, AccountError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Validate email format
</span><span>        </span><span style="color:#b48ead;">if </span><span>!email.</span><span style="color:#96b5b4;">contains</span><span>(&#39;</span><span style="color:#a3be8c;">@</span><span>&#39;) {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(AccountError::InvalidEmail);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Simulate database lookup
</span><span>        </span><span style="color:#b48ead;">match</span><span> email {
</span><span>            &quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot; =&gt; Ok(CustomerAccount {
</span><span>                email: email.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                loyalty_points: </span><span style="color:#d08770;">1250</span><span>,
</span><span>                membership_tier: &quot;</span><span style="color:#a3be8c;">Gold</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            }),
</span><span>            &quot;</span><span style="color:#a3be8c;">banned@email.com</span><span>&quot; =&gt; Err(AccountError::Suspended),
</span><span>            &quot;</span><span style="color:#a3be8c;">db_error@test.com</span><span>&quot; =&gt; Err(AccountError::DatabaseError(&quot;</span><span style="color:#a3be8c;">Connection timeout</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            _ =&gt; Err(AccountError::NotFound),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 3: Unit success type (just indicating success/failure)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">send_welcome_email</span><span>(</span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;(), String&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> email.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Email address cannot be empty</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if </span><span>!email.</span><span style="color:#96b5b4;">contains</span><span>(&#39;</span><span style="color:#a3be8c;">@</span><span>&#39;) {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Invalid email format</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Simulate sending email
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   üìß Welcome email sent to </span><span style="color:#d08770;">{}</span><span>&quot;, email);
</span><span>        Ok(()) </span><span style="color:#a7adba;">// Success with no additional data
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Example 4: Numeric success type with custom error
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>CalculationError {
</span><span>        DivisionByZero,
</span><span>        Overflow,
</span><span>        InvalidInput,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_tip_percentage</span><span>(</span><span style="color:#bf616a;">bill_total</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">tip_amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, CalculationError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> bill_total &lt;= </span><span style="color:#d08770;">0.0 </span><span>|| tip_amount &lt; </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(CalculationError::InvalidInput);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> bill_total == </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(CalculationError::DivisionByZero);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> percentage = (tip_amount / bill_total) * </span><span style="color:#d08770;">100.0</span><span>;
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> percentage &gt; </span><span style="color:#d08770;">1000.0 </span><span>{  </span><span style="color:#a7adba;">// Unreasonably high tip
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(CalculationError::Overflow);
</span><span>        }
</span><span>
</span><span>        Ok(percentage)
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Different Result Types:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test simple string Result
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Simple String Result:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">simple_menu_lookup</span><span>(</span><span style="color:#d08770;">1</span><span>) {
</span><span>        Ok(dish) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Found dish: </span><span style="color:#d08770;">{}</span><span>&quot;, dish),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Lookup error: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test complex struct Result
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Complex Struct Result:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">get_customer_account</span><span>(&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;) {
</span><span>        Ok(account) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Account: </span><span style="color:#d08770;">{:?}</span><span>&quot;, account),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Account error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test unit Result
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">3Ô∏è‚É£ Unit Success Result:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">send_welcome_email</span><span>(&quot;</span><span style="color:#a3be8c;">newcustomer@email.com</span><span>&quot;) {
</span><span>        Ok(()) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Email sent successfully</span><span>&quot;),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Email error: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test numeric Result
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">4Ô∏è‚É£ Numeric Result:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_tip_percentage</span><span>(</span><span style="color:#d08770;">50.0</span><span>, </span><span style="color:#d08770;">10.0</span><span>) {
</span><span>        Ok(percentage) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Tip percentage: </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">%</span><span>&quot;, percentage),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Calculation error: </span><span style="color:#d08770;">{:?}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìä Result Type Patterns:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Result&lt;String, String&gt;     ‚Üí Simple success/error messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Result&lt;Struct, Enum&gt;       ‚Üí Rich data with structured errors</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Result&lt;(), Error&gt;          ‚Üí Success/failure with no success data</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Result&lt;Number, Error&gt;      ‚Üí Calculations with error handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Result&lt;Vec&lt;T&gt;, Error&gt;      ‚Üí Collections with potential failures</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_result_anatomy</span><span>();
</span><span>}
</span></code></pre>
<h2 id="core-result-t-e-operations-restaurant-management">Core Result&lt;T, E&gt; Operations - Restaurant Management</h2>
<h3 id="1-creating-and-returning-results">1. Creating and Returning Results</h3>
<p><strong>Different ways to create and return Results in your restaurant operations:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_result_creation</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üèóÔ∏è Creating Results - Restaurant Operation Patterns</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;55}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 1: Early returns for error conditions
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_reservation</span><span>(</span><span style="color:#bf616a;">party_size</span><span>: </span><span style="color:#b48ead;">u8</span><span>, </span><span style="color:#bf616a;">date</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">time</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#a7adba;">// Check party size first
</span><span>        </span><span style="color:#b48ead;">if</span><span> party_size == </span><span style="color:#d08770;">0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Party size cannot be zero</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> party_size &gt; </span><span style="color:#d08770;">12 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Party size too large - maximum 12 guests</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Check date format (simplified)
</span><span>        </span><span style="color:#b48ead;">if</span><span> date.</span><span style="color:#96b5b4;">len</span><span>() != </span><span style="color:#d08770;">10 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Date must be in YYYY-MM-DD format</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Check time format
</span><span>        </span><span style="color:#b48ead;">if </span><span>!time.</span><span style="color:#96b5b4;">contains</span><span>(&#39;</span><span style="color:#a3be8c;">:</span><span>&#39;) {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Time must include colon (e.g., 19:30)</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// All validations passed
</span><span>        Ok(format!(&quot;</span><span style="color:#a3be8c;">Reservation confirmed for </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> guests on </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> at </span><span style="color:#d08770;">{}</span><span>&quot;, party_size, date, time))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 2: Match-based Result creation
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_dish_category</span><span>(</span><span style="color:#bf616a;">dish</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> dish.</span><span style="color:#96b5b4;">to_lowercase</span><span>().</span><span style="color:#96b5b4;">as_str</span><span>() {
</span><span>            &quot;</span><span style="color:#a3be8c;">quinoa bowl</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">buddha bowl</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">grain bowl</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Bowls</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            &quot;</span><span style="color:#a3be8c;">veggie burger</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">portobello burger</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Burgers</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            &quot;</span><span style="color:#a3be8c;">lentil soup</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">tomato soup</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">mushroom soup</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Soups</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            &quot;</span><span style="color:#a3be8c;">caesar salad</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">greek salad</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">garden salad</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Salads</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            &quot;&quot; =&gt; Err(&quot;</span><span style="color:#a3be8c;">Dish name cannot be empty</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            _ =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Unknown dish category for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, dish))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 3: Conditional Result creation
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_ingredient_stock</span><span>(</span><span style="color:#bf616a;">ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">required_amount</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">u32</span><span>, String&gt; {
</span><span>        </span><span style="color:#a7adba;">// Simulate inventory lookup
</span><span>        </span><span style="color:#b48ead;">let</span><span> stock_levels = [
</span><span>            (&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">50</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">tomatoes</span><span>&quot;, </span><span style="color:#d08770;">30</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">lettuce</span><span>&quot;, </span><span style="color:#d08770;">45</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">avocado</span><span>&quot;, </span><span style="color:#d08770;">12</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;, </span><span style="color:#d08770;">35</span><span>),
</span><span>        ];
</span><span>
</span><span>        </span><span style="color:#b48ead;">for </span><span>(item, stock) in stock_levels {
</span><span>            </span><span style="color:#b48ead;">if</span><span> item == ingredient.</span><span style="color:#96b5b4;">to_lowercase</span><span>() {
</span><span>                </span><span style="color:#b48ead;">if</span><span> stock &gt;= required_amount {
</span><span>                    </span><span style="color:#b48ead;">return </span><span>Ok(stock - required_amount); </span><span style="color:#a7adba;">// Remaining after use
</span><span>                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                    </span><span style="color:#b48ead;">return </span><span>Err(format!(&quot;</span><span style="color:#a3be8c;">Insufficient </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: need </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, have </span><span style="color:#d08770;">{}</span><span>&quot;, ingredient, required_amount, stock));
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>
</span><span>        Err(format!(&quot;</span><span style="color:#a3be8c;">Ingredient &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found in inventory</span><span>&quot;, ingredient))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 4: Result from external operations
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">parse_customer_age</span><span>(</span><span style="color:#bf616a;">age_str</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">u8</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> age_str.parse::&lt;</span><span style="color:#b48ead;">u8</span><span>&gt;() {
</span><span>            Ok(age) =&gt; {
</span><span>                </span><span style="color:#b48ead;">if</span><span> age &gt; </span><span style="color:#d08770;">120 </span><span>{
</span><span>                    Err(&quot;</span><span style="color:#a3be8c;">Age seems unrealistic</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                    Ok(age)
</span><span>                }
</span><span>            }
</span><span>            Err(_) =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">&#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is not a valid age</span><span>&quot;, age_str))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Pattern 5: Nested validation with multiple error points
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_order_payment</span><span>(</span><span style="color:#bf616a;">amount_str</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">payment_method</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, String&gt; {
</span><span>        </span><span style="color:#a7adba;">// Parse amount
</span><span>        </span><span style="color:#b48ead;">let</span><span> amount = amount_str.parse::&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;()
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|_| format!(&quot;</span><span style="color:#a3be8c;">Invalid amount format: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, amount_str))?;
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Validate amount range
</span><span>        </span><span style="color:#b48ead;">if</span><span> amount &lt;= </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Amount must be positive</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> amount &gt; </span><span style="color:#d08770;">500.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Amount exceeds daily limit of $500</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Validate payment method
</span><span>        </span><span style="color:#b48ead;">match</span><span> payment_method.</span><span style="color:#96b5b4;">to_lowercase</span><span>().</span><span style="color:#96b5b4;">as_str</span><span>() {
</span><span>            &quot;</span><span style="color:#a3be8c;">cash</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">card</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">mobile</span><span>&quot; =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   üí≥ Processing $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> via </span><span style="color:#d08770;">{}</span><span>&quot;, amount, payment_method);
</span><span>                Ok(amount)
</span><span>            }
</span><span>            _ =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Payment method &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not accepted</span><span>&quot;, payment_method))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Result Creation Patterns:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test reservation validation
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìÖ Reservation Validation:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> reservations = [
</span><span>        (</span><span style="color:#d08770;">4</span><span>, &quot;</span><span style="color:#a3be8c;">2024-12-25</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">19:30</span><span>&quot;),   </span><span style="color:#a7adba;">// Valid
</span><span>        (</span><span style="color:#d08770;">0</span><span>, &quot;</span><span style="color:#a3be8c;">2024-12-25</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">19:30</span><span>&quot;),   </span><span style="color:#a7adba;">// Invalid party size
</span><span>        (</span><span style="color:#d08770;">8</span><span>, &quot;</span><span style="color:#a3be8c;">invalid-date</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">19:30</span><span>&quot;), </span><span style="color:#a7adba;">// Invalid date
</span><span>        (</span><span style="color:#d08770;">6</span><span>, &quot;</span><span style="color:#a3be8c;">2024-12-25</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">invalid</span><span>&quot;), </span><span style="color:#a7adba;">// Invalid time
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(size, date, time) in reservations {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">validate_reservation</span><span>(size, date, time) {
</span><span>            Ok(confirmation) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ </span><span style="color:#d08770;">{}</span><span>&quot;, confirmation),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test dish categorization
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üçΩÔ∏è Dish Categorization:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> dishes = [&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Unknown Dish</span><span>&quot;, &quot;&quot;];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> dish in dishes {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">get_dish_category</span><span>(dish) {
</span><span>            Ok(category) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; ‚Üí Category: </span><span style="color:#d08770;">{}</span><span>&quot;, dish, category),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; ‚Üí Error: </span><span style="color:#d08770;">{}</span><span>&quot;, dish, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test inventory checking
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üì¶ Inventory Checking:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> inventory_checks = [(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">20</span><span>), (&quot;</span><span style="color:#a3be8c;">tomatoes</span><span>&quot;, </span><span style="color:#d08770;">40</span><span>), (&quot;</span><span style="color:#a3be8c;">caviar</span><span>&quot;, </span><span style="color:#d08770;">5</span><span>)];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(ingredient, needed) in inventory_checks {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">check_ingredient_stock</span><span>(ingredient, needed) {
</span><span>            Ok(remaining) =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí ‚úÖ Used </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> remaining</span><span>&quot;, ingredient, needed, remaining),
</span><span>            Err(error) =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí ‚ùå </span><span style="color:#d08770;">{}</span><span>&quot;, ingredient, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test age parsing
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üë§ Age Parsing:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> ages = [&quot;</span><span style="color:#a3be8c;">25</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">150</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;, &quot;&quot;];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> age_str in ages {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">parse_customer_age</span><span>(age_str) {
</span><span>            Ok(age) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; ‚Üí ‚úÖ Valid age: </span><span style="color:#d08770;">{}</span><span>&quot;, age_str, age),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; ‚Üí ‚ùå </span><span style="color:#d08770;">{}</span><span>&quot;, age_str, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test payment processing
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí≥ Payment Processing:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> payments = [(&quot;</span><span style="color:#a3be8c;">25.50</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">card</span><span>&quot;), (&quot;</span><span style="color:#a3be8c;">invalid</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">cash</span><span>&quot;), (&quot;</span><span style="color:#a3be8c;">1000.00</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">card</span><span>&quot;)];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(amount, method) in payments {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_order_payment</span><span>(amount, method) {
</span><span>            Ok(processed) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   $</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> via </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí ‚úÖ Processed $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, amount, method, processed),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   $</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> via </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí ‚ùå </span><span style="color:#d08770;">{}</span><span>&quot;, amount, method, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Result Creation Best Practices:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use early returns for clear error conditions</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Match on input values for categorization</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Validate inputs step by step</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Convert external errors with map_err()</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use ? operator for clean error propagation</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_result_creation</span><span>();
</span><span>}
</span></code></pre>
<h3 id="2-handling-results-safe-error-management">2. Handling Results - Safe Error Management</h3>
<p><strong>Different ways to safely handle Result values in your restaurant operations:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_result_handling</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üõ°Ô∏è Handling Results - Safe Restaurant Error Management</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;60}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Setup some restaurant operations that return Results
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">lookup_menu_price</span><span>(</span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> menu = HashMap::from([
</span><span>            (&quot;</span><span style="color:#a3be8c;">quinoa bowl</span><span>&quot;, </span><span style="color:#d08770;">15.99</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">veggie burger</span><span>&quot;, </span><span style="color:#d08770;">12.49</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">lentil soup</span><span>&quot;, </span><span style="color:#d08770;">9.75</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">green salad</span><span>&quot;, </span><span style="color:#d08770;">8.99</span><span>),
</span><span>        ]);
</span><span>
</span><span>        menu.</span><span style="color:#96b5b4;">get</span><span>(item.</span><span style="color:#96b5b4;">to_lowercase</span><span>().</span><span style="color:#96b5b4;">as_str</span><span>())
</span><span>            .</span><span style="color:#96b5b4;">copied</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">ok_or_else</span><span>(|| format!(&quot;</span><span style="color:#a3be8c;">Menu item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found</span><span>&quot;, item))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_tax</span><span>(</span><span style="color:#bf616a;">subtotal</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">tax_rate</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> subtotal &lt; </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Subtotal cannot be negative</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> tax_rate &lt; </span><span style="color:#d08770;">0.0 </span><span>|| tax_rate &gt; </span><span style="color:#d08770;">1.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Tax rate must be between 0.0 and 1.0</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        Ok(subtotal * tax_rate)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 1: Pattern matching - The explicit way
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üéØ Method 1: Pattern Matching (Explicit Handling)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> dish = &quot;</span><span style="color:#a3be8c;">quinoa bowl</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">let</span><span> price_result = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(dish);
</span><span>
</span><span>    </span><span style="color:#b48ead;">match</span><span> price_result {
</span><span>        Ok(price) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Found </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, dish, price);
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Chain another operation
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_tax</span><span>(price, </span><span style="color:#d08770;">0.08</span><span>) {
</span><span>                Ok(tax) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üìä Tax (8%): $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, tax),
</span><span>                Err(tax_error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Tax calculation failed: </span><span style="color:#d08770;">{}</span><span>&quot;, tax_error),
</span><span>            }
</span><span>        }
</span><span>        Err(error) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Price lookup failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 2: if let - For when you only care about success
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">‚ú® Method 2: if let (Success-focused handling)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Ok(price) = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">veggie burger</span><span>&quot;) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Veggie burger costs: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, price);
</span><span>
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Ok(tax) = </span><span style="color:#96b5b4;">calculate_tax</span><span>(price, </span><span style="color:#d08770;">0.08</span><span>) {
</span><span>            </span><span style="color:#b48ead;">let</span><span> total = price + tax;
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   üí∞ Total with tax: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, total);
</span><span>        }
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Could not find veggie burger price</span><span>&quot;);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 3: unwrap_or - Provide default values
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîÑ Method 3: unwrap_or (Default Values)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> unknown_dish_price = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">pizza</span><span>&quot;).</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Pizza price (with default): $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, unknown_dish_price);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> default_tax = </span><span style="color:#96b5b4;">calculate_tax</span><span>(</span><span style="color:#d08770;">15.99</span><span>, </span><span style="color:#d08770;">0.08</span><span>).</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Tax calculation (with default): $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, default_tax);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 4: unwrap_or_else - Computed defaults
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üßÆ Method 4: unwrap_or_else (Computed Defaults)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> computed_default = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">mystery_dish</span><span>&quot;).</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|</span><span style="color:#bf616a;">error</span><span>| {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   ‚ö†Ô∏è Lookup failed: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, using average price</span><span>&quot;, error);
</span><span>        </span><span style="color:#d08770;">13.50 </span><span style="color:#a7adba;">// Average menu price
</span><span>    });
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Mystery dish price: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, computed_default);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 5: map and map_err - Transform success and error values
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîÑ Method 5: map and map_err (Value Transformation)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> formatted_price = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">lentil soup</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">price</span><span>| format!(&quot;</span><span style="color:#a3be8c;">$</span><span style="color:#d08770;">{:.2}</span><span>&quot;, price))
</span><span>        .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">error</span><span>| format!(&quot;</span><span style="color:#a3be8c;">PRICE ERROR: </span><span style="color:#d08770;">{}</span><span>&quot;, error));
</span><span>
</span><span>    </span><span style="color:#b48ead;">match</span><span> formatted_price {
</span><span>        Ok(formatted) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Formatted price: </span><span style="color:#d08770;">{}</span><span>&quot;, formatted),
</span><span>        Err(error) =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 6: and_then - Chain operations that can fail
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîó Method 6: and_then (Operation Chaining)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> total_with_tax = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">green salad</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">price</span><span>| {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Found salad: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, price);
</span><span>            </span><span style="color:#96b5b4;">calculate_tax</span><span>(price, </span><span style="color:#d08770;">0.08</span><span>)
</span><span>                .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">tax</span><span>| price + tax)
</span><span>        });
</span><span>
</span><span>    </span><span style="color:#b48ead;">match</span><span> total_with_tax {
</span><span>        Ok(total) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Final total: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, total),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Calculation failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 7: or_else - Fallback operations
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üöÄ Method 7: or_else (Fallback Operations)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> price_with_fallback = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">unavailable_dish</span><span>&quot;)
</span><span>        .</span><span style="color:#96b5b4;">or_else</span><span>(|_| {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   First lookup failed, trying fallback...</span><span>&quot;);
</span><span>            </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa bowl</span><span>&quot;) </span><span style="color:#a7adba;">// Fallback to popular item
</span><span>        })
</span><span>        .</span><span style="color:#96b5b4;">or_else</span><span>(|_| {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Fallback failed, using emergency default</span><span>&quot;);
</span><span>            Ok(</span><span style="color:#d08770;">10.00</span><span>) </span><span style="color:#a7adba;">// Emergency default
</span><span>        });
</span><span>
</span><span>    </span><span style="color:#b48ead;">match</span><span> price_with_fallback {
</span><span>        Ok(price) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Final price: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, price),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   All fallbacks failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 8: Question mark operator (?) - Clean error propagation
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">‚ùì Method 8: Question Mark Operator (Clean Propagation)</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_order_total</span><span>(</span><span style="color:#bf616a;">dish1</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">dish2</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> price1 = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(dish1)?; </span><span style="color:#a7adba;">// Propagate error if it occurs
</span><span>        </span><span style="color:#b48ead;">let</span><span> price2 = </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(dish2)?;
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> subtotal = price1 + price2;
</span><span>        </span><span style="color:#b48ead;">let</span><span> tax = </span><span style="color:#96b5b4;">calculate_tax</span><span>(subtotal, </span><span style="color:#d08770;">0.08</span><span>)?;
</span><span>
</span><span>        Ok(subtotal + tax)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_order_total</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">veggie burger</span><span>&quot;) {
</span><span>        Ok(total) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Order total: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, total),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Order calculation failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method 9: Multiple Result handling
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üì¶ Method 9: Multiple Result Handling</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> order_items = [&quot;</span><span style="color:#a3be8c;">quinoa bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">veggie burger</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">mystery_item</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">lentil soup</span><span>&quot;];
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> successful_prices = Vec::new();
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> failed_items = Vec::new();
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> item in order_items {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">lookup_menu_price</span><span>(item) {
</span><span>            Ok(price) =&gt; {
</span><span>                successful_prices.</span><span style="color:#96b5b4;">push</span><span>((item, price));
</span><span>            }
</span><span>            Err(error) =&gt; {
</span><span>                failed_items.</span><span style="color:#96b5b4;">push</span><span>((item, error));
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Found prices for </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> items:</span><span>&quot;, successful_prices.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>    </span><span style="color:#b48ead;">for </span><span>(item, price) in successful_prices {
</span><span>        println!(&quot;     </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, item, price);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">if </span><span>!failed_items.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Failed to find </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> items:</span><span>&quot;, failed_items.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>        </span><span style="color:#b48ead;">for </span><span>(item, error) in failed_items {
</span><span>            println!(&quot;     </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí </span><span style="color:#d08770;">{}</span><span>&quot;, item, error);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Result Handling Best Practices:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use pattern matching for explicit error handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use if let when you only care about success</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use unwrap_or for simple default values</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use and_then to chain fallible operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use ? operator for clean error propagation</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use or_else for fallback operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Avoid unwrap() in production code</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_result_handling</span><span>();
</span><span>}
</span></code></pre>
<h2 id="advanced-result-t-e-patterns-and-techniques">Advanced Result&lt;T, E&gt; Patterns and Techniques</h2>
<h3 id="1-error-propagation-and-the-operator">1. Error Propagation and the ? Operator</h3>
<p><strong>Elegant error handling in complex restaurant operations:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_error_propagation</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üîó Error Propagation - Restaurant Operation Chains</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;55}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Restaurant database simulation
</span><span>    </span><span style="color:#b48ead;">struct </span><span>RestaurantDB {
</span><span>        </span><span style="color:#bf616a;">menu_prices</span><span>: HashMap&lt;String, </span><span style="color:#b48ead;">f64</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">inventory</span><span>: HashMap&lt;String, </span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">customers</span><span>: HashMap&lt;String, CustomerInfo&gt;,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug, Clone)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>CustomerInfo {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">loyalty_points</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">dietary_restrictions</span><span>: Vec&lt;String&gt;,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>        MenuItemNotFound(String),
</span><span>        InsufficientInventory { item: String, needed: </span><span style="color:#b48ead;">u32</span><span>, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        CustomerNotFound(String),
</span><span>        InvalidPrice(</span><span style="color:#b48ead;">f64</span><span>),
</span><span>        PaymentProcessingError(String),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>std::fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>std::fmt::Formatter) -&gt; std::fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::MenuItemNotFound(item) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Menu item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found</span><span>&quot;, item),
</span><span>                RestaurantError::InsufficientInventory { item, needed, available } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Not enough </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: need </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, have </span><span style="color:#d08770;">{}</span><span>&quot;, item, needed, available),
</span><span>                RestaurantError::CustomerNotFound(email) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Customer &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found</span><span>&quot;, email),
</span><span>                RestaurantError::InvalidPrice(price) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Invalid price: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, price),
</span><span>                RestaurantError::PaymentProcessingError(msg) =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Payment failed: </span><span style="color:#d08770;">{}</span><span>&quot;, msg),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>RestaurantDB {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> menu_prices = HashMap::new();
</span><span>            menu_prices.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">15.99</span><span>);
</span><span>            menu_prices.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">veggie_burger</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">12.49</span><span>);
</span><span>            menu_prices.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">lentil_soup</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">9.75</span><span>);
</span><span>
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> inventory = HashMap::new();
</span><span>            inventory.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">50</span><span>);
</span><span>            inventory.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">30</span><span>);
</span><span>            inventory.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">25</span><span>);
</span><span>
</span><span>            </span><span style="color:#b48ead;">let mut</span><span> customers = HashMap::new();
</span><span>            customers.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), CustomerInfo {
</span><span>                name: &quot;</span><span style="color:#a3be8c;">Alice Johnson</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                loyalty_points: </span><span style="color:#d08770;">150</span><span>,
</span><span>                dietary_restrictions: vec![&quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()],
</span><span>            });
</span><span>
</span><span>            RestaurantDB { menu_prices, inventory, customers }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Method without ? operator (verbose)
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_menu_price_verbose</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, RestaurantError&gt; {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self</span><span>.menu_prices.</span><span style="color:#96b5b4;">get</span><span>(item) {
</span><span>                Some(&amp;price) =&gt; Ok(price),
</span><span>                None =&gt; Err(RestaurantError::MenuItemNotFound(item.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Method with ? operator (clean)
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_menu_price</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, RestaurantError&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.menu_prices.</span><span style="color:#96b5b4;">get</span><span>(item)
</span><span>                .</span><span style="color:#96b5b4;">copied</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">ok_or_else</span><span>(|| RestaurantError::MenuItemNotFound(item.</span><span style="color:#96b5b4;">to_string</span><span>()))
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_inventory</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">needed</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;(), RestaurantError&gt; {
</span><span>            </span><span style="color:#b48ead;">let</span><span> available = </span><span style="color:#bf616a;">self</span><span>.inventory.</span><span style="color:#96b5b4;">get</span><span>(item)
</span><span>                .</span><span style="color:#96b5b4;">copied</span><span>()
</span><span>                .</span><span style="color:#96b5b4;">ok_or_else</span><span>(|| RestaurantError::MenuItemNotFound(item.</span><span style="color:#96b5b4;">to_string</span><span>()))?;
</span><span>
</span><span>            </span><span style="color:#b48ead;">if</span><span> available &gt;= needed {
</span><span>                Ok(())
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                Err(RestaurantError::InsufficientInventory {
</span><span>                    item: item.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    needed,
</span><span>                    available
</span><span>                })
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_customer</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;&amp;CustomerInfo, RestaurantError&gt; {
</span><span>            </span><span style="color:#bf616a;">self</span><span>.customers.</span><span style="color:#96b5b4;">get</span><span>(email)
</span><span>                .</span><span style="color:#96b5b4;">ok_or_else</span><span>(|| RestaurantError::CustomerNotFound(email.</span><span style="color:#96b5b4;">to_string</span><span>()))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Complex operation chain using ? operator
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_complete_order</span><span>(
</span><span>        </span><span style="color:#bf616a;">db</span><span>: &amp;RestaurantDB,
</span><span>        </span><span style="color:#bf616a;">customer_email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">dish</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32
</span><span>    ) -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Step 1: Validate customer exists
</span><span>        </span><span style="color:#b48ead;">let</span><span> customer = db.</span><span style="color:#96b5b4;">get_customer</span><span>(customer_email)?;
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Step 2: Get menu price
</span><span>        </span><span style="color:#b48ead;">let</span><span> unit_price = db.</span><span style="color:#96b5b4;">get_menu_price</span><span>(dish)?;
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Step 3: Check inventory
</span><span>        </span><span style="color:#b48ead;">let</span><span> ingredient = </span><span style="color:#b48ead;">match</span><span> dish {
</span><span>            &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot; =&gt; &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">veggie_burger</span><span>&quot; =&gt; &quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">lentil_soup</span><span>&quot; =&gt; &quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;,
</span><span>            _ =&gt; </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::MenuItemNotFound(dish.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>        };
</span><span>
</span><span>        db.</span><span style="color:#96b5b4;">check_inventory</span><span>(ingredient, quantity)?;
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Step 4: Calculate total
</span><span>        </span><span style="color:#b48ead;">let</span><span> total = unit_price * quantity as </span><span style="color:#b48ead;">f64</span><span>;
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Step 5: Apply loyalty discount
</span><span>        </span><span style="color:#b48ead;">let</span><span> discount = </span><span style="color:#b48ead;">if</span><span> customer.loyalty_points &gt; </span><span style="color:#d08770;">100 </span><span>{ </span><span style="color:#d08770;">0.10 </span><span>} </span><span style="color:#b48ead;">else </span><span>{ </span><span style="color:#d08770;">0.0 </span><span>};
</span><span>        </span><span style="color:#b48ead;">let</span><span> final_total = total * (</span><span style="color:#d08770;">1.0 </span><span>- discount);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Step 6: Process payment (simulated)
</span><span>        </span><span style="color:#96b5b4;">process_payment</span><span>(final_total)?;
</span><span>
</span><span>        Ok(format!(
</span><span>            &quot;</span><span style="color:#a3be8c;">Order completed for </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> = $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">% discount applied)</span><span>&quot;,
</span><span>            customer.name,
</span><span>            quantity,
</span><span>            dish,
</span><span>            final_total,
</span><span>            (discount * </span><span style="color:#d08770;">100.0</span><span>) as </span><span style="color:#b48ead;">u32
</span><span>        ))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_payment</span><span>(</span><span style="color:#bf616a;">amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; Result&lt;(), RestaurantError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> amount &lt;= </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::InvalidPrice(amount));
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> amount &gt; </span><span style="color:#d08770;">1000.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(RestaurantError::PaymentProcessingError(
</span><span>                &quot;</span><span style="color:#a3be8c;">Amount exceeds daily limit</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>            ));
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Simulate payment processing
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   üí≥ Processing payment: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, amount);
</span><span>        Ok(())
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Compare verbose vs clean error handling
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üìä Comparing Error Handling Approaches:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> db = RestaurantDB::new();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Verbose approach (without ? operator)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">verbose_order_processing</span><span>(</span><span style="color:#bf616a;">db</span><span>: &amp;RestaurantDB, </span><span style="color:#bf616a;">dish</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, RestaurantError&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> db.</span><span style="color:#96b5b4;">get_menu_price_verbose</span><span>(dish) {
</span><span>            Ok(price) =&gt; {
</span><span>                </span><span style="color:#b48ead;">match</span><span> db.</span><span style="color:#96b5b4;">check_inventory</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>) {
</span><span>                    Ok(()) =&gt; {
</span><span>                        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_payment</span><span>(price) {
</span><span>                            Ok(()) =&gt; Ok(price),
</span><span>                            Err(e) =&gt; Err(e),
</span><span>                        }
</span><span>                    }
</span><span>                    Err(e) =&gt; Err(e),
</span><span>                }
</span><span>            }
</span><span>            Err(e) =&gt; Err(e),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Clean approach (with ? operator)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">clean_order_processing</span><span>(</span><span style="color:#bf616a;">db</span><span>: &amp;RestaurantDB, </span><span style="color:#bf616a;">dish</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, RestaurantError&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> price = db.</span><span style="color:#96b5b4;">get_menu_price</span><span>(dish)?;
</span><span>        db.</span><span style="color:#96b5b4;">check_inventory</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>)?;
</span><span>        </span><span style="color:#96b5b4;">process_payment</span><span>(price)?;
</span><span>        Ok(price)
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üß™ Testing Order Processing:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_orders = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">2</span><span>),     </span><span style="color:#a7adba;">// Valid order
</span><span>        (&quot;</span><span style="color:#a3be8c;">unknown@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),   </span><span style="color:#a7adba;">// Unknown customer
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">pizza</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),           </span><span style="color:#a7adba;">// Unknown dish
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">100</span><span>),   </span><span style="color:#a7adba;">// Insufficient inventory
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(email, dish, quantity) in test_orders {
</span><span>        println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   üìã Order: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> for </span><span style="color:#d08770;">{}</span><span>&quot;, quantity, dish, email);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_complete_order</span><span>(&amp;db, email, dish, quantity) {
</span><span>            Ok(confirmation) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ </span><span style="color:#d08770;">{}</span><span>&quot;, confirmation),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     ‚ùå Order failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Demonstrate error propagation through function chains
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîó Error Propagation Chain Example:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_and_prepare_order</span><span>(
</span><span>        </span><span style="color:#bf616a;">dish</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">customer_email</span><span>: &amp;</span><span style="color:#b48ead;">str
</span><span>    ) -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> db = RestaurantDB::new();
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Each ? operator can short-circuit and return the error
</span><span>        </span><span style="color:#b48ead;">let</span><span> customer = db.</span><span style="color:#96b5b4;">get_customer</span><span>(customer_email)?;
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úì Customer validated: </span><span style="color:#d08770;">{}</span><span>&quot;, customer.name);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> price = db.</span><span style="color:#96b5b4;">get_menu_price</span><span>(dish)?;
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úì Price found: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, price);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> ingredient = </span><span style="color:#b48ead;">match</span><span> dish {
</span><span>            &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot; =&gt; &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;,
</span><span>            &quot;</span><span style="color:#a3be8c;">lentil_soup</span><span>&quot; =&gt; &quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;,
</span><span>            _ =&gt; &quot;</span><span style="color:#a3be8c;">vegetables</span><span>&quot;,
</span><span>        };
</span><span>
</span><span>        db.</span><span style="color:#96b5b4;">check_inventory</span><span>(ingredient, quantity)?;
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úì Inventory sufficient</span><span>&quot;);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> total = price * quantity as </span><span style="color:#b48ead;">f64</span><span>;
</span><span>        </span><span style="color:#96b5b4;">process_payment</span><span>(total)?;
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     ‚úì Payment processed</span><span>&quot;);
</span><span>
</span><span>        Ok(format!(&quot;</span><span style="color:#a3be8c;">Order ready: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> for $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, quantity, dish, total))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">validate_and_prepare_order</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>, &quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;) {
</span><span>        Ok(result) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üéâ Success: </span><span style="color:#d08770;">{}</span><span>&quot;, result),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üí• Failed at some step: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ ? Operator Benefits:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Reduces boilerplate code dramatically</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Makes error propagation explicit and clean</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Stops execution at first error encountered</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Maintains readability in complex operations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Works with any Result&lt;T, E&gt; or Option&lt;T&gt;</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_error_propagation</span><span>();
</span><span>}
</span></code></pre>
<h3 id="2-custom-error-types-and-error-conversion">2. Custom Error Types and Error Conversion</h3>
<p><strong>Building sophisticated error handling systems for restaurant operations:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_custom_error_types</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üèóÔ∏è Custom Error Types - Professional Restaurant Error System</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::fmt;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Define a comprehensive error system for the restaurant
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>        </span><span style="color:#a7adba;">// Customer-related errors
</span><span>        Customer(CustomerError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Menu-related errors
</span><span>        Menu(MenuError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Kitchen-related errors
</span><span>        Kitchen(KitchenError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Payment-related errors
</span><span>        Payment(PaymentError),
</span><span>
</span><span>        </span><span style="color:#a7adba;">// System-related errors
</span><span>        System(SystemError),
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>CustomerError {
</span><span>        NotFound { email: String },
</span><span>        AccountSuspended { reason: String },
</span><span>        InvalidReservation { details: String },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>MenuError {
</span><span>        ItemNotAvailable { item: String },
</span><span>        CategoryNotFound { category: String },
</span><span>        PriceError { item: String, invalid_price: </span><span style="color:#b48ead;">f64 </span><span>},
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>KitchenError {
</span><span>        InsufficientIngredients { item: String, needed: </span><span style="color:#b48ead;">u32</span><span>, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>        EquipmentFailure { equipment: String },
</span><span>        StaffShortage { required: </span><span style="color:#b48ead;">u32</span><span>, available: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>PaymentError {
</span><span>        InsufficientFunds { required: </span><span style="color:#b48ead;">f64</span><span>, available: </span><span style="color:#b48ead;">f64 </span><span>},
</span><span>        InvalidPaymentMethod { method: String },
</span><span>        ProcessingFailed { transaction_id: String, reason: String },
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>SystemError {
</span><span>        DatabaseConnection { details: String },
</span><span>        ConfigurationMissing { setting: String },
</span><span>        NetworkTimeout { operation: String, timeout_seconds: </span><span style="color:#b48ead;">u32 </span><span>},
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement Display trait for user-friendly error messages
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                RestaurantError::Customer(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Customer Error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantError::Menu(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Menu Error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantError::Kitchen(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Kitchen Error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantError::Payment(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Payment Error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>                RestaurantError::System(e) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">System Error: </span><span style="color:#d08770;">{}</span><span>&quot;, e),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>CustomerError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                CustomerError::NotFound { email } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Customer &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found in our system</span><span>&quot;, email),
</span><span>                CustomerError::AccountSuspended { reason } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Account suspended: </span><span style="color:#d08770;">{}</span><span>&quot;, reason),
</span><span>                CustomerError::InvalidReservation { details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Invalid reservation: </span><span style="color:#d08770;">{}</span><span>&quot;, details),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>MenuError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                MenuError::ItemNotAvailable { item } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Menu item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is currently unavailable</span><span>&quot;, item),
</span><span>                MenuError::CategoryNotFound { category } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Menu category &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; does not exist</span><span>&quot;, category),
</span><span>                MenuError::PriceError { item, invalid_price } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Invalid price $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> for item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, invalid_price, item),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>KitchenError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                KitchenError::InsufficientIngredients { item, needed, available } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Not enough </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: need </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, have </span><span style="color:#d08770;">{}</span><span>&quot;, item, needed, available),
</span><span>                KitchenError::EquipmentFailure { equipment } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is currently out of order</span><span>&quot;, equipment),
</span><span>                KitchenError::StaffShortage { required, available } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Staff shortage: need </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">, have </span><span style="color:#d08770;">{}</span><span>&quot;, required, available),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>PaymentError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                PaymentError::InsufficientFunds { required, available } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Insufficient funds: need $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;">, have $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, required, available),
</span><span>                PaymentError::InvalidPaymentMethod { method } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Payment method &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is not accepted</span><span>&quot;, method),
</span><span>                PaymentError::ProcessingFailed { transaction_id, reason } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Payment processing failed (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">): </span><span style="color:#d08770;">{}</span><span>&quot;, transaction_id, reason),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>SystemError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                SystemError::DatabaseConnection { details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Database connection failed: </span><span style="color:#d08770;">{}</span><span>&quot;, details),
</span><span>                SystemError::ConfigurationMissing { setting } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Required configuration &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is missing</span><span>&quot;, setting),
</span><span>                SystemError::NetworkTimeout { operation, timeout_seconds } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Network timeout for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; after </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> seconds</span><span>&quot;, operation, timeout_seconds),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Implement From trait for automatic error conversion
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;CustomerError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: CustomerError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantError::Customer(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;MenuError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: MenuError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantError::Menu(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;KitchenError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: KitchenError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantError::Kitchen(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;PaymentError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: PaymentError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantError::Payment(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>From&lt;SystemError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: SystemError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            RestaurantError::System(error)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Restaurant operations using custom error types
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Restaurant {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>Restaurant {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">name</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>            Restaurant { name: name.</span><span style="color:#96b5b4;">to_string</span><span>() }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">find_customer</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;Customer, CustomerError&gt; {
</span><span>            </span><span style="color:#b48ead;">match</span><span> email {
</span><span>                &quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot; =&gt; Ok(Customer {
</span><span>                    email: email.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    name: &quot;</span><span style="color:#a3be8c;">Alice Johnson</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    balance: </span><span style="color:#d08770;">50.0</span><span>,
</span><span>                }),
</span><span>                &quot;</span><span style="color:#a3be8c;">banned@email.com</span><span>&quot; =&gt; Err(CustomerError::AccountSuspended {
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Multiple no-shows</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>                }),
</span><span>                _ =&gt; Err(CustomerError::NotFound {
</span><span>                    email: email.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>                }),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_menu_item</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;MenuItem, MenuError&gt; {
</span><span>            </span><span style="color:#b48ead;">match</span><span> item {
</span><span>                &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot; =&gt; Ok(MenuItem {
</span><span>                    name: item.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    price: </span><span style="color:#d08770;">15.99</span><span>,
</span><span>                    available: </span><span style="color:#d08770;">true</span><span>,
</span><span>                }),
</span><span>                &quot;</span><span style="color:#a3be8c;">sold_out_special</span><span>&quot; =&gt; Err(MenuError::ItemNotAvailable {
</span><span>                    item: item.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>                }),
</span><span>                _ =&gt; Err(MenuError::ItemNotAvailable {
</span><span>                    item: item.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>                }),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">prepare_dish</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;(), KitchenError&gt; {
</span><span>            </span><span style="color:#b48ead;">match</span><span> item {
</span><span>                &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot; =&gt; {
</span><span>                    </span><span style="color:#b48ead;">let</span><span> available_quinoa = </span><span style="color:#d08770;">20</span><span>;
</span><span>                    </span><span style="color:#b48ead;">if</span><span> available_quinoa &gt;= quantity {
</span><span>                        Ok(())
</span><span>                    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                        Err(KitchenError::InsufficientIngredients {
</span><span>                            item: &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                            needed: quantity,
</span><span>                            available: available_quinoa,
</span><span>                        })
</span><span>                    }
</span><span>                }
</span><span>                _ =&gt; Err(KitchenError::EquipmentFailure {
</span><span>                    equipment: &quot;</span><span style="color:#a3be8c;">main prep station</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>                }),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_payment</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">customer</span><span>: &amp;Customer, </span><span style="color:#bf616a;">amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; Result&lt;String, PaymentError&gt; {
</span><span>            </span><span style="color:#b48ead;">if</span><span> customer.balance &lt; amount {
</span><span>                </span><span style="color:#b48ead;">return </span><span>Err(PaymentError::InsufficientFunds {
</span><span>                    required: amount,
</span><span>                    available: customer.balance,
</span><span>                });
</span><span>            }
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Simulate payment processing
</span><span>            Ok(format!(&quot;</span><span style="color:#a3be8c;">TXN_</span><span style="color:#d08770;">{}</span><span>&quot;, rand::random::&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;()))
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Combined operation that can fail at multiple points
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">complete_order</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">customer_email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">item</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;String, RestaurantError&gt; {
</span><span>            </span><span style="color:#a7adba;">// Each step can produce a different type of error
</span><span>            </span><span style="color:#a7adba;">// The ? operator automatically converts them using From trait
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> customer = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">find_customer</span><span>(customer_email)?;  </span><span style="color:#a7adba;">// CustomerError -&gt; RestaurantError
</span><span>            </span><span style="color:#b48ead;">let</span><span> menu_item = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">check_menu_item</span><span>(item)?;         </span><span style="color:#a7adba;">// MenuError -&gt; RestaurantError
</span><span>            </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">prepare_dish</span><span>(item, quantity)?;                  </span><span style="color:#a7adba;">// KitchenError -&gt; RestaurantError
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> total_amount = menu_item.price * quantity as </span><span style="color:#b48ead;">f64</span><span>;
</span><span>            </span><span style="color:#b48ead;">let</span><span> transaction_id = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">process_payment</span><span>(&amp;customer, total_amount)?; </span><span style="color:#a7adba;">// PaymentError -&gt; RestaurantError
</span><span>
</span><span>            Ok(format!(
</span><span>                &quot;</span><span style="color:#a3be8c;">Order completed: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> for </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (Transaction: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;,
</span><span>                quantity, item, customer.name, transaction_id
</span><span>            ))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Customer {
</span><span>        </span><span style="color:#bf616a;">email</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">balance</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">available</span><span>: </span><span style="color:#b48ead;">bool</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Add a simple random number generator for transaction IDs
</span><span>    </span><span style="color:#b48ead;">mod </span><span>rand {
</span><span>        </span><span style="color:#b48ead;">static mut </span><span style="color:#d08770;">SEED</span><span>: </span><span style="color:#b48ead;">u32 </span><span>= </span><span style="color:#d08770;">42</span><span>;
</span><span>
</span><span>        </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">random</span><span>&lt;T&gt;() -&gt; T </span><span style="color:#b48ead;">where</span><span> T: From&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; {
</span><span>            </span><span style="color:#b48ead;">unsafe </span><span>{
</span><span>                </span><span style="color:#d08770;">SEED </span><span>= </span><span style="color:#d08770;">SEED</span><span>.</span><span style="color:#96b5b4;">wrapping_mul</span><span>(</span><span style="color:#d08770;">1664525</span><span>).</span><span style="color:#96b5b4;">wrapping_add</span><span>(</span><span style="color:#d08770;">1013904223</span><span>);
</span><span>                T::from(</span><span style="color:#d08770;">SEED </span><span>% </span><span style="color:#d08770;">10000</span><span>)
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Custom Error System:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> restaurant = Restaurant::new(&quot;</span><span style="color:#a3be8c;">Green Garden Bistro</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_orders = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),      </span><span style="color:#a7adba;">// Should succeed
</span><span>        (&quot;</span><span style="color:#a3be8c;">unknown@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),    </span><span style="color:#a7adba;">// Customer not found
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">pizza</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),            </span><span style="color:#a7adba;">// Menu item not available
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">50</span><span>),     </span><span style="color:#a7adba;">// Insufficient ingredients
</span><span>        (&quot;</span><span style="color:#a3be8c;">banned@email.com</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa_bowl</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),     </span><span style="color:#a7adba;">// Account suspended
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(email, item, quantity) in test_orders {
</span><span>        println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   üìã Processing order: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> for </span><span style="color:#d08770;">{}</span><span>&quot;, quantity, item, email);
</span><span>
</span><span>        </span><span style="color:#b48ead;">match</span><span> restaurant.</span><span style="color:#96b5b4;">complete_order</span><span>(email, item, quantity) {
</span><span>            Ok(confirmation) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ Success: </span><span style="color:#d08770;">{}</span><span>&quot;, confirmation);
</span><span>            }
</span><span>            Err(error) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚ùå Failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error);
</span><span>
</span><span>                </span><span style="color:#a7adba;">// Demonstrate error handling by type
</span><span>                </span><span style="color:#b48ead;">match</span><span> error {
</span><span>                    RestaurantError::Customer(CustomerError::NotFound { .. }) =&gt; {
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Ask customer to register</span><span>&quot;);
</span><span>                    }
</span><span>                    RestaurantError::Menu(MenuError::ItemNotAvailable { .. }) =&gt; {
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Recommend similar items</span><span>&quot;);
</span><span>                    }
</span><span>                    RestaurantError::Kitchen(KitchenError::InsufficientIngredients { .. }) =&gt; {
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Offer alternative dishes or wait time</span><span>&quot;);
</span><span>                    }
</span><span>                    RestaurantError::Customer(CustomerError::AccountSuspended { .. }) =&gt; {
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Contact customer service</span><span>&quot;);
</span><span>                    }
</span><span>                    _ =&gt; {
</span><span>                        println!(&quot;</span><span style="color:#a3be8c;">     üí° Suggestion: Please try again later</span><span>&quot;);
</span><span>                    }
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Custom Error Type Benefits:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Type-safe error categorization</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Rich error context and details</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Automatic error conversion with From trait</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ User-friendly error messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Easy error handling by category</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Extensible error system design</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí° Design Principles:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üéØ Each error type represents a specific domain</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìù Include relevant context in error variants</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Implement From traits for automatic conversion</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üë§ Implement Display for user-friendly messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üèóÔ∏è Structure errors hierarchically when appropriate</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_custom_error_types</span><span>();
</span><span>}
</span></code></pre>
<h2 id="result-t-e-vs-panic-making-the-right-choice">Result&lt;T, E&gt; vs panic! - Making the Right Choice</h2>
<h3 id="understanding-when-to-use-each-error-handling-approach">Understanding When to Use Each Error Handling Approach</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_result_vs_panic</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">‚öñÔ∏è Result&lt;T, E&gt; vs panic! - Choosing the Right Error Strategy</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Scenario comparison: When to use Result vs when to use panic!
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üéØ Decision Framework:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìä Expected vs Unexpected errors</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Recoverable vs Unrecoverable situations</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üë§ User errors vs Programming errors</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìà Production vs Development/Testing code</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ‚úÖ Use Result&lt;T, E&gt; for: Expected, recoverable errors
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">‚úÖ Use Result&lt;T, E&gt; for Expected, Recoverable Errors:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// User input validation - expected to sometimes fail
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">parse_customer_age</span><span>(</span><span style="color:#bf616a;">input</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">u8</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> input.</span><span style="color:#96b5b4;">trim</span><span>().parse::&lt;</span><span style="color:#b48ead;">u8</span><span>&gt;() {
</span><span>            Ok(age) </span><span style="color:#b48ead;">if</span><span> age &lt;= </span><span style="color:#d08770;">120 </span><span>=&gt; Ok(age),
</span><span>            Ok(age) =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Age </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> seems unrealistic</span><span>&quot;, age)),
</span><span>            Err(_) =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">&#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; is not a valid age</span><span>&quot;, input)),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// File operations - files might not exist
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">load_menu_config</span><span>(</span><span style="color:#bf616a;">filename</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#a7adba;">// Simulate file reading
</span><span>        </span><span style="color:#b48ead;">match</span><span> filename {
</span><span>            &quot;</span><span style="color:#a3be8c;">menu.txt</span><span>&quot; =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Quinoa Bowl,15.99</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Veggie Burger,12.49</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            &quot;</span><span style="color:#a3be8c;">missing.txt</span><span>&quot; =&gt; Err(&quot;</span><span style="color:#a3be8c;">File not found</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            &quot;</span><span style="color:#a3be8c;">corrupted.txt</span><span>&quot; =&gt; Err(&quot;</span><span style="color:#a3be8c;">File is corrupted</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            _ =&gt; Ok(&quot;</span><span style="color:#a3be8c;">Default menu configuration</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Network operations - networks can fail
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fetch_daily_specials</span><span>() -&gt; Result&lt;Vec&lt;String&gt;, String&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> network_available = </span><span style="color:#d08770;">true</span><span>; </span><span style="color:#a7adba;">// Simulate network status
</span><span>
</span><span>        </span><span style="color:#b48ead;">if </span><span>!network_available {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Network connection unavailable</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Simulate API call
</span><span>        Ok(vec![
</span><span>            &quot;</span><span style="color:#a3be8c;">Today&#39;s special: Mushroom Risotto</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            &quot;</span><span style="color:#a3be8c;">Soup of the day: Butternut Squash</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>        ])
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Business rule validation - rules can be violated
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">apply_loyalty_discount</span><span>(</span><span style="color:#bf616a;">total</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">loyalty_points</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> total &lt;= </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Order total must be positive</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> discount_rate = </span><span style="color:#b48ead;">match</span><span> loyalty_points {
</span><span>            </span><span style="color:#d08770;">0</span><span>..=</span><span style="color:#d08770;">99 </span><span>=&gt; </span><span style="color:#d08770;">0.0</span><span>,
</span><span>            </span><span style="color:#d08770;">100</span><span>..=</span><span style="color:#d08770;">499 </span><span>=&gt; </span><span style="color:#d08770;">0.05</span><span>,
</span><span>            </span><span style="color:#d08770;">500</span><span>..=</span><span style="color:#d08770;">999 </span><span>=&gt; </span><span style="color:#d08770;">0.10</span><span>,
</span><span>            </span><span style="color:#d08770;">1000</span><span>.. =&gt; </span><span style="color:#d08770;">0.15</span><span>,
</span><span>        };
</span><span>
</span><span>        Ok(total * (</span><span style="color:#d08770;">1.0 </span><span>- discount_rate))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ‚ùå Use panic! for: Programming errors and impossible conditions
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üö® Use panic! for Programming Errors and Impossible Conditions:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Array bounds that should never be exceeded (programming error)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_menu_section</span><span>(</span><span style="color:#bf616a;">section_id</span><span>: </span><span style="color:#b48ead;">usize</span><span>) -&gt; &amp;</span><span style="color:#b48ead;">&#39;static str </span><span>{
</span><span>        </span><span style="color:#b48ead;">let</span><span> sections = [&quot;</span><span style="color:#a3be8c;">Appetizers</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Mains</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Desserts</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Beverages</span><span>&quot;];
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> section_id &gt;= sections.</span><span style="color:#96b5b4;">len</span><span>() {
</span><span>            panic!(&quot;</span><span style="color:#a3be8c;">üêõ PROGRAMMING ERROR: Invalid section_id {}. Valid range: 0-{}</span><span>&quot;,
</span><span>                   section_id, sections.</span><span style="color:#96b5b4;">len</span><span>() - </span><span style="color:#d08770;">1</span><span>);
</span><span>        }
</span><span>
</span><span>        sections[section_id]
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Invariant violations (should never happen if code is correct)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_split_bill</span><span>(</span><span style="color:#bf616a;">total</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">people</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; </span><span style="color:#b48ead;">f64 </span><span>{
</span><span>        </span><span style="color:#b48ead;">if</span><span> people == </span><span style="color:#d08770;">0 </span><span>{
</span><span>            panic!(&quot;</span><span style="color:#a3be8c;">üêõ LOGIC ERROR: Cannot split bill among 0 people</span><span>&quot;);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> total &lt; </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            panic!(&quot;</span><span style="color:#a3be8c;">üêõ DATA ERROR: Bill total ${:.2} cannot be negative</span><span>&quot;, total);
</span><span>        }
</span><span>
</span><span>        total / people as </span><span style="color:#b48ead;">f64
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Configuration that must be valid (deployment/setup error)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_restaurant_capacity</span><span>() -&gt; </span><span style="color:#b48ead;">u32 </span><span>{
</span><span>        </span><span style="color:#b48ead;">const </span><span style="color:#d08770;">MAX_TABLES</span><span>: </span><span style="color:#b48ead;">u32 </span><span>= </span><span style="color:#d08770;">25</span><span>;
</span><span>        </span><span style="color:#b48ead;">const </span><span style="color:#d08770;">SEATS_PER_TABLE</span><span>: </span><span style="color:#b48ead;">u32 </span><span>= </span><span style="color:#d08770;">4</span><span>;
</span><span>
</span><span>        </span><span style="color:#b48ead;">if </span><span style="color:#d08770;">MAX_TABLES </span><span>== </span><span style="color:#d08770;">0 </span><span>{
</span><span>            panic!(&quot;</span><span style="color:#a3be8c;">üîß CONFIG ERROR: MAX_TABLES cannot be zero</span><span>&quot;);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if </span><span style="color:#d08770;">SEATS_PER_TABLE </span><span>== </span><span style="color:#d08770;">0 </span><span>{
</span><span>            panic!(&quot;</span><span style="color:#a3be8c;">üîß CONFIG ERROR: SEATS_PER_TABLE cannot be zero</span><span>&quot;);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#d08770;">MAX_TABLES </span><span>* </span><span style="color:#d08770;">SEATS_PER_TABLE
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üß™ Testing Result&lt;T, E&gt; Usage (Recoverable Errors):</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test user input parsing
</span><span>    </span><span style="color:#b48ead;">let</span><span> age_inputs = [&quot;</span><span style="color:#a3be8c;">25</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">150</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;, &quot;&quot;];
</span><span>    </span><span style="color:#b48ead;">for</span><span> input in age_inputs {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">parse_customer_age</span><span>(input) {
</span><span>            Ok(age) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Age &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; ‚Üí </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> years old</span><span>&quot;, input, age),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Age &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; ‚Üí </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (can ask user to retry)</span><span>&quot;, input, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test file operations with fallbacks
</span><span>    </span><span style="color:#b48ead;">let</span><span> config_files = [&quot;</span><span style="color:#a3be8c;">menu.txt</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">missing.txt</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">backup.txt</span><span>&quot;];
</span><span>    </span><span style="color:#b48ead;">for</span><span> filename in config_files {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">load_menu_config</span><span>(filename) {
</span><span>            Ok(config) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Loaded </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> chars</span><span>&quot;, filename, config.</span><span style="color:#96b5b4;">len</span><span>()),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üîÑ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> failed: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (can try backup)</span><span>&quot;, filename, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test network operations with graceful degradation
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">fetch_daily_specials</span><span>() {
</span><span>        Ok(specials) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Daily specials loaded:</span><span>&quot;);
</span><span>            </span><span style="color:#b48ead;">for</span><span> special in specials {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚Ä¢ </span><span style="color:#d08770;">{}</span><span>&quot;, special);
</span><span>            }
</span><span>        }
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Specials unavailable: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (can show cached menu)</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test business rules with user feedback
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">apply_loyalty_discount</span><span>(</span><span style="color:#d08770;">50.0</span><span>, </span><span style="color:#d08770;">250</span><span>) {
</span><span>        Ok(discounted) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Loyalty discount applied: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, discounted),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   üîÑ Discount error: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (can proceed without discount)</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üß™ Testing panic! Usage (Programming Errors):</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// These would panic in real scenarios - we&#39;ll show the concept
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîß Valid configuration check:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> capacity = </span><span style="color:#96b5b4;">get_restaurant_capacity</span><span>();
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Restaurant capacity: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> guests</span><span>&quot;, capacity);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìä Valid section access:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> i in </span><span style="color:#d08770;">0</span><span>..</span><span style="color:#d08770;">4 </span><span>{
</span><span>        </span><span style="color:#b48ead;">let</span><span> section = </span><span style="color:#96b5b4;">get_menu_section</span><span>(i);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">     Section </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, i, section);
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üí∞ Valid bill calculation:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> split_amount = </span><span style="color:#96b5b4;">calculate_split_bill</span><span>(</span><span style="color:#d08770;">100.0</span><span>, </span><span style="color:#d08770;">4</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">     Split bill: $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> per person</span><span>&quot;, split_amount);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Examples of what WOULD panic (we won&#39;t actually call these)
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üö® Examples that WOULD panic (programming errors):</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ get_menu_section(10) ‚Üí Index out of bounds</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ calculate_split_bill(50.0, 0) ‚Üí Division by zero</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚Ä¢ calculate_split_bill(-10.0, 2) ‚Üí Negative total</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üéØ Decision Guidelines Summary:</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">‚úÖ Use Result&lt;T, E&gt; when:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üë§ Handling user input (parsing, validation)</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìÅ Working with external resources (files, network)</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üè¢ Enforcing business rules (discounts, limits)</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîÑ The program can recover and continue</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìä Errors are part of normal program flow</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üö® Use panic! when:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üêõ Programming logic is violated</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üîß Configuration/setup is invalid</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üìê Mathematical impossibilities occur</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üéØ Contract preconditions are violated</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   üß™ Writing tests, examples, or prototypes</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üí° Key Principle:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Result&lt;T, E&gt; = &#39;This might fail, and that&#39;s okay&#39;</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   panic!       = &#39;This should never happen if code is correct&#39;</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Practical example: Combining both approaches
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîó Practical Example: Combining Both Approaches</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_restaurant_order</span><span>(
</span><span>        </span><span style="color:#bf616a;">customer_email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">dish_id</span><span>: </span><span style="color:#b48ead;">usize</span><span>,
</span><span>        </span><span style="color:#bf616a;">quantity_str</span><span>: &amp;</span><span style="color:#b48ead;">str
</span><span>    ) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#a7adba;">// Use panic! for programming errors
</span><span>        </span><span style="color:#b48ead;">let</span><span> menu = [&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">Lentil Soup</span><span>&quot;];
</span><span>        </span><span style="color:#b48ead;">if</span><span> dish_id &gt;= menu.</span><span style="color:#96b5b4;">len</span><span>() {
</span><span>            panic!(&quot;</span><span style="color:#a3be8c;">üêõ BUG: Invalid dish_id {} passed to function</span><span>&quot;, dish_id);
</span><span>        }
</span><span>        </span><span style="color:#b48ead;">let</span><span> dish_name = menu[dish_id]; </span><span style="color:#a7adba;">// Safe because we validated above
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Use Result for user input errors
</span><span>        </span><span style="color:#b48ead;">let</span><span> quantity = quantity_str.parse::&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;()
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|_| format!(&quot;</span><span style="color:#a3be8c;">Invalid quantity: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, quantity_str))?;
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> quantity == </span><span style="color:#d08770;">0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Quantity must be at least 1</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> quantity &gt; </span><span style="color:#d08770;">20 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Maximum 20 items per order</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Use Result for business rule validation
</span><span>        </span><span style="color:#b48ead;">if</span><span> customer_email.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Customer email is required</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Success case
</span><span>        Ok(format!(&quot;</span><span style="color:#a3be8c;">Order: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> x </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> for </span><span style="color:#d08770;">{}</span><span>&quot;, quantity, dish_name, customer_email))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test the combined approach
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   üß™ Testing combined approach:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_cases = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, </span><span style="color:#d08770;">0</span><span>, &quot;</span><span style="color:#a3be8c;">2</span><span>&quot;),     </span><span style="color:#a7adba;">// Valid order
</span><span>        (&quot;</span><span style="color:#a3be8c;">bob@email.com</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>, &quot;</span><span style="color:#a3be8c;">abc</span><span>&quot;),     </span><span style="color:#a7adba;">// Invalid quantity (Result error)
</span><span>        (&quot;&quot;, </span><span style="color:#d08770;">0</span><span>, &quot;</span><span style="color:#a3be8c;">1</span><span>&quot;),                    </span><span style="color:#a7adba;">// Missing email (Result error)
</span><span>        </span><span style="color:#a7adba;">// (&quot;alice@email.com&quot;, 10, &quot;1&quot;), // Invalid dish_id (would panic!)
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(email, dish_id, quantity) in test_cases {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_restaurant_order</span><span>(email, dish_id, quantity) {
</span><span>            Ok(order) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     ‚úÖ </span><span style="color:#d08770;">{}</span><span>&quot;, order),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">     üîÑ Recoverable error: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üèÜ Professional Error Handling:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use Result&lt;T, E&gt; as your primary error handling mechanism[^1][^3]</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Reserve panic! for truly exceptional circumstances</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Design APIs that return Results for expected failures</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use panic! to catch programming bugs during development</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Let users recover from Result errors gracefully</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_result_vs_panic</span><span>();
</span><span>}
</span></code></pre>
<h2 id="best-practices-and-professional-patterns">Best Practices and Professional Patterns</h2>
<h3 id="professional-result-t-e-usage-guidelines">Professional Result&lt;T, E&gt; Usage Guidelines</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_result_best_practices</span><span>() {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">‚úÖ Result&lt;T, E&gt; Best Practices - Professional Error Handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">{:=&lt;65}</span><span>&quot;, &quot;&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::collections::HashMap;
</span><span>    </span><span style="color:#b48ead;">use </span><span>std::fmt;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 1: Design meaningful error types
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üéØ Best Practice 1: Meaningful Error Types</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ‚ùå Poor: Generic string errors
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">bad_validate_email</span><span>(</span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, String&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> email.</span><span style="color:#96b5b4;">contains</span><span>(&#39;</span><span style="color:#a3be8c;">@</span><span>&#39;) {
</span><span>            Ok(email.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            Err(&quot;</span><span style="color:#a3be8c;">Invalid email</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()) </span><span style="color:#a7adba;">// Not helpful!
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// ‚úÖ Good: Specific error types with context
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>EmailError {
</span><span>        Empty,
</span><span>        MissingAtSymbol,
</span><span>        MultipleFAtSymbols,
</span><span>        InvalidDomain(String),
</span><span>        TooLong { length: </span><span style="color:#b48ead;">usize</span><span>, max: </span><span style="color:#b48ead;">usize </span><span>},
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>EmailError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                EmailError::Empty =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Email address cannot be empty</span><span>&quot;),
</span><span>                EmailError::MissingAtSymbol =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Email must contain @ symbol</span><span>&quot;),
</span><span>                EmailError::MultipleFAtSymbols =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Email cannot contain multiple @ symbols</span><span>&quot;),
</span><span>                EmailError::InvalidDomain(domain) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Invalid domain: </span><span style="color:#d08770;">{}</span><span>&quot;, domain),
</span><span>                EmailError::TooLong { length, max } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Email too long: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> characters (max: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">)</span><span>&quot;, length, max),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">good_validate_email</span><span>(</span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, EmailError&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> email.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(EmailError::Empty);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> email.</span><span style="color:#96b5b4;">len</span><span>() &gt; </span><span style="color:#d08770;">254 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(EmailError::TooLong { length: email.</span><span style="color:#96b5b4;">len</span><span>(), max: </span><span style="color:#d08770;">254 </span><span>});
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> at_count = email.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">filter</span><span>(|&amp;</span><span style="color:#bf616a;">c</span><span>| c == &#39;</span><span style="color:#a3be8c;">@</span><span>&#39;).</span><span style="color:#96b5b4;">count</span><span>();
</span><span>        </span><span style="color:#b48ead;">match</span><span> at_count {
</span><span>            </span><span style="color:#d08770;">0 </span><span>=&gt; Err(EmailError::MissingAtSymbol),
</span><span>            </span><span style="color:#d08770;">1 </span><span>=&gt; {
</span><span>                </span><span style="color:#b48ead;">let</span><span> parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = email.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">@</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>                </span><span style="color:#b48ead;">let</span><span> domain = parts[^</span><span style="color:#d08770;">1</span><span>];
</span><span>                </span><span style="color:#b48ead;">if</span><span> domain.</span><span style="color:#96b5b4;">is_empty</span><span>() || !domain.</span><span style="color:#96b5b4;">contains</span><span>(&#39;</span><span style="color:#a3be8c;">.</span><span>&#39;) {
</span><span>                    Err(EmailError::InvalidDomain(domain.</span><span style="color:#96b5b4;">to_string</span><span>()))
</span><span>                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                    Ok(email.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>                }
</span><span>            }
</span><span>            _ =&gt; Err(EmailError::MultipleFAtSymbols),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 2: Use Result&lt;T, E&gt; for API boundaries
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üîó Best Practice 2: Result at API Boundaries</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">pub struct </span><span>RestaurantAPI;
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>RestaurantAPI {
</span><span>        </span><span style="color:#a7adba;">// ‚úÖ Public methods return Results for error handling
</span><span>        </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">create_reservation</span><span>(
</span><span>            &amp;</span><span style="color:#bf616a;">self</span><span>,
</span><span>            </span><span style="color:#bf616a;">customer_email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>            </span><span style="color:#bf616a;">party_size</span><span>: </span><span style="color:#b48ead;">u8</span><span>,
</span><span>            </span><span style="color:#bf616a;">date</span><span>: &amp;</span><span style="color:#b48ead;">str
</span><span>        ) -&gt; Result&lt;ReservationConfirmation, ReservationError&gt; {
</span><span>            </span><span style="color:#a7adba;">// Validate inputs
</span><span>            </span><span style="color:#b48ead;">let</span><span> _validated_email = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">validate_email_internal</span><span>(customer_email)?;
</span><span>            </span><span style="color:#b48ead;">let</span><span> _validated_party_size = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">validate_party_size_internal</span><span>(party_size)?;
</span><span>            </span><span style="color:#b48ead;">let</span><span> _validated_date = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">validate_date_internal</span><span>(date)?;
</span><span>
</span><span>            </span><span style="color:#a7adba;">// Business logic (simplified)
</span><span>            Ok(ReservationConfirmation {
</span><span>                id: format!(&quot;</span><span style="color:#a3be8c;">RES_</span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#d08770;">12345</span><span>),
</span><span>                customer_email: customer_email.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                party_size,
</span><span>                date: date.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            })
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Private methods can use panic! for internal contract violations
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_email_internal</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">email</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, ReservationError&gt; {
</span><span>            </span><span style="color:#96b5b4;">good_validate_email</span><span>(email)
</span><span>                .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| ReservationError::InvalidInput(format!(&quot;</span><span style="color:#a3be8c;">Email error: </span><span style="color:#d08770;">{}</span><span>&quot;, e)))
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_party_size_internal</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">size</span><span>: </span><span style="color:#b48ead;">u8</span><span>) -&gt; Result&lt;</span><span style="color:#b48ead;">u8</span><span>, ReservationError&gt; {
</span><span>            </span><span style="color:#b48ead;">match</span><span> size {
</span><span>                </span><span style="color:#d08770;">1</span><span>..=</span><span style="color:#d08770;">12 </span><span>=&gt; Ok(size),
</span><span>                </span><span style="color:#d08770;">0 </span><span>=&gt; Err(ReservationError::InvalidInput(&quot;</span><span style="color:#a3be8c;">Party size cannot be zero</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>                _ =&gt; Err(ReservationError::InvalidInput(format!(&quot;</span><span style="color:#a3be8c;">Party size </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> exceeds maximum of 12</span><span>&quot;, size))),
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_date_internal</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">date</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;String, ReservationError&gt; {
</span><span>            </span><span style="color:#b48ead;">if</span><span> date.</span><span style="color:#96b5b4;">len</span><span>() == </span><span style="color:#d08770;">10 </span><span>&amp;&amp; date.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">nth</span><span>(</span><span style="color:#d08770;">4</span><span>) == Some(&#39;</span><span style="color:#a3be8c;">-</span><span>&#39;) &amp;&amp; date.</span><span style="color:#96b5b4;">chars</span><span>().</span><span style="color:#96b5b4;">nth</span><span>(</span><span style="color:#d08770;">7</span><span>) == Some(&#39;</span><span style="color:#a3be8c;">-</span><span>&#39;) {
</span><span>                Ok(date.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                Err(ReservationError::InvalidInput(&quot;</span><span style="color:#a3be8c;">Date must be in YYYY-MM-DD format</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()))
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">pub struct </span><span>ReservationConfirmation {
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">id</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">customer_email</span><span>: String,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">party_size</span><span>: </span><span style="color:#b48ead;">u8</span><span>,
</span><span>        </span><span style="color:#b48ead;">pub </span><span style="color:#bf616a;">date</span><span>: String,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">pub enum </span><span>ReservationError {
</span><span>        InvalidInput(String),
</span><span>        SystemError(String),
</span><span>        NotAvailable { date: String, time: String },
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>ReservationError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                ReservationError::InvalidInput(msg) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">Invalid input: </span><span style="color:#d08770;">{}</span><span>&quot;, msg),
</span><span>                ReservationError::SystemError(msg) =&gt; write!(f, &quot;</span><span style="color:#a3be8c;">System error: </span><span style="color:#d08770;">{}</span><span>&quot;, msg),
</span><span>                ReservationError::NotAvailable { date, time } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">No availability on </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> at </span><span style="color:#d08770;">{}</span><span>&quot;, date, time),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 3: Use combinators for clean error handling
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üß© Best Practice 3: Result Combinators</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">parse_menu_item</span><span>(</span><span style="color:#bf616a;">line</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;MenuItem, String&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> parts: Vec&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = line.</span><span style="color:#96b5b4;">split</span><span>(&#39;</span><span style="color:#a3be8c;">,</span><span>&#39;).</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> parts.</span><span style="color:#96b5b4;">len</span><span>() != </span><span style="color:#d08770;">2 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Line must have exactly 2 parts separated by comma</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> name = parts[^</span><span style="color:#d08770;">0</span><span>].</span><span style="color:#96b5b4;">trim</span><span>();
</span><span>        </span><span style="color:#b48ead;">let</span><span> price_str = parts[^</span><span style="color:#d08770;">1</span><span>].</span><span style="color:#96b5b4;">trim</span><span>();
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> name.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(&quot;</span><span style="color:#a3be8c;">Menu item name cannot be empty</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> price = price_str.parse::&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;()
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|_| format!(&quot;</span><span style="color:#a3be8c;">Invalid price: &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;</span><span>&quot;, price_str))?;
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> price &lt;= </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            </span><span style="color:#b48ead;">return </span><span>Err(format!(&quot;</span><span style="color:#a3be8c;">Price must be positive, got: </span><span style="color:#d08770;">{}</span><span>&quot;, price));
</span><span>        }
</span><span>
</span><span>        Ok(MenuItem { name: name.</span><span style="color:#96b5b4;">to_string</span><span>(), price })
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">parse_menu_file</span><span>(</span><span style="color:#bf616a;">content</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;Vec&lt;MenuItem&gt;, String&gt; {
</span><span>        content
</span><span>            .</span><span style="color:#96b5b4;">lines</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">filter</span><span>(|</span><span style="color:#bf616a;">line</span><span>| !line.</span><span style="color:#96b5b4;">trim</span><span>().</span><span style="color:#96b5b4;">is_empty</span><span>())
</span><span>            .</span><span style="color:#96b5b4;">enumerate</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|(</span><span style="color:#bf616a;">i</span><span>, </span><span style="color:#bf616a;">line</span><span>)| {
</span><span>                </span><span style="color:#96b5b4;">parse_menu_item</span><span>(line)
</span><span>                    .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| format!(&quot;</span><span style="color:#a3be8c;">Line </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{}</span><span>&quot;, i + </span><span style="color:#d08770;">1</span><span>, e))
</span><span>            })
</span><span>            .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>MenuItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Best Practice 4: Provide helpful error context
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìù Best Practice 4: Rich Error Context</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_customer_order</span><span>(
</span><span>        </span><span style="color:#bf616a;">customer_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">items</span><span>: &amp;[(</span><span style="color:#bf616a;">String</span><span>, </span><span style="color:#bf616a;">u32</span><span>)], </span><span style="color:#a7adba;">// (item_name, quantity)
</span><span>        </span><span style="color:#bf616a;">payment_method</span><span>: &amp;</span><span style="color:#b48ead;">str
</span><span>    ) -&gt; Result&lt;OrderSummary, OrderError&gt; {
</span><span>        </span><span style="color:#a7adba;">// Add context at each step
</span><span>        </span><span style="color:#b48ead;">let</span><span> customer = </span><span style="color:#96b5b4;">validate_customer</span><span>(customer_id)
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| OrderError::CustomerValidation {
</span><span>                customer_id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                details: e,
</span><span>            })?;
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> order_items = </span><span style="color:#96b5b4;">validate_order_items</span><span>(items)
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| OrderError::InvalidItems {
</span><span>                customer_id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                details: e,
</span><span>            })?;
</span><span>
</span><span>        </span><span style="color:#b48ead;">let</span><span> total = </span><span style="color:#96b5b4;">calculate_total</span><span>(&amp;order_items)
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| OrderError::CalculationError {
</span><span>                customer_id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                details: e,
</span><span>            })?;
</span><span>
</span><span>        </span><span style="color:#96b5b4;">process_payment</span><span>(&amp;customer, total, payment_method)
</span><span>            .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| OrderError::PaymentFailed {
</span><span>                customer_id: customer_id.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                amount: total,
</span><span>                payment_method: payment_method.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                details: e,
</span><span>            })?;
</span><span>
</span><span>        Ok(OrderSummary {
</span><span>            customer_name: customer.name,
</span><span>            items: order_items,
</span><span>            total,
</span><span>        })
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>Customer {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">email</span><span>: String,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>OrderItem {
</span><span>        </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">unit_price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">struct </span><span>OrderSummary {
</span><span>        </span><span style="color:#bf616a;">customer_name</span><span>: String,
</span><span>        </span><span style="color:#bf616a;">items</span><span>: Vec&lt;OrderItem&gt;,
</span><span>        </span><span style="color:#bf616a;">total</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    }
</span><span>
</span><span>    #[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span>    </span><span style="color:#b48ead;">enum </span><span>OrderError {
</span><span>        CustomerValidation { customer_id: String, details: String },
</span><span>        InvalidItems { customer_id: String, details: String },
</span><span>        CalculationError { customer_id: String, details: String },
</span><span>        PaymentFailed {
</span><span>            customer_id: String,
</span><span>            amount: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>            payment_method: String,
</span><span>            details: String
</span><span>        },
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">impl </span><span>fmt::Display </span><span style="color:#b48ead;">for </span><span>OrderError {
</span><span>        </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">fmt</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">f</span><span>: &amp;</span><span style="color:#b48ead;">mut </span><span>fmt::Formatter) -&gt; fmt::Result {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self </span><span>{
</span><span>                OrderError::CustomerValidation { customer_id, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Customer validation failed for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id, details),
</span><span>                OrderError::InvalidItems { customer_id, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Invalid items for customer &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id, details),
</span><span>                OrderError::CalculationError { customer_id, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Calculation error for customer &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, customer_id, details),
</span><span>                OrderError::PaymentFailed { customer_id, amount, payment_method, details } =&gt;
</span><span>                    write!(f, &quot;</span><span style="color:#a3be8c;">Payment of $</span><span style="color:#d08770;">{:.2}</span><span style="color:#a3be8c;"> via </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> failed for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                           amount, payment_method, customer_id, details),
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Helper functions for demonstration
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_customer</span><span>(</span><span style="color:#bf616a;">customer_id</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;Customer, String&gt; {
</span><span>        </span><span style="color:#b48ead;">if</span><span> customer_id == &quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot; {
</span><span>            Ok(Customer {
</span><span>                name: &quot;</span><span style="color:#a3be8c;">Alice Johnson</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                email: &quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            })
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            Err(format!(&quot;</span><span style="color:#a3be8c;">Customer &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found</span><span>&quot;, customer_id))
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">validate_order_items</span><span>(</span><span style="color:#bf616a;">items</span><span>: &amp;[(</span><span style="color:#bf616a;">String</span><span>, </span><span style="color:#bf616a;">u32</span><span>)]) -&gt; Result&lt;Vec&lt;OrderItem&gt;, String&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> menu_prices = HashMap::from([
</span><span>            (&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">15.99</span><span>),
</span><span>            (&quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">12.49</span><span>),
</span><span>        ]);
</span><span>
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> order_items = Vec::new();
</span><span>        </span><span style="color:#b48ead;">for </span><span>(name, quantity) in items {
</span><span>            </span><span style="color:#b48ead;">if </span><span>*quantity == </span><span style="color:#d08770;">0 </span><span>{
</span><span>                </span><span style="color:#b48ead;">return </span><span>Err(format!(&quot;</span><span style="color:#a3be8c;">Quantity for &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; cannot be zero</span><span>&quot;, name));
</span><span>            }
</span><span>
</span><span>            </span><span style="color:#b48ead;">let</span><span> unit_price = menu_prices.</span><span style="color:#96b5b4;">get</span><span>(name)
</span><span>                .</span><span style="color:#96b5b4;">ok_or_else</span><span>(|| format!(&quot;</span><span style="color:#a3be8c;">Item &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not found in menu</span><span>&quot;, name))?;
</span><span>
</span><span>            order_items.</span><span style="color:#96b5b4;">push</span><span>(OrderItem {
</span><span>                name: name.</span><span style="color:#96b5b4;">clone</span><span>(),
</span><span>                quantity: *quantity,
</span><span>                unit_price: *unit_price,
</span><span>            });
</span><span>        }
</span><span>
</span><span>        Ok(order_items)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_total</span><span>(</span><span style="color:#bf616a;">items</span><span>: &amp;[OrderItem]) -&gt; Result&lt;</span><span style="color:#b48ead;">f64</span><span>, String&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> total: </span><span style="color:#b48ead;">f64 </span><span>= items.</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">item</span><span>| item.unit_price * item.quantity as </span><span style="color:#b48ead;">f64</span><span>)
</span><span>            .</span><span style="color:#96b5b4;">sum</span><span>();
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> total &lt;= </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            Err(&quot;</span><span style="color:#a3be8c;">Order total must be positive</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            Ok(total)
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_payment</span><span>(</span><span style="color:#bf616a;">customer</span><span>: &amp;Customer, </span><span style="color:#bf616a;">amount</span><span>: </span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#bf616a;">method</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;(), String&gt; {
</span><span>        </span><span style="color:#b48ead;">match</span><span> method {
</span><span>            &quot;</span><span style="color:#a3be8c;">cash</span><span>&quot; | &quot;</span><span style="color:#a3be8c;">card</span><span>&quot; =&gt; Ok(()),
</span><span>            _ =&gt; Err(format!(&quot;</span><span style="color:#a3be8c;">Payment method &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39; not accepted</span><span>&quot;, method)),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">üß™ Testing Best Practices:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test meaningful error types
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">1Ô∏è‚É£ Testing Email Validation:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_emails = [&quot;</span><span style="color:#a3be8c;">alice@example.com</span><span>&quot;, &quot;&quot;, &quot;</span><span style="color:#a3be8c;">invalid</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">user@</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">a@b.c</span><span>&quot;];
</span><span>    </span><span style="color:#b48ead;">for</span><span> email in test_emails {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">good_validate_email</span><span>(email) {
</span><span>            Ok(valid) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Valid: </span><span style="color:#d08770;">{}</span><span>&quot;, valid),
</span><span>            Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Invalid &#39;</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">&#39;: </span><span style="color:#d08770;">{}</span><span>&quot;, email, error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test API boundary handling
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">2Ô∏è‚É£ Testing API Boundaries:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> api = RestaurantAPI;
</span><span>    </span><span style="color:#b48ead;">match</span><span> api.</span><span style="color:#96b5b4;">create_reservation</span><span>(&quot;</span><span style="color:#a3be8c;">alice@email.com</span><span>&quot;, </span><span style="color:#d08770;">4</span><span>, &quot;</span><span style="color:#a3be8c;">2024-12-25</span><span>&quot;) {
</span><span>        Ok(confirmation) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Reservation: </span><span style="color:#d08770;">{:?}</span><span>&quot;, confirmation),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Reservation failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test combinator usage
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">3Ô∏è‚É£ Testing Result Combinators:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> menu_content = &quot;</span><span style="color:#a3be8c;">Quinoa Bowl,15.99</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Veggie Burger,12.49</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Invalid Line</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">Green Salad,8.99</span><span>&quot;;
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">parse_menu_file</span><span>(menu_content) {
</span><span>        Ok(items) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Parsed </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> menu items:</span><span>&quot;, items.</span><span style="color:#96b5b4;">len</span><span>());
</span><span>            </span><span style="color:#b48ead;">for</span><span> item in items {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">     ‚Ä¢ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> ‚Üí $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, item.name, item.price);
</span><span>            }
</span><span>        }
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Menu parsing failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test rich error context
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">4Ô∏è‚É£ Testing Rich Error Context:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> order_items = vec![
</span><span>        (&quot;</span><span style="color:#a3be8c;">Quinoa Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">2</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">Veggie Burger</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">1</span><span>),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_customer_order</span><span>(&quot;</span><span style="color:#a3be8c;">CUST_001</span><span>&quot;, &amp;order_items, &quot;</span><span style="color:#a3be8c;">card</span><span>&quot;) {
</span><span>        Ok(summary) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Order processed: </span><span style="color:#d08770;">{:?}</span><span>&quot;, summary),
</span><span>        Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Order failed: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">üìã Result&lt;T, E&gt; Best Practices Summary:</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Design specific, meaningful error types with context[^1][^3]</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use Result&lt;T, E&gt; at API boundaries for caller error handling</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Leverage Result combinators (map, and_then, or_else)</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Provide rich error context for debugging and user feedback</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Use ? operator for clean error propagation</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Implement Display trait for user-friendly error messages</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚úÖ Chain operations with proper error conversion</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Avoid generic String errors in production code</span><span>&quot;);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   ‚ùå Don&#39;t use unwrap() without careful consideration</span><span>&quot;);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_result_best_practices</span><span>();
</span><span>}
</span></code></pre>
<h2 id="summary-and-decision-guidelines">Summary and Decision Guidelines</h2>
<h3 id="mental-model-the-professional-restaurant-error-management-system"><strong>Mental Model: The Professional Restaurant Error Management System</strong></h3>
<p>Remember our restaurant error management analogy:</p>
<ul>
<li>‚úÖ <strong>Result&lt;T, E&gt;</strong> = <strong>Professional problem-solving system</strong> - Handle issues gracefully to keep serving customers</li>
<li>üéØ <strong>Ok(T)</strong> = <strong>Successful operation</strong> - Everything went as planned, here's your result</li>
<li>‚ö†Ô∏è <strong>Err(E)</strong> = <strong>Manageable problem</strong> - Something went wrong, but we can handle it and continue</li>
<li>üîó <strong>? operator</strong> = <strong>Efficient escalation system</strong> - Pass problems up the chain until someone can solve them</li>
<li>üìä <strong>Custom error types</strong> = <strong>Detailed problem categorization</strong> - Know exactly what went wrong and how to fix it</li>
</ul>
<h3 id="essential-result-t-e-patterns"><strong>Essential Result&lt;T, E&gt; Patterns</strong></h3>
<p><strong>Core Usage Pattern:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// Basic Result pattern
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">restaurant_operation</span><span>() -&gt; Result&lt;SuccessType, ErrorType&gt; {
</span><span>    </span><span style="color:#a7adba;">// Validation
</span><span>    </span><span style="color:#b48ead;">if </span><span style="color:#96b5b4;">input_invalid</span><span>() {
</span><span>        </span><span style="color:#b48ead;">return </span><span>Err(ErrorType::InvalidInput);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Processing that might fail
</span><span>    </span><span style="color:#b48ead;">let</span><span> result = </span><span style="color:#96b5b4;">risky_operation</span><span>()?; </span><span style="color:#a7adba;">// Use ? for propagation
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Success
</span><span>    Ok(result)
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Handling the Result
</span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">restaurant_operation</span><span>() {
</span><span>    Ok(success) =&gt; println!(&quot;</span><span style="color:#a3be8c;">Success: </span><span style="color:#d08770;">{:?}</span><span>&quot;, success),
</span><span>    Err(error) =&gt; println!(&quot;</span><span style="color:#a3be8c;">Error: </span><span style="color:#d08770;">{}</span><span>&quot;, error),
</span><span>}
</span></code></pre>
<p><strong>Common Result Combinators:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// Transform success values
</span><span>result.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">value</span><span>| format!(&quot;</span><span style="color:#a3be8c;">Processed: </span><span style="color:#d08770;">{}</span><span>&quot;, value))
</span><span>
</span><span style="color:#a7adba;">// Chain operations that can fail
</span><span>result.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">value</span><span>| </span><span style="color:#96b5b4;">another_operation</span><span>(value))
</span><span>
</span><span style="color:#a7adba;">// Provide fallbacks
</span><span>result.</span><span style="color:#96b5b4;">or_else</span><span>(|_| </span><span style="color:#96b5b4;">fallback_operation</span><span>())
</span><span>
</span><span style="color:#a7adba;">// Extract values safely
</span><span style="color:#b48ead;">let</span><span> value = result.</span><span style="color:#96b5b4;">unwrap_or</span><span>(default_value);
</span><span style="color:#b48ead;">let</span><span> value = result.</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|| </span><span style="color:#96b5b4;">compute_default</span><span>());
</span></code></pre>
<h3 id="decision-framework-result-vs-panic"><strong>Decision Framework: Result vs panic!</strong></h3>
<pre style="background-color:#eff1f5;color:#4f5b66;"><code><span>ü§î Should this be Result&lt;T, E&gt; or panic!?
</span><span>
</span><span>‚îú‚îÄ üë§ Is this error caused by external factors?
</span><span>‚îÇ  ‚îî‚îÄ ‚úÖ YES ‚Üí Use Result&lt;T, E&gt;
</span><span>‚îÇ
</span><span>‚îú‚îÄ üîÑ Can the program recover and continue?
</span><span>‚îÇ  ‚îî‚îÄ ‚úÖ YES ‚Üí Use Result&lt;T, E&gt;
</span><span>‚îÇ
</span><span>‚îú‚îÄ üìä Is this expected during normal operation?
</span><span>‚îÇ  ‚îî‚îÄ ‚úÖ YES ‚Üí Use Result&lt;T, E&gt;
</span><span>‚îÇ
</span><span>‚îî‚îÄ üêõ Is this a programming error or impossible condition?
</span><span>   ‚îî‚îÄ ‚úÖ YES ‚Üí Use panic!
</span></code></pre>
<h3 id="result-t-e-use-cases-quick-reference"><strong>Result&lt;T, E&gt; Use Cases Quick Reference</strong></h3>
<table><thead><tr><th style="text-align: left"><strong>Scenario</strong></th><th style="text-align: left"><strong>Use Result</strong></th><th style="text-align: left"><strong>Example</strong></th><th style="text-align: left"><strong>Error Type</strong></th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>User Input</strong></td><td style="text-align: left">‚úÖ</td><td style="text-align: left">Parse age from string</td><td style="text-align: left"><code>Result&lt;u8, ParseError&gt;</code></td></tr>
<tr><td style="text-align: left"><strong>File I/O</strong></td><td style="text-align: left">‚úÖ</td><td style="text-align: left">Read configuration file</td><td style="text-align: left"><code>Result&lt;String, IoError&gt;</code></td></tr>
<tr><td style="text-align: left"><strong>Network</strong></td><td style="text-align: left">‚úÖ</td><td style="text-align: left">API request</td><td style="text-align: left"><code>Result&lt;Data, NetworkError&gt;</code></td></tr>
<tr><td style="text-align: left"><strong>Business Rules</strong></td><td style="text-align: left">‚úÖ</td><td style="text-align: left">Validate order total</td><td style="text-align: left"><code>Result&lt;Order, ValidationError&gt;</code></td></tr>
<tr><td style="text-align: left"><strong>Database</strong></td><td style="text-align: left">‚úÖ</td><td style="text-align: left">Query customer data</td><td style="text-align: left"><code>Result&lt;Customer, DbError&gt;</code></td></tr>
<tr><td style="text-align: left"><strong>Parsing</strong></td><td style="text-align: left">‚úÖ</td><td style="text-align: left">JSON deserialization</td><td style="text-align: left"><code>Result&lt;Struct, JsonError&gt;</code></td></tr>
</tbody></table>
<h3 id="best-practices-checklist"><strong>Best Practices Checklist</strong></h3>
<p><strong>‚úÖ DO:</strong></p>
<ul>
<li>Use <code>Result&lt;T, E&gt;</code> for all fallible operations[^2][^1]</li>
<li>Design specific error types with meaningful context</li>
<li>Use the <code>?</code> operator for clean error propagation</li>
<li>Implement <code>Display</code> trait for user-friendly error messages</li>
<li>Handle <code>Result</code> values explicitly with <code>match</code> or combinators</li>
<li>Use <code>map_err()</code> to convert between error types</li>
<li>Provide fallback mechanisms with <code>unwrap_or()</code> and <code>or_else()</code></li>
</ul>
<p><strong>‚ùå DON'T:</strong></p>
<ul>
<li>Use generic <code>String</code> errors in production code</li>
<li>Call <code>unwrap()</code> without being certain of success</li>
<li>Ignore <code>Result</code> return values (compiler will warn)</li>
<li>Use <code>Result</code> for programming logic errors (use <code>panic!</code>)</li>
<li>Create deeply nested error hierarchies unnecessarily</li>
<li>Forget to implement error conversion traits (<code>From</code>, <code>Into</code>)</li>
</ul>
<h3 id="professional-error-handling-patterns"><strong>Professional Error Handling Patterns</strong></h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// Pattern 1: Custom error types
</span><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">enum </span><span>RestaurantError {
</span><span>    InvalidInput(String),
</span><span>    NotFound(String),
</span><span>    SystemError(String),
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Pattern 2: Error conversion
</span><span style="color:#b48ead;">impl </span><span>From&lt;ParseIntError&gt; </span><span style="color:#b48ead;">for </span><span>RestaurantError {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">from</span><span>(</span><span style="color:#bf616a;">error</span><span>: ParseIntError) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        RestaurantError::InvalidInput(error.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Pattern 3: Rich error context
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_order</span><span>(</span><span style="color:#bf616a;">data</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Result&lt;Order, RestaurantError&gt; {
</span><span>    </span><span style="color:#b48ead;">let</span><span> parsed = </span><span style="color:#96b5b4;">parse_order_data</span><span>(data)
</span><span>        .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| RestaurantError::InvalidInput(format!(&quot;</span><span style="color:#a3be8c;">Parse failed: </span><span style="color:#d08770;">{}</span><span>&quot;, e)))?;
</span><span>
</span><span>    </span><span style="color:#96b5b4;">validate_order</span><span>(&amp;parsed)
</span><span>        .</span><span style="color:#96b5b4;">map_err</span><span>(|</span><span style="color:#bf616a;">e</span><span>| RestaurantError::InvalidInput(format!(&quot;</span><span style="color:#a3be8c;">Validation failed: </span><span style="color:#d08770;">{}</span><span>&quot;, e)))?;
</span><span>
</span><span>    Ok(parsed)
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Pattern 4: Multiple error handling
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_multiple_orders</span><span>(</span><span style="color:#bf616a;">orders</span><span>: &amp;[String]) -&gt; (Vec&lt;Order&gt;, Vec&lt;RestaurantError&gt;) {
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> successful = Vec::new();
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> failed = Vec::new();
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> order_data in orders {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">process_order</span><span>(order_data) {
</span><span>            Ok(order) =&gt; successful.</span><span style="color:#96b5b4;">push</span><span>(order),
</span><span>            Err(error) =&gt; failed.</span><span style="color:#96b5b4;">push</span><span>(error),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    (successful, failed)
</span><span>}
</span></code></pre>
<h3 id="the-professional-advantage"><strong>The Professional Advantage</strong></h3>
<p><strong>Mastering Result&lt;T, E&gt; in Rust is like being a world-class restaurant manager</strong> who gracefully handles every possible problem while keeping excellent service:</p>
<ul>
<li>üéØ <strong>Explicit error handling</strong> - Never accidentally ignore problems</li>
<li>üîÑ <strong>Graceful recovery</strong> - Continue operating when things go wrong</li>
<li>üìä <strong>Rich error information</strong> - Know exactly what happened and why</li>
<li>üõ°Ô∏è <strong>Type safety</strong> - Compiler ensures all errors are handled</li>
<li>‚ö° <strong>Performance</strong> - Zero-cost abstractions for error handling</li>
</ul>
<p><strong>Understanding Result&lt;T, E&gt; transforms you from a programmer who struggles with errors to a systems expert</strong> who builds resilient, user-friendly Rust applications. Just as a professional restaurant anticipates problems and has procedures to handle them gracefully without disrupting the dining experience, a skilled Rust programmer uses <code>Result&lt;T, E&gt;</code> to build software that handles errors elegantly and continues providing value even when things don't go exactly as planned.</p>
<p>This comprehensive understanding of <code>Result&lt;T, E&gt;</code> - from basic usage through advanced patterns - makes your Rust programs more reliable, your error messages more helpful, and your development process more robust, whether you're building simple utilities or complex enterprise systems that need to handle millions of operations safely and efficiently!</p>
<ol>
<li>https://doc.rust-lang.org/std/result/</li>
<li>https://dev.to/leapcell/rusts-result-type-error-handling-made-easy-58i</li>
<li>https://doc.rust-lang.org/rust-by-example/error/result.html</li>
<li>https://doc.rust-lang.org/std/result/enum.Result.html</li>
<li>https://www.geeksforgeeks.org/rust/rust-result-type/</li>
<li>https://stackoverflow.com/questions/57414785/example-for-using-result-instead-of-unwrap-on-function-in-rust</li>
<li>https://www.geeksforgeeks.org/rust/rust-panic-error-handling-mechanism/</li>
<li>https://web.mit.edu/rust-lang_v1.25/arch/amd64_ubuntu1404/share/doc/rust/html/book/second-edition/ch09-02-recoverable-errors-with-result.html</li>
<li>https://bitfieldconsulting.com/posts/rust-errors-option-result</li>
<li>https://www.youtube.com/watch?v=6AkRRzcAUKk</li>
<li>https://www.newline.co/@lsunsi/a-gentle-introduction-to-results-in-rust--b0391487</li>
<li>https://doc.rust-lang.org/book/ch09-02-recoverable-errors-with-result.html</li>
<li>https://www.alexdwilson.dev/learning-in-public/result-vs-panic-in-rust</li>
<li>https://stackoverflow.com/questions/67650449/resultt-e-type-in-rust-why-reference-cant-be-passed-as-t-or-e</li>
<li>https://blog.logrocket.com/panic-vs-error-rust/</li>
<li>https://www.djamware.com/post/6881abbd2d906261a96f3386/mastering-error-handling-in-rust-result-option-and-match-explained</li>
<li>https://doc.rust-lang.org/book/ch09-03-to-panic-or-not-to-panic.html</li>
<li>https://www.reddit.com/r/rust/comments/18ofh6u/when_to_panic_vs_forward_error_to_caller/</li>
<li>https://users.rust-lang.org/t/is-error-handling-in-rust-all-about-when-you-can-and-cant-afford-to-return-a-result-t-e-instance/94902</li>
<li>https://codedamn.com/news/rust/advanced-error-handling-rust-exploring-power-result-type</li>
</ol>

    
        </div>

    </article>
</main>


    <script type="text/javascript" src="http://localhost/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="http://localhost/search_index.en.js" defer></script>
<script type="text/javascript" src="http://localhost/js.js" defer></script>

</body>
</html>
