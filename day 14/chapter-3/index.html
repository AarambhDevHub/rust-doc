<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://aarambhdevhub.github.io/rust-doc/main.css">
    <link rel="icon" href="https://www.rust-lang.org/static/images/favicon-16x16.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title> Rust Programming Course! | Option&lt;T&gt; Enum in Rust </title>
</head>
<body>

<main>
    
    <nav>
            <a href="https:&#x2F;&#x2F;aarambhdevhub.github.io&#x2F;rust-doc&#x2F;">
                        <img src="https://www.rust-lang.org/static/images/rust-logo-blk.svg" alt="logo"/>
                    </a>
                <!-- -->

            <a href="javascript:void(0);" onclick="burger()" id="mobile" class="ms-Icon--GlobalNavButton"></a>
            <div id="trees">
                <input class="tree-toggle" type="checkbox" id="day-1-introduction"
                           />
                    <label class="tree-toggle-label"
                           for="day-1-introduction">Day 1: Introduction</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-1/">What is Rust and why use it?</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-2/">Installing Rust Toolchain (rustup, cargo)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-3/">Setting up Development (VS Code + Hello World)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 1/chapter-4/">Understanding Cargo Project Structure</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-2-basic-syntax-variables"
                           />
                    <label class="tree-toggle-label"
                           for="day-2-basic-syntax-variables">Day 2: Basic Syntax &amp; Variables</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-1/">Variables and Mutability in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-2/">Data Types in Rust: Integers, Floats, Booleans, and Characters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-3/">Constants vs Variables</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-4/">Understanding Shadowing in Rust: A Practical Guide</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 2/chapter-5/">Basic Input&#x2F;Output</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-3-functions-control-flow"
                           />
                    <label class="tree-toggle-label"
                           for="day-3-functions-control-flow">Day 3: Functions &amp; Control Flow</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-1/">Function Syntax and Parameters in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-2/">Return Values and Expressions vs Statements</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-3/">If&#x2F;Else Statements in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-4/">Match Expressions in Rust: Powerful Pattern Matching</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 3/chapter-5/">Loops in Rust: loop, while, for Explained</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-4-data-types-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-4-data-types-deep-dive">Day 4: Data Types Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-1/">Compound Types (Tuples, Arrays)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-2/">String vs &amp;str in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-3/">Vector Basics in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-4/">Type Annotations and Inference in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 4/chapter-5/">Practical Rust Exercises</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-5-practice-review"
                           />
                    <label class="tree-toggle-label"
                           for="day-5-practice-review">Day 5: Practice &amp; Review</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 5/chapter-1/">Day 5: Practice &amp; Review</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-6-ownership-fundamentals"
                           />
                    <label class="tree-toggle-label"
                           for="day-6-ownership-fundamentals">Day 6: Ownership Fundamentals</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-1/">Ownership in Rust: A Detailed Guide</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-2/">Stack vs Heap in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-3/">Understanding Ownership in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-4/">Move Semantics in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 6/chapter-5/">Copy Trait in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-7-references-borrowing"
                           />
                    <label class="tree-toggle-label"
                           for="day-7-references-borrowing">Day 7: References &amp; Borrowing</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-1/">Immutable References</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-2/">Mutable References</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-3/">Borrowing Rules</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-4/">Reference Lifetime Basics</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 7/chapter-5/">Common Borrowing Errors and Solutions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-8-slices"
                           />
                    <label class="tree-toggle-label"
                           for="day-8-slices">Day 8: Slices</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-1/">String Slices</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-2/">Array Slices</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-3/">Slice Syntax and Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-4/">Practical Applications</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 8/chapter-5/">Memory Safety Benefits</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-9-advanced-ownership"
                           />
                    <label class="tree-toggle-label"
                           for="day-9-advanced-ownership">Day 9: Advanced Ownership</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-1/">Clone Trait</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-2/">Drop Trait</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-3/">RAII Pattern</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-4/">Memory Management Comparison with Other Languages</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 9/chapter-5/">Best Practices (Advanced Ownership)</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-10-ownership-practice"
                           />
                    <label class="tree-toggle-label"
                           for="day-10-ownership-practice">Day 10: Ownership Practice</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-1/">Complex Ownership Scenarios</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-2/">Debugging Ownership Errors</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-3/">Code Refactoring Exercises</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 10/chapter-4/">Group Problem-Solving</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-11-structs-basics"
                           />
                    <label class="tree-toggle-label"
                           for="day-11-structs-basics">Day 11: Structs Basics</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-1/">Defining and Instantiating Structs</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-2/">Field Access and Modification</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-3/">Tuple Structs and Unit Structs</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-4/">Struct Update Syntax</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 11/chapter-5/">Ownership of Struct Data</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-12-methods-associated-functions"
                           />
                    <label class="tree-toggle-label"
                           for="day-12-methods-associated-functions">Day 12: Methods &amp; Associated Functions</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-1/">Implementing Methods with impl Blocks</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-2/">&amp;self, &amp;mut self, and self</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-3/">Associated Functions (like Constructors)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-4/">Multiple impl Blocks</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 12/chapter-5/">Method Chaining</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-13-advanced-struct-concepts"
                           />
                    <label class="tree-toggle-label"
                           for="day-13-advanced-struct-concepts">Day 13: Advanced Struct Concepts</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-1/">Struct Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-2/">Debug Trait and Custom Formatting</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-3/">Builder Pattern Implementation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-4/">Struct Composition</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 13/chapter-5/">Best Practices for Struct Design</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-14-enums-pattern-matching"
                           checked/>
                    <label class="tree-toggle-label"
                           for="day-14-enums-pattern-matching">Day 14: Enums &amp; Pattern Matching</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-1/">Defining Enums</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-2/">Enum Variants with Data</a>
                            </li>

                            <li class="active">
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/">Option&lt;T&gt; Enum in Rust</a>
                            </li>

                            
                                    
                                    
                                        <ul id="toc">
                                            <li><a href="
                                                        https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#option-enum-in-rust-comprehensive-documentation-for-beginners">Option Enum in Rust: Comprehensive Documentation for Beginners</a>
                                                    <ul>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#the-vegetarian-pantry-analogy-leafy-green">The Vegetarian Pantry Analogy 🥬</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#what-is-option">What is Option?</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#basic-option-usage">Basic Option Usage</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#common-option-methods">Common Option Methods</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#advanced-option-patterns">Advanced Option Patterns</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#the-question-mark-operator">The Question Mark Operator (?)</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#best-practices-and-common-patterns">Best Practices and Common Patterns</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#common-mistakes-to-avoid">Common Mistakes to Avoid</a>
                                                                </li>
                                                            <li>
                                                                    <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-3/#summary-and-key-takeaways">Summary and Key Takeaways</a>
                                                                </li>
                                                            </ul>
                                                    </li>
                                            </ul>
                                    <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-4/">Result&lt;T, E&gt; Enum in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 14/chapter-5/">Advanced Match Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-15-practice-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-15-practice-project">Day 15: Practice Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 15/chapter-1/">Building a Simple CLI Calculator in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-16-vectors"
                           />
                    <label class="tree-toggle-label"
                           for="day-16-vectors">Day 16: Vectors</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-1/">Creating and Updating Vectors</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-2/">Vector Methods: push, pop, iter</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-3/">Accessing Vector Elements Safely</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-4/">Vector of Different Types with Enums</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 16/chapter-5/">Performance Considerations</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-17-hashmaps-other-collections"
                           />
                    <label class="tree-toggle-label"
                           for="day-17-hashmaps-other-collections">Day 17: HashMaps &amp; Other Collections</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-1/">HashMap Creation and Manipulation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-2/">Keys and Values Ownership</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-3/">HashMap Methods and Iteration</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-4/">When to Use Different Collections</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 17/chapter-5/">BTreeMap Introduction</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-18-error-handling"
                           />
                    <label class="tree-toggle-label"
                           for="day-18-error-handling">Day 18: Error Handling</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-1/">Panic! and When to Use It</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-2/">Result&lt;T, E&gt; in Depth</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-3/">The ? Operator in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-4/">Creating Custom Error Types in Rust</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 18/chapter-5/">Error Propagation Patterns in Rust</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-19-strings-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-19-strings-deep-dive">Day 19: Strings Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-1/">String vs &amp;str Revisited</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-2/">String Methods and Manipulation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-5/">Performance Considerations</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-3/">UTF-8 and Character Encoding</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 19/chapter-4/">String Concatenation Techniques</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-20-mini-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-20-mini-project">Day 20: Mini Project</label>

                    <ul class="subtree">
                        </ul>
                <input class="tree-toggle" type="checkbox" id="day-21-generic-functions-structs"
                           />
                    <label class="tree-toggle-label"
                           for="day-21-generic-functions-structs">Day 21: Generic Functions &amp; Structs</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-1/">Generic Function Syntax</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-2/">Generic Structs and Enums</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-3/">Type Parameters and Constraints</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-4/">Monomorphization Concept</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 21/chapter-5/">Generic Collections</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-22-traits-fundamentals"
                           />
                    <label class="tree-toggle-label"
                           for="day-22-traits-fundamentals">Day 22: Traits Fundamentals</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-1/">Defining Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-2/">Implementing Traits for Types</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-3/">Default Implementations</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-4/">Trait as Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 22/chapter-5/">Trait Bounds</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-23-advanced-traits"
                           />
                    <label class="tree-toggle-label"
                           for="day-23-advanced-traits">Day 23: Advanced Traits</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-1/">Trait Objects and Dynamic Dispatch</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-2/">Supertraits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-3/">Associated Types</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-4/">Orphan Rule</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 23/chapter-5/">Coherence Rules</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-24-standard-library-traits"
                           />
                    <label class="tree-toggle-label"
                           for="day-24-standard-library-traits">Day 24: Standard Library Traits</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-1/">Iterator Trait</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-2/">From and Into Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-3/">Display and Debug Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-4/">Clone and Copy Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 24/chapter-5/">PartialEq and Eq Traits</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-25-trait-practice"
                           />
                    <label class="tree-toggle-label"
                           for="day-25-trait-practice">Day 25: Trait Practice</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-1/">Custom Trait Implementation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-2/">Generic Programming Exercises</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-3/">Trait Object Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 25/chapter-4/">Performance Implications</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-26-lifetime-annotations"
                           />
                    <label class="tree-toggle-label"
                           for="day-26-lifetime-annotations">Day 26: Lifetime Annotations</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-1/">Why Lifetimes Exist</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-2/">Lifetime Annotation Syntax</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-3/">Function Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-4/">Struct Lifetime Parameters</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 26/chapter-5/">Lifetime Elision Rules</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-27-advanced-lifetimes"
                           />
                    <label class="tree-toggle-label"
                           for="day-27-advanced-lifetimes">Day 27: Advanced Lifetimes</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-1/">Static Lifetime</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-2/">Lifetime Subtyping</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-3/">Higher-Ranked Trait Bounds</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-4/">Common Lifetime Patterns</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 27/chapter-5/">Debugging Lifetime Errors</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-28-smart-pointers"
                           />
                    <label class="tree-toggle-label"
                           for="day-28-smart-pointers">Day 28: Smart Pointers</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-1/">Box&lt;T&gt; for Heap Allocation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-2/">Rc&lt;T&gt; for Reference Counting</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-3/">RefCell&lt;T&gt; for Interior Mutability</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-4/">Weak&lt;T&gt; References</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 28/chapter-5/">Memory Leak Prevention</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-29-concurrency-preparation"
                           />
                    <label class="tree-toggle-label"
                           for="day-29-concurrency-preparation">Day 29: Concurrency Preparation</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-1/">Arc&lt;T&gt; for Atomic Reference Counting</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-2/">Send and Sync Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-3/">Thread Safety Concepts</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-4/">Shared State Challenges</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 29/chapter-5/">Lock-Free Programming Introduction</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-30-memory-management-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-30-memory-management-project">Day 30: Memory Management Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-1/">Building a Simple Data Structure</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-2/">Using Smart Pointers Effectively</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-3/">Memory Usage Optimization</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 30/chapter-4/">Performance Benchmarking</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-31-closures"
                           />
                    <label class="tree-toggle-label"
                           for="day-31-closures">Day 31: Closures</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-1/">Closure Syntax and Usage</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-2/">Capturing Environment</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-3/">Fn, FnMut, and FnOnce Traits</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-4/">Moving Closures</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 31/chapter-5/">Closures vs Functions</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-32-iterators-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-32-iterators-deep-dive">Day 32: Iterators Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-1/">Iterator Trait Implementation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-2/">Lazy Evaluation</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-3/">Iterator Adaptors (map, filter, etc.)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-4/">Consumer Adaptors (collect, fold, etc.)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 32/chapter-5/">Custom Iterators</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-32-iterators-deep-dive"
                           />
                    <label class="tree-toggle-label"
                           for="day-32-iterators-deep-dive">Day 32: Iterators Deep Dive</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-1/">Higher-Order Functions</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-2/">Function Composition</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-3/">Immutable Data Patterns</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-4/">Functional Error Handling</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 33/chapter-5/">Performance of Functional Style</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-34-advanced-iterator-patterns"
                           />
                    <label class="tree-toggle-label"
                           for="day-34-advanced-iterator-patterns">Day 34: Advanced Iterator Patterns</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-1/">Chain, Zip, Enumerate</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-2/">Flat_map and Filter_map</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-3/">Custom Iterator Implementations</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-4/">Parallel Iterators (Rayon Introduction)</a>
                            </li>

                            <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 34/chapter-5/">Iterator Performance Optimization</a>
                            </li>

                            </ul>
                <input class="tree-toggle" type="checkbox" id="day-35-functional-programming-project"
                           />
                    <label class="tree-toggle-label"
                           for="day-35-functional-programming-project">Day 35: Functional Programming Project</label>

                    <ul class="subtree">
                        <li >
                                <a href="https://aarambhdevhub.github.io/rust-doc/day 35/chapter-1/">Functional Programming Project</a>
                            </li>

                            </ul>
                </div>
        </nav>
    <article>

        <div id="on_right">
                <span id="search-ico" class="ms-Icon--Search"></span>
            </div>
            <div class="search-container">
                <input id="search" type="search" placeholder="Search as you type...">
                <div class="search-results">
                    <div class="search-results__header"></div>
                    <ul class="search-results__items"></ul>
                </div>
            </div>
        <div id="wrap">
            
        <h1 id="option-enum-in-rust-comprehensive-documentation-for-beginners">Option<T> Enum in Rust: Comprehensive Documentation for Beginners</h1>
<p>Understanding <code>Option&lt;T&gt;</code> is like learning to <strong>manage your vegetarian pantry inventory</strong> - sometimes you have an ingredient available (Some value), and sometimes you've run out (None). Just as a good chef always checks what's in stock before starting to cook, Rust's <code>Option&lt;T&gt;</code> forces you to explicitly handle both "have it" and "don't have it" cases, preventing those disastrous "oops, I'm missing a key ingredient halfway through cooking" moments!</p>
<h2 id="the-vegetarian-pantry-analogy-leafy-green">The Vegetarian Pantry Analogy 🥬</h2>
<h3 id="imagine-you-re-managing-a-vegetarian-restaurant-pantry">Imagine You're Managing a Vegetarian Restaurant Pantry</h3>
<p><strong>Traditional Approach (Dangerous Nulls):</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ In languages with null - disaster waiting to happen!
</span><span style="color:#b48ead;">let</span><span> carrot_count = </span><span style="color:#96b5b4;">get_ingredient_count</span><span>(&quot;</span><span style="color:#a3be8c;">carrots</span><span>&quot;); </span><span style="color:#a7adba;">// Could be null!
</span><span style="color:#b48ead;">let</span><span> recipe_servings = carrot_count / </span><span style="color:#d08770;">4</span><span>; </span><span style="color:#a7adba;">// 💥 CRASH if null!
</span><span style="color:#a7adba;">// Like trying to divide by nothing - kitchen chaos!
</span></code></pre>
<p><strong>Option<T> Approach (Safe Inventory Management):</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ✅ Rust&#39;s safe approach - always know what you have
</span><span style="color:#b48ead;">let</span><span> carrot_inventory: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; = </span><span style="color:#96b5b4;">check_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">carrots</span><span>&quot;);
</span><span>
</span><span style="color:#b48ead;">match</span><span> carrot_inventory {
</span><span>    Some(count) =&gt; {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">🥕 We have </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> carrots - can make </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> servings!</span><span>&quot;, count, count / </span><span style="color:#d08770;">4</span><span>);
</span><span>    }
</span><span>    None =&gt; {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">🛒 Out of carrots - need to restock before cooking!</span><span>&quot;);
</span><span>    }
</span><span>}
</span></code></pre>
<p><strong>Why This Works Better:</strong></p>
<ul>
<li>🔍 <strong>Always explicit</strong> - You must check if ingredient exists</li>
<li>🚫 <strong>No surprise crashes</strong> - Compiler prevents null pointer errors</li>
<li>📋 <strong>Clear kitchen workflow</strong> - Handle both "have it" and "need it" cases</li>
<li>✅ <strong>Safe operations</strong> - Can't accidentally use missing ingredients</li>
</ul>
<h2 id="what-is-option">What is Option<T>?</h2>
<h3 id="core-concept">Core Concept</h3>
<p><code>Option&lt;T&gt;</code> is Rust's way of representing <strong>optional values</strong> - data that might exist or might not exist. It's an enum with exactly two variants:</p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">enum </span><span>Option&lt;T&gt; {
</span><span>    Some(T),    </span><span style="color:#a7adba;">// Has a value of type T
</span><span>    None,       </span><span style="color:#a7adba;">// No value present
</span><span>}
</span></code></pre>
<p><strong>Key Benefits:</strong></p>
<ul>
<li><strong>No null pointer exceptions</strong> - Rust doesn't have null!</li>
<li><strong>Explicit handling</strong> - Compiler forces you to consider both cases</li>
<li><strong>Type safety</strong> - Can't accidentally use a missing value</li>
<li><strong>Rich API</strong> - Many helpful methods for working with optional data</li>
</ul>
<h3 id="the-missing-ingredient-system">The Missing Ingredient System</h3>
<p>Think of <code>Option&lt;T&gt;</code> like a smart ingredient container:</p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// Define our pantry system
</span><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">struct </span><span>PantryItem {
</span><span>    </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>    </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>    </span><span style="color:#bf616a;">unit</span><span>: String,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">struct </span><span>VegetarianPantry {
</span><span>    </span><span style="color:#bf616a;">ingredients</span><span>: std::collections::HashMap&lt;String, PantryItem&gt;,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>VegetarianPantry {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        VegetarianPantry {
</span><span>            ingredients: std::collections::HashMap::new(),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// This returns Option&lt;T&gt; - might find ingredient, might not
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_ingredient</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">name</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;&amp;PantryItem&gt; {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.ingredients.</span><span style="color:#96b5b4;">get</span><span>(name)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">add_ingredient</span><span>(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">item</span><span>: PantryItem) {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.ingredients.</span><span style="color:#96b5b4;">insert</span><span>(item.name.</span><span style="color:#96b5b4;">clone</span><span>(), item);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Check if we can make a recipe
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">can_make_recipe</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">required_ingredients</span><span>: &amp;[(&amp;</span><span style="color:#bf616a;">str</span><span>, </span><span style="color:#bf616a;">u32</span><span>)]) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>        </span><span style="color:#b48ead;">for </span><span>(ingredient_name, required_amount) in required_ingredients {
</span><span>            </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient_name) {
</span><span>                Some(item) =&gt; {
</span><span>                    </span><span style="color:#b48ead;">if</span><span> item.quantity &lt; *required_amount {
</span><span>                        </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">false</span><span>; </span><span style="color:#a7adba;">// Not enough
</span><span>                    }
</span><span>                }
</span><span>                None =&gt; {
</span><span>                    </span><span style="color:#b48ead;">return </span><span style="color:#d08770;">false</span><span>; </span><span style="color:#a7adba;">// Don&#39;t have ingredient at all
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>        </span><span style="color:#d08770;">true </span><span style="color:#a7adba;">// Have everything we need!
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> pantry = VegetarianPantry::new();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Stock the pantry
</span><span>    pantry.</span><span style="color:#96b5b4;">add_ingredient</span><span>(PantryItem {
</span><span>        name: &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>        quantity: </span><span style="color:#d08770;">500</span><span>,
</span><span>        unit: &quot;</span><span style="color:#a3be8c;">grams</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>    });
</span><span>
</span><span>    pantry.</span><span style="color:#96b5b4;">add_ingredient</span><span>(PantryItem {
</span><span>        name: &quot;</span><span style="color:#a3be8c;">black beans</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>        quantity: </span><span style="color:#d08770;">200</span><span>,
</span><span>        unit: &quot;</span><span style="color:#a3be8c;">grams</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>    });
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Check what we have - using Option&lt;T&gt;
</span><span>    </span><span style="color:#b48ead;">match</span><span> pantry.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;) {
</span><span>        Some(item) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">✅ Found </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{} {}</span><span>&quot;, item.name, item.quantity, item.unit);
</span><span>        }
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">❌ Quinoa not found in pantry</span><span>&quot;);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Check for missing ingredient
</span><span>    </span><span style="color:#b48ead;">match</span><span> pantry.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">avocado</span><span>&quot;) {
</span><span>        Some(item) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">✅ Found </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">: </span><span style="color:#d08770;">{} {}</span><span>&quot;, item.name, item.quantity, item.unit);
</span><span>        }
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">🛒 Need to buy avocado</span><span>&quot;);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Check if we can make a recipe
</span><span>    </span><span style="color:#b48ead;">let</span><span> quinoa_bowl_ingredients = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">100</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">black beans</span><span>&quot;, </span><span style="color:#d08770;">50</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">avocado</span><span>&quot;, </span><span style="color:#d08770;">1</span><span>),  </span><span style="color:#a7adba;">// We don&#39;t have this!
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">if</span><span> pantry.</span><span style="color:#96b5b4;">can_make_recipe</span><span>(&amp;quinoa_bowl_ingredients) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">🍽️ Can make quinoa bowl!</span><span>&quot;);
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">❌ Missing ingredients for quinoa bowl</span><span>&quot;);
</span><span>    }
</span><span>}
</span></code></pre>
<h2 id="basic-option-usage">Basic Option<T> Usage</h2>
<h3 id="creating-option-values">Creating Option Values</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#a7adba;">// Creating Some values - we have the ingredient
</span><span>    </span><span style="color:#b48ead;">let</span><span> fresh_tomatoes: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; = Some(</span><span style="color:#d08770;">12</span><span>);
</span><span>    </span><span style="color:#b48ead;">let</span><span> spinach_leaves: Option&lt;String&gt; = Some(&quot;</span><span style="color:#a3be8c;">organic baby spinach</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Creating None values - we&#39;re out of stock
</span><span>    </span><span style="color:#b48ead;">let</span><span> out_of_carrots: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; = None;
</span><span>    </span><span style="color:#b48ead;">let</span><span> no_description: Option&lt;String&gt; = None;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Rust can often infer the type
</span><span>    </span><span style="color:#b48ead;">let</span><span> some_number = Some(</span><span style="color:#d08770;">42</span><span>);
</span><span>    </span><span style="color:#b48ead;">let</span><span> some_text = Some(&quot;</span><span style="color:#a3be8c;">delicious vegetables</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// But sometimes you need to specify for None
</span><span>    </span><span style="color:#b48ead;">let</span><span> empty_count: Option&lt;</span><span style="color:#b48ead;">i32</span><span>&gt; = None;
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Tomatoes: </span><span style="color:#d08770;">{:?}</span><span>&quot;, fresh_tomatoes);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Spinach: </span><span style="color:#d08770;">{:?}</span><span>&quot;, spinach_leaves);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Carrots: </span><span style="color:#d08770;">{:?}</span><span>&quot;, out_of_carrots);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Description: </span><span style="color:#d08770;">{:?}</span><span>&quot;, no_description);
</span><span>}
</span></code></pre>
<h3 id="pattern-matching-with-option">Pattern Matching with Option<T></h3>
<p><strong>The fundamental way to work with Option<T> is pattern matching:</strong></p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">describe_ingredient_status</span><span>(</span><span style="color:#bf616a;">ingredient</span><span>: Option&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;) {
</span><span>    </span><span style="color:#b48ead;">match</span><span> ingredient {
</span><span>        Some(name) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">✅ We have </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> in stock!</span><span>&quot;, name);
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Ready to use in recipes!</span><span>&quot;);
</span><span>        }
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">❌ Ingredient not available</span><span>&quot;);
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Need to add to shopping list</span><span>&quot;);
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_recipe_cost</span><span>(</span><span style="color:#bf616a;">ingredient_cost</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;, </span><span style="color:#bf616a;">servings</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> ingredient_cost {
</span><span>        Some(cost) =&gt; Some(cost * servings as </span><span style="color:#b48ead;">f64</span><span>),
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">⚠️ Can&#39;t calculate cost - price unknown</span><span>&quot;);
</span><span>            None
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#a7adba;">// Test ingredient availability
</span><span>    </span><span style="color:#96b5b4;">describe_ingredient_status</span><span>(Some(&quot;</span><span style="color:#a3be8c;">organic kale</span><span>&quot;));
</span><span>    </span><span style="color:#96b5b4;">describe_ingredient_status</span><span>(None);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Calculate costs
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_recipe_cost</span><span>(Some(</span><span style="color:#d08770;">3.50</span><span>), </span><span style="color:#d08770;">4</span><span>) {
</span><span>        Some(total) =&gt; println!(&quot;</span><span style="color:#a3be8c;">💰 Total cost: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, total),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">❓ Cost calculation failed</span><span>&quot;),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_recipe_cost</span><span>(None, </span><span style="color:#d08770;">4</span><span>) {
</span><span>        Some(total) =&gt; println!(&quot;</span><span style="color:#a3be8c;">💰 Total cost: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, total),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">❓ Cost calculation failed</span><span>&quot;),
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="using-if-let-for-simpler-cases">Using <code>if let</code> for Simpler Cases</h3>
<p>When you only care about the <code>Some</code> case:</p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">use_ingredient_if_available</span><span>(</span><span style="color:#bf616a;">ingredient</span><span>: Option&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;) {
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Some(name) = ingredient {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">🍳 Using </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> in today&#39;s special!</span><span>&quot;, name);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   Adding to prep list</span><span>&quot;);
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">🤷 No special ingredient today</span><span>&quot;);
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">check_expiration_date</span><span>(</span><span style="color:#bf616a;">item</span><span>: Option&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;, </span><span style="color:#bf616a;">days_left</span><span>: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;) {
</span><span>    </span><span style="color:#a7adba;">// Can chain if let statements
</span><span>    </span><span style="color:#b48ead;">if let </span><span>Some(item_name) = item {
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some(days) = days_left {
</span><span>            </span><span style="color:#b48ead;">if</span><span> days &lt;= </span><span style="color:#d08770;">3 </span><span>{
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">⚠️ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> expires in </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> days - use soon!</span><span>&quot;, item_name, days);
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">✅ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is fresh (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> days left)</span><span>&quot;, item_name, days);
</span><span>            }
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">❓ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> expiration date unknown</span><span>&quot;, item_name);
</span><span>        }
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">❌ No item to check</span><span>&quot;);
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">use_ingredient_if_available</span><span>(Some(&quot;</span><span style="color:#a3be8c;">heirloom tomatoes</span><span>&quot;));
</span><span>    </span><span style="color:#96b5b4;">use_ingredient_if_available</span><span>(None);
</span><span>
</span><span>    </span><span style="color:#96b5b4;">check_expiration_date</span><span>(Some(&quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot;), Some(</span><span style="color:#d08770;">2</span><span>));
</span><span>    </span><span style="color:#96b5b4;">check_expiration_date</span><span>(Some(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;), Some(</span><span style="color:#d08770;">30</span><span>));
</span><span>    </span><span style="color:#96b5b4;">check_expiration_date</span><span>(Some(&quot;</span><span style="color:#a3be8c;">mystery vegetable</span><span>&quot;), None);
</span><span>    </span><span style="color:#96b5b4;">check_expiration_date</span><span>(None, Some(</span><span style="color:#d08770;">5</span><span>));
</span><span>}
</span></code></pre>
<h2 id="common-option-methods">Common Option<T> Methods</h2>
<h3 id="essential-methods-for-daily-use">Essential Methods for Daily Use</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">demonstrate_option_methods</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let</span><span> fresh_ingredient = Some(&quot;</span><span style="color:#a3be8c;">organic basil</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> missing_ingredient: Option&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt; = None;
</span><span>
</span><span>    </span><span style="color:#a7adba;">// 1. is_some() and is_none() - check without extracting
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Have basil? </span><span style="color:#d08770;">{}</span><span>&quot;, fresh_ingredient.</span><span style="color:#96b5b4;">is_some</span><span>());
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Missing ingredient? </span><span style="color:#d08770;">{}</span><span>&quot;, missing_ingredient.</span><span style="color:#96b5b4;">is_none</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// 2. unwrap_or() - provide default value
</span><span>    </span><span style="color:#b48ead;">let</span><span> basil_name = fresh_ingredient.</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;</span><span style="color:#a3be8c;">dried herbs</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> backup_ingredient = missing_ingredient.</span><span style="color:#96b5b4;">unwrap_or</span><span>(&quot;</span><span style="color:#a3be8c;">salt and pepper</span><span>&quot;);
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Using: </span><span style="color:#d08770;">{}</span><span>&quot;, basil_name);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Backup: </span><span style="color:#d08770;">{}</span><span>&quot;, backup_ingredient);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// 3. unwrap_or_else() - compute default value
</span><span>    </span><span style="color:#b48ead;">let</span><span> expensive_ingredient = None;
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_to_use = expensive_ingredient.</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|| {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">Computing cheaper alternative...</span><span>&quot;);
</span><span>        &quot;</span><span style="color:#a3be8c;">budget-friendly herbs</span><span>&quot;
</span><span>    });
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Final choice: </span><span style="color:#d08770;">{}</span><span>&quot;, ingredient_to_use);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// 4. map() - transform the value if present
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredient_count = Some(</span><span style="color:#d08770;">5</span><span>);
</span><span>    </span><span style="color:#b48ead;">let</span><span> doubled_count = ingredient_count.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">count</span><span>| count * </span><span style="color:#d08770;">2</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Original: </span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">, Doubled: </span><span style="color:#d08770;">{:?}</span><span>&quot;, ingredient_count, doubled_count);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> missing_count: Option&lt;</span><span style="color:#b48ead;">i32</span><span>&gt; = None;
</span><span>    </span><span style="color:#b48ead;">let</span><span> doubled_missing = missing_count.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">count</span><span>| count * </span><span style="color:#d08770;">2</span><span>);
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Missing doubled: </span><span style="color:#d08770;">{:?}</span><span>&quot;, doubled_missing); </span><span style="color:#a7adba;">// Still None
</span><span>
</span><span>    </span><span style="color:#a7adba;">// 5. and_then() - chain optional operations
</span><span>    </span><span style="color:#b48ead;">let</span><span> vegetable_name = Some(&quot;</span><span style="color:#a3be8c;">broccoli</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> nutrition_info = vegetable_name.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">name</span><span>| {
</span><span>        </span><span style="color:#b48ead;">if</span><span> name == &quot;</span><span style="color:#a3be8c;">broccoli</span><span>&quot; {
</span><span>            Some(&quot;</span><span style="color:#a3be8c;">High in vitamin C and fiber</span><span>&quot;)
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            None
</span><span>        }
</span><span>    });
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">Nutrition info: </span><span style="color:#d08770;">{:?}</span><span>&quot;, nutrition_info);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#96b5b4;">demonstrate_option_methods</span><span>();
</span><span>}
</span></code></pre>
<h3 id="working-with-option-in-structs">Working with Option<T> in Structs</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">struct </span><span>VegetarianDish {
</span><span>    </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>    </span><span style="color:#bf616a;">description</span><span>: Option&lt;String&gt;,
</span><span>    </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    </span><span style="color:#bf616a;">calories</span><span>: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>    </span><span style="color:#bf616a;">allergen_info</span><span>: Option&lt;Vec&lt;String&gt;&gt;,
</span><span>    </span><span style="color:#bf616a;">chef_notes</span><span>: Option&lt;String&gt;,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>VegetarianDish {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">name</span><span>: String, </span><span style="color:#bf616a;">price</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        VegetarianDish {
</span><span>            name,
</span><span>            price,
</span><span>            description: None,
</span><span>            calories: None,
</span><span>            allergen_info: None,
</span><span>            chef_notes: None,
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Builder pattern methods that return Self
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_description</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">desc</span><span>: String) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.description = Some(desc);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_calories</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">cal</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.calories = Some(cal);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_allergens</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">allergens</span><span>: Vec&lt;String&gt;) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.allergen_info = Some(allergens);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_chef_notes</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">notes</span><span>: String) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.chef_notes = Some(notes);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Method to display full dish information
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">display_menu_item</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) {
</span><span>        println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🍽️ </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.name);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   💰 Price: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.price);
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Handle optional description
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some(desc) = &amp;</span><span style="color:#bf616a;">self</span><span>.description {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   📖 Description: </span><span style="color:#d08770;">{}</span><span>&quot;, desc);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Handle optional calories
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self</span><span>.calories {
</span><span>            Some(cal) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   🔥 Calories: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> per serving</span><span>&quot;, cal),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   🔥 Calorie information not available</span><span>&quot;),
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Handle optional allergen info
</span><span>        </span><span style="color:#b48ead;">match </span><span>&amp;</span><span style="color:#bf616a;">self</span><span>.allergen_info {
</span><span>            Some(allergens) </span><span style="color:#b48ead;">if </span><span>!allergens.</span><span style="color:#96b5b4;">is_empty</span><span>() =&gt; {
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   ⚠️  Allergens: </span><span style="color:#d08770;">{}</span><span>&quot;, allergens.</span><span style="color:#96b5b4;">join</span><span>(&quot;</span><span style="color:#a3be8c;">, </span><span>&quot;));
</span><span>            }
</span><span>            Some(_) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ✅ No known allergens</span><span>&quot;),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ❓ Allergen information not provided</span><span>&quot;),
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Handle optional chef notes
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some(notes) = &amp;</span><span style="color:#bf616a;">self</span><span>.chef_notes {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   👨‍🍳 Chef&#39;s Note: </span><span style="color:#d08770;">{}</span><span>&quot;, notes);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Check if dish is suitable for dietary restrictions
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">is_allergen_free</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">allergen</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;</span><span style="color:#b48ead;">bool</span><span>&gt; {
</span><span>        </span><span style="color:#b48ead;">match </span><span>&amp;</span><span style="color:#bf616a;">self</span><span>.allergen_info {
</span><span>            Some(allergens) =&gt; Some(!allergens.</span><span style="color:#96b5b4;">contains</span><span>(&amp;allergen.</span><span style="color:#96b5b4;">to_string</span><span>())),
</span><span>            None =&gt; None, </span><span style="color:#a7adba;">// We don&#39;t know - allergen info not provided
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Get nutritional density (calories per dollar)
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_nutritional_value</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.calories.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">cal</span><span>| cal as </span><span style="color:#b48ead;">f64 </span><span>/ </span><span style="color:#bf616a;">self</span><span>.price)
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#a7adba;">// Create dishes with different levels of information
</span><span>    </span><span style="color:#b48ead;">let</span><span> simple_salad = VegetarianDish::new(&quot;</span><span style="color:#a3be8c;">Garden Salad</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">8.95</span><span>);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> detailed_bowl = VegetarianDish::new(&quot;</span><span style="color:#a3be8c;">Quinoa Power Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">14.95</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_description</span><span>(&quot;</span><span style="color:#a3be8c;">Nutritious quinoa with roasted vegetables and tahini dressing</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">with_calories</span><span>(</span><span style="color:#d08770;">450</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_allergens</span><span>(vec![&quot;</span><span style="color:#a3be8c;">sesame</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()])
</span><span>        .</span><span style="color:#96b5b4;">with_chef_notes</span><span>(&quot;</span><span style="color:#a3be8c;">Ask for extra avocado - it&#39;s delicious!</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> mystery_dish = VegetarianDish::new(&quot;</span><span style="color:#a3be8c;">Chef&#39;s Special</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">16.95</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_description</span><span>(&quot;</span><span style="color:#a3be8c;">Seasonal vegetables prepared with chef&#39;s secret technique</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">with_chef_notes</span><span>(&quot;</span><span style="color:#a3be8c;">Changes daily based on market availability</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Display all dishes
</span><span>    simple_salad.</span><span style="color:#96b5b4;">display_menu_item</span><span>();
</span><span>    detailed_bowl.</span><span style="color:#96b5b4;">display_menu_item</span><span>();
</span><span>    mystery_dish.</span><span style="color:#96b5b4;">display_menu_item</span><span>();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Check allergen information
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🔍 Allergen Check Results:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> dishes = [&amp;simple_salad, &amp;detailed_bowl, &amp;mystery_dish];
</span><span>    </span><span style="color:#b48ead;">let</span><span> allergen_to_check = &quot;</span><span style="color:#a3be8c;">sesame</span><span>&quot;;
</span><span>
</span><span>    </span><span style="color:#b48ead;">for</span><span> dish in &amp;dishes {
</span><span>        print!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> - Sesame-free: </span><span>&quot;, dish.name);
</span><span>        </span><span style="color:#b48ead;">match</span><span> dish.</span><span style="color:#96b5b4;">is_allergen_free</span><span>(allergen_to_check) {
</span><span>            Some(</span><span style="color:#d08770;">true</span><span>) =&gt; println!(&quot;</span><span style="color:#a3be8c;">✅ Yes</span><span>&quot;),
</span><span>            Some(</span><span style="color:#d08770;">false</span><span>) =&gt; println!(&quot;</span><span style="color:#a3be8c;">❌ No, contains sesame</span><span>&quot;),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">❓ Unknown (no allergen info)</span><span>&quot;),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Compare nutritional value
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📊 Nutritional Value (calories per dollar):</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> dish in &amp;dishes {
</span><span>        print!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> - </span><span>&quot;, dish.name);
</span><span>        </span><span style="color:#b48ead;">match</span><span> dish.</span><span style="color:#96b5b4;">get_nutritional_value</span><span>() {
</span><span>            Some(value) =&gt; println!(&quot;</span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;"> calories/$</span><span>&quot;, value),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">Cannot calculate (no calorie info)</span><span>&quot;),
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre>
<h2 id="advanced-option-patterns">Advanced Option<T> Patterns</h2>
<h3 id="combining-multiple-options">Combining Multiple Options</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">struct </span><span>RecipeIngredient {
</span><span>    </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>    </span><span style="color:#bf616a;">quantity</span><span>: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>    </span><span style="color:#bf616a;">unit</span><span>: Option&lt;String&gt;,
</span><span>    </span><span style="color:#bf616a;">notes</span><span>: Option&lt;String&gt;,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">struct </span><span>RecipeCalculator;
</span><span>
</span><span style="color:#b48ead;">impl </span><span>RecipeCalculator {
</span><span>    </span><span style="color:#a7adba;">// Combine two optional values
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_total_cost</span><span>(
</span><span>        </span><span style="color:#bf616a;">ingredient_cost</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">tax_rate</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;
</span><span>    ) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>        </span><span style="color:#b48ead;">match </span><span>(ingredient_cost, tax_rate) {
</span><span>            (Some(cost), Some(tax)) =&gt; Some(cost * (</span><span style="color:#d08770;">1.0 </span><span>+ tax)),
</span><span>            _ =&gt; None, </span><span style="color:#a7adba;">// If either is missing, can&#39;t calculate
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Alternative using and_then
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_total_cost_v2</span><span>(
</span><span>        </span><span style="color:#bf616a;">ingredient_cost</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">tax_rate</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;
</span><span>    ) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>        ingredient_cost.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">cost</span><span>| {
</span><span>            tax_rate.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">tax</span><span>| cost * (</span><span style="color:#d08770;">1.0 </span><span>+ tax))
</span><span>        })
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Scaling recipe based on available ingredients
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">scale_recipe_for_available_ingredients</span><span>(
</span><span>        </span><span style="color:#bf616a;">base_servings</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>        </span><span style="color:#bf616a;">available_main_ingredient</span><span>: Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>        </span><span style="color:#bf616a;">required_per_serving</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>    ) -&gt; Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; {
</span><span>        available_main_ingredient.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">available</span><span>| {
</span><span>            </span><span style="color:#b48ead;">let</span><span> possible_servings = available / required_per_serving;
</span><span>            </span><span style="color:#b48ead;">if</span><span> possible_servings &gt; </span><span style="color:#d08770;">0 </span><span>{
</span><span>                Some(possible_servings.</span><span style="color:#96b5b4;">min</span><span>(base_servings))
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                None </span><span style="color:#a7adba;">// Can&#39;t make any servings
</span><span>            }
</span><span>        })
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Collecting multiple optional values
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">create_shopping_list</span><span>(</span><span style="color:#bf616a;">ingredients</span><span>: Vec&lt;RecipeIngredient&gt;) -&gt; Vec&lt;String&gt; {
</span><span>        ingredients
</span><span>            .</span><span style="color:#96b5b4;">into_iter</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">filter_map</span><span>(|</span><span style="color:#bf616a;">ingredient</span><span>| {
</span><span>                </span><span style="color:#a7adba;">// Only include items where we have all the information
</span><span>                </span><span style="color:#b48ead;">match </span><span>(ingredient.quantity, ingredient.unit) {
</span><span>                    (Some(qty), Some(unit)) =&gt; {
</span><span>                        Some(format!(&quot;</span><span style="color:#d08770;">{} {} {}</span><span>&quot;, qty, unit, ingredient.name))
</span><span>                    }
</span><span>                    _ =&gt; None, </span><span style="color:#a7adba;">// Skip incomplete ingredients
</span><span>                }
</span><span>            })
</span><span>            .</span><span style="color:#96b5b4;">collect</span><span>()
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#a7adba;">// Test cost calculations
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">💰 Cost Calculations:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> cases = [
</span><span>        (Some(</span><span style="color:#d08770;">15.50</span><span>), Some(</span><span style="color:#d08770;">0.08</span><span>)), </span><span style="color:#a7adba;">// Both available
</span><span>        (Some(</span><span style="color:#d08770;">12.30</span><span>), None),       </span><span style="color:#a7adba;">// Missing tax rate
</span><span>        (None, Some(</span><span style="color:#d08770;">0.08</span><span>)),        </span><span style="color:#a7adba;">// Missing cost
</span><span>        (None, None),              </span><span style="color:#a7adba;">// Both missing
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(cost, tax) in cases {
</span><span>        </span><span style="color:#b48ead;">match </span><span>RecipeCalculator::calculate_total_cost(cost, tax) {
</span><span>            Some(total) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Cost: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, total),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Cannot calculate (missing information)</span><span>&quot;),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test recipe scaling
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📏 Recipe Scaling:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> base_servings = </span><span style="color:#d08770;">8</span><span>;
</span><span>    </span><span style="color:#b48ead;">let</span><span> available_quinoa = Some(</span><span style="color:#d08770;">400</span><span>); </span><span style="color:#a7adba;">// grams
</span><span>    </span><span style="color:#b48ead;">let</span><span> required_per_serving = </span><span style="color:#d08770;">50</span><span>; </span><span style="color:#a7adba;">// grams
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span>RecipeCalculator::scale_recipe_for_available_ingredients(
</span><span>        base_servings, available_quinoa, required_per_serving
</span><span>    ) {
</span><span>        Some(servings) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Can make </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> servings</span><span>&quot;, servings),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Cannot make any servings</span><span>&quot;),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test shopping list creation
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🛒 Shopping List:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> ingredients = vec![
</span><span>        RecipeIngredient {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            quantity: Some(</span><span style="color:#d08770;">500</span><span>),
</span><span>            unit: Some(&quot;</span><span style="color:#a3be8c;">grams</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            notes: Some(&quot;</span><span style="color:#a3be8c;">organic preferred</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        },
</span><span>        RecipeIngredient {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">tomatoes</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            quantity: Some(</span><span style="color:#d08770;">6</span><span>),
</span><span>            unit: Some(&quot;</span><span style="color:#a3be8c;">pieces</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            notes: None,
</span><span>        },
</span><span>        RecipeIngredient {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">mystery spice</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            quantity: None, </span><span style="color:#a7adba;">// Missing quantity
</span><span>            unit: Some(&quot;</span><span style="color:#a3be8c;">teaspoons</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>            notes: Some(&quot;</span><span style="color:#a3be8c;">ask chef for amount</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        },
</span><span>        RecipeIngredient {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">olive oil</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            quantity: Some(</span><span style="color:#d08770;">2</span><span>),
</span><span>            unit: None, </span><span style="color:#a7adba;">// Missing unit
</span><span>            notes: None,
</span><span>        },
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> shopping_list = RecipeCalculator::create_shopping_list(ingredients);
</span><span>    </span><span style="color:#b48ead;">for</span><span> item in shopping_list {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   • </span><span style="color:#d08770;">{}</span><span>&quot;, item);
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="error-recovery-with-option">Error Recovery with Option<T></h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">struct </span><span>SmartKitchen {
</span><span>    </span><span style="color:#bf616a;">ingredients</span><span>: std::collections::HashMap&lt;String, </span><span style="color:#b48ead;">u32</span><span>&gt;,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>SmartKitchen {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        SmartKitchen {
</span><span>            ingredients: std::collections::HashMap::new(),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">add_ingredient</span><span>(&amp;</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">name</span><span>: String, </span><span style="color:#bf616a;">quantity</span><span>: </span><span style="color:#b48ead;">u32</span><span>) {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.ingredients.</span><span style="color:#96b5b4;">insert</span><span>(name, quantity);
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Try multiple fallback options
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">find_protein_source</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; Option&lt;(&amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#b48ead;">u32</span><span>)&gt; {
</span><span>        </span><span style="color:#a7adba;">// Try preferred options first
</span><span>        </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;)
</span><span>            .</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">qty</span><span>| (&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, qty))
</span><span>            .</span><span style="color:#96b5b4;">or_else</span><span>(|| </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">qty</span><span>| (&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;, qty)))
</span><span>            .</span><span style="color:#96b5b4;">or_else</span><span>(|| </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">chickpeas</span><span>&quot;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">qty</span><span>| (&quot;</span><span style="color:#a3be8c;">chickpeas</span><span>&quot;, qty)))
</span><span>            .</span><span style="color:#96b5b4;">or_else</span><span>(|| </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">qty</span><span>| (&quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;, qty)))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_ingredient</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">name</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.ingredients.</span><span style="color:#96b5b4;">get</span><span>(name).</span><span style="color:#96b5b4;">copied</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Chain operations with fallbacks
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">prepare_backup_meal</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; String {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">find_protein_source</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">and_then</span><span>(|(</span><span style="color:#bf616a;">protein</span><span>, </span><span style="color:#bf616a;">quantity</span><span>)| {
</span><span>                </span><span style="color:#b48ead;">if</span><span> quantity &gt;= </span><span style="color:#d08770;">100 </span><span>{
</span><span>                    Some(format!(&quot;</span><span style="color:#a3be8c;">Protein bowl with </span><span style="color:#d08770;">{}</span><span>&quot;, protein))
</span><span>                } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                    None </span><span style="color:#a7adba;">// Not enough for main dish
</span><span>                }
</span><span>            })
</span><span>            .</span><span style="color:#96b5b4;">or_else</span><span>(|| {
</span><span>                </span><span style="color:#a7adba;">// Fallback to salad if no protein available
</span><span>                </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">lettuce</span><span>&quot;).</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">lettuce_qty</span><span>| {
</span><span>                    </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">tomatoes</span><span>&quot;).</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">tomato_qty</span><span>| {
</span><span>                        format!(&quot;</span><span style="color:#a3be8c;">Fresh salad (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> lettuce, </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> tomatoes)</span><span>&quot;, lettuce_qty, tomato_qty)
</span><span>                    })
</span><span>                })
</span><span>            })
</span><span>            .</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|| {
</span><span>                </span><span style="color:#a7adba;">// Ultimate fallback
</span><span>                &quot;</span><span style="color:#a3be8c;">Simple bread and olive oil</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()
</span><span>            })
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Try to fulfill a recipe with substitutions
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">attempt_recipe</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">primary_ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>, </span><span style="color:#bf616a;">alternatives</span><span>: &amp;[&amp;</span><span style="color:#b48ead;">str</span><span>]) -&gt; Option&lt;String&gt; {
</span><span>        </span><span style="color:#a7adba;">// Try primary ingredient first
</span><span>        </span><span style="color:#b48ead;">if let </span><span>Some(qty) = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(primary_ingredient) {
</span><span>            </span><span style="color:#b48ead;">if</span><span> qty &gt;= </span><span style="color:#d08770;">50 </span><span>{
</span><span>                </span><span style="color:#b48ead;">return </span><span>Some(format!(&quot;</span><span style="color:#a3be8c;">Recipe with </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">g available)</span><span>&quot;, primary_ingredient, qty));
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Try alternatives
</span><span>        </span><span style="color:#b48ead;">for </span><span>&amp;alternative in alternatives {
</span><span>            </span><span style="color:#b48ead;">if let </span><span>Some(qty) = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(alternative) {
</span><span>                </span><span style="color:#b48ead;">if</span><span> qty &gt;= </span><span style="color:#d08770;">50 </span><span>{
</span><span>                    </span><span style="color:#b48ead;">return </span><span>Some(format!(&quot;</span><span style="color:#a3be8c;">Recipe with </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> substitute (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">g available)</span><span>&quot;, alternative, qty));
</span><span>                }
</span><span>            }
</span><span>        }
</span><span>
</span><span>        None </span><span style="color:#a7adba;">// No suitable ingredients found
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> kitchen = SmartKitchen::new();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Stock kitchen with varying amounts
</span><span>    kitchen.</span><span style="color:#96b5b4;">add_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">150</span><span>);
</span><span>    kitchen.</span><span style="color:#96b5b4;">add_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">lettuce</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">200</span><span>);
</span><span>    kitchen.</span><span style="color:#96b5b4;">add_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">tomatoes</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">100</span><span>);
</span><span>    kitchen.</span><span style="color:#96b5b4;">add_ingredient</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">25</span><span>); </span><span style="color:#a7adba;">// Not enough for main dish
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test protein source finding with fallbacks
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🔍 Finding protein source:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">match</span><span> kitchen.</span><span style="color:#96b5b4;">find_protein_source</span><span>() {
</span><span>        Some((protein, qty)) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Found: </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">g available)</span><span>&quot;, protein, qty);
</span><span>        }
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   No protein sources available</span><span>&quot;);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test backup meal preparation
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🍽️ Backup meal: </span><span style="color:#d08770;">{}</span><span>&quot;, kitchen.</span><span style="color:#96b5b4;">prepare_backup_meal</span><span>());
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test recipe attempts with substitutions
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">👨‍🍳 Recipe attempts:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipes = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">chickpeas</span><span>&quot;, vec![&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;]),
</span><span>        (&quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;, vec![&quot;</span><span style="color:#a3be8c;">tempeh</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;]),
</span><span>        (&quot;</span><span style="color:#a3be8c;">rice</span><span>&quot;, vec![&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">barley</span><span>&quot;]),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(primary, alternatives) in recipes {
</span><span>        </span><span style="color:#b48ead;">match</span><span> kitchen.</span><span style="color:#96b5b4;">attempt_recipe</span><span>(primary, &amp;alternatives) {
</span><span>            Some(recipe) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ✅ </span><span style="color:#d08770;">{}</span><span>&quot;, recipe),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   ❌ Cannot make recipe with </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> or alternatives</span><span>&quot;, primary),
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre>
<h2 id="the-question-mark-operator">The Question Mark Operator (?)</h2>
<h3 id="simplifying-option-chains">Simplifying Option<T> Chains</h3>
<p>The <code>?</code> operator provides a concise way to handle <code>Option&lt;T&gt;</code> values:</p>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">struct </span><span>IngredientDatabase {
</span><span>    </span><span style="color:#bf616a;">ingredients</span><span>: std::collections::HashMap&lt;String, IngredientInfo&gt;,
</span><span>}
</span><span>
</span><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug, Clone)]
</span><span style="color:#b48ead;">struct </span><span>IngredientInfo {
</span><span>    </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>    </span><span style="color:#bf616a;">calories_per_100g</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>    </span><span style="color:#bf616a;">protein_per_100g</span><span>: </span><span style="color:#b48ead;">f32</span><span>,
</span><span>    </span><span style="color:#bf616a;">price_per_kg</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>IngredientDatabase {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>() -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> ingredients = std::collections::HashMap::new();
</span><span>
</span><span>        ingredients.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), IngredientInfo {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            calories_per_100g: </span><span style="color:#d08770;">368</span><span>,
</span><span>            protein_per_100g: </span><span style="color:#d08770;">14.1</span><span>,
</span><span>            price_per_kg: </span><span style="color:#d08770;">8.50</span><span>,
</span><span>        });
</span><span>
</span><span>        ingredients.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), IngredientInfo {
</span><span>            name: &quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            calories_per_100g: </span><span style="color:#d08770;">116</span><span>,
</span><span>            protein_per_100g: </span><span style="color:#d08770;">9.0</span><span>,
</span><span>            price_per_kg: </span><span style="color:#d08770;">3.20</span><span>,
</span><span>        });
</span><span>
</span><span>        IngredientDatabase { ingredients }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_ingredient</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">name</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;&amp;IngredientInfo&gt; {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.ingredients.</span><span style="color:#96b5b4;">get</span><span>(name)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Without ? operator - verbose
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_recipe_cost_verbose</span><span>(
</span><span>        &amp;</span><span style="color:#bf616a;">self</span><span>,
</span><span>        </span><span style="color:#bf616a;">ingredient1</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">amount1_kg</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">ingredient2</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">amount2_kg</span><span>: </span><span style="color:#b48ead;">f64
</span><span>    ) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient1) {
</span><span>            Some(info1) =&gt; {
</span><span>                </span><span style="color:#b48ead;">match </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient2) {
</span><span>                    Some(info2) =&gt; {
</span><span>                        Some(info1.price_per_kg * amount1_kg + info2.price_per_kg * amount2_kg)
</span><span>                    }
</span><span>                    None =&gt; None,
</span><span>                }
</span><span>            }
</span><span>            None =&gt; None,
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// With ? operator - clean and readable!
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_recipe_cost</span><span>(
</span><span>        &amp;</span><span style="color:#bf616a;">self</span><span>,
</span><span>        </span><span style="color:#bf616a;">ingredient1</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">amount1_kg</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>        </span><span style="color:#bf616a;">ingredient2</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">amount2_kg</span><span>: </span><span style="color:#b48ead;">f64
</span><span>    ) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> info1 = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient1)?; </span><span style="color:#a7adba;">// Returns None if not found
</span><span>        </span><span style="color:#b48ead;">let</span><span> info2 = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient2)?; </span><span style="color:#a7adba;">// Returns None if not found
</span><span>
</span><span>        Some(info1.price_per_kg * amount1_kg + info2.price_per_kg * amount2_kg)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Chain multiple operations with ?
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_protein_density</span><span>(
</span><span>        &amp;</span><span style="color:#bf616a;">self</span><span>,
</span><span>        </span><span style="color:#bf616a;">ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>,
</span><span>        </span><span style="color:#bf616a;">serving_size_g</span><span>: </span><span style="color:#b48ead;">f64
</span><span>    ) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>        </span><span style="color:#b48ead;">let</span><span> info = </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient)?;
</span><span>        </span><span style="color:#b48ead;">let</span><span> protein_per_serving = (info.protein_per_100g as </span><span style="color:#b48ead;">f64</span><span>) * (serving_size_g / </span><span style="color:#d08770;">100.0</span><span>);
</span><span>
</span><span>        </span><span style="color:#b48ead;">if</span><span> protein_per_serving &gt; </span><span style="color:#d08770;">0.0 </span><span>{
</span><span>            Some(protein_per_serving)
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            None
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">analyze_recipe_nutrition</span><span>(
</span><span>    </span><span style="color:#bf616a;">db</span><span>: &amp;IngredientDatabase,
</span><span>    </span><span style="color:#bf616a;">ingredients</span><span>: &amp;[(&amp;</span><span style="color:#bf616a;">str</span><span>, </span><span style="color:#bf616a;">f64</span><span>)], </span><span style="color:#a7adba;">// (name, grams)
</span><span>) -&gt; Option&lt;(</span><span style="color:#b48ead;">f64</span><span>, </span><span style="color:#b48ead;">f64</span><span>)&gt; { </span><span style="color:#a7adba;">// (total_calories, total_protein)
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> total_calories = </span><span style="color:#d08770;">0.0</span><span>;
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> total_protein = </span><span style="color:#d08770;">0.0</span><span>;
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(ingredient_name, grams) in ingredients {
</span><span>        </span><span style="color:#b48ead;">let</span><span> info = db.</span><span style="color:#96b5b4;">get_ingredient</span><span>(ingredient_name)?; </span><span style="color:#a7adba;">// Early return if not found
</span><span>
</span><span>        total_calories += (info.calories_per_100g as </span><span style="color:#b48ead;">f64</span><span>) * (grams / </span><span style="color:#d08770;">100.0</span><span>);
</span><span>        total_protein += (info.protein_per_100g as </span><span style="color:#b48ead;">f64</span><span>) * (grams / </span><span style="color:#d08770;">100.0</span><span>);
</span><span>    }
</span><span>
</span><span>    Some((total_calories, total_protein))
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let</span><span> db = IngredientDatabase::new();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test recipe cost calculation
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">💰 Recipe Cost Analysis:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">match</span><span> db.</span><span style="color:#96b5b4;">calculate_recipe_cost</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">0.2</span><span>, &quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;, </span><span style="color:#d08770;">0.15</span><span>) {
</span><span>        Some(cost) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Total cost: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, cost),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Cannot calculate - missing ingredient info</span><span>&quot;),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">match</span><span> db.</span><span style="color:#96b5b4;">calculate_recipe_cost</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">0.2</span><span>, &quot;</span><span style="color:#a3be8c;">tofu</span><span>&quot;, </span><span style="color:#d08770;">0.15</span><span>) {
</span><span>        Some(cost) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Total cost: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, cost),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   Cannot calculate - missing ingredient info</span><span>&quot;),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test protein density
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">🥗 Protein Analysis:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_ingredients = [(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">100.0</span><span>), (&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;, </span><span style="color:#d08770;">150.0</span><span>), (&quot;</span><span style="color:#a3be8c;">mystery_grain</span><span>&quot;, </span><span style="color:#d08770;">100.0</span><span>)];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(ingredient, serving) in test_ingredients {
</span><span>        </span><span style="color:#b48ead;">match</span><span> db.</span><span style="color:#96b5b4;">get_protein_density</span><span>(ingredient, serving) {
</span><span>            Some(protein) =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">g): </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">g protein</span><span>&quot;, ingredient, serving, protein),
</span><span>            None =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (</span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;">g): No data available</span><span>&quot;, ingredient, serving),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test complete recipe analysis
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">📊 Complete Recipe Analysis:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">let</span><span> recipe_ingredients = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">150.0</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;, </span><span style="color:#d08770;">100.0</span><span>),
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">analyze_recipe_nutrition</span><span>(&amp;db, &amp;recipe_ingredients) {
</span><span>        Some((calories, protein)) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Total calories: </span><span style="color:#d08770;">{:.0}</span><span>&quot;, calories);
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Total protein: </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">g</span><span>&quot;, protein);
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Protein per calorie: </span><span style="color:#d08770;">{:.3}</span><span style="color:#a3be8c;">g/cal</span><span>&quot;, protein / calories);
</span><span>        }
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Cannot analyze - missing ingredient data</span><span>&quot;);
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test with missing ingredient
</span><span>    </span><span style="color:#b48ead;">let</span><span> incomplete_recipe = [
</span><span>        (&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;, </span><span style="color:#d08770;">150.0</span><span>),
</span><span>        (&quot;</span><span style="color:#a3be8c;">mystery_ingredient</span><span>&quot;, </span><span style="color:#d08770;">100.0</span><span>),  </span><span style="color:#a7adba;">// Not in database
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">analyze_recipe_nutrition</span><span>(&amp;db, &amp;incomplete_recipe) {
</span><span>        Some((calories, protein)) =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   Incomplete recipe: </span><span style="color:#d08770;">{:.0}</span><span style="color:#a3be8c;"> cal, </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">g protein</span><span>&quot;, calories, protein);
</span><span>        }
</span><span>        None =&gt; {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   ❌ Cannot analyze incomplete recipe - missing ingredient data</span><span>&quot;);
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre>
<h2 id="best-practices-and-common-patterns">Best Practices and Common Patterns</h2>
<h3 id="1-prefer-pattern-matching-for-complex-logic">1. Prefer Pattern Matching for Complex Logic</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">struct </span><span>MenuRecommendation {
</span><span>    </span><span style="color:#bf616a;">dish_name</span><span>: String,
</span><span>    </span><span style="color:#bf616a;">confidence</span><span>: </span><span style="color:#b48ead;">f64</span><span>,
</span><span>    </span><span style="color:#bf616a;">reason</span><span>: String,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_recommendation_for_customer</span><span>(
</span><span>    </span><span style="color:#bf616a;">dietary_preference</span><span>: Option&lt;&amp;</span><span style="color:#b48ead;">str</span><span>&gt;,
</span><span>    </span><span style="color:#bf616a;">budget</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;,
</span><span>    </span><span style="color:#bf616a;">allergens</span><span>: Option&lt;Vec&lt;String&gt;&gt;,
</span><span>) -&gt; Option&lt;MenuRecommendation&gt; {
</span><span>    </span><span style="color:#b48ead;">match </span><span>(dietary_preference, budget, allergens) {
</span><span>        </span><span style="color:#a7adba;">// Customer has all preferences specified
</span><span>        (Some(diet), Some(budget_limit), Some(allergen_list)) =&gt; {
</span><span>            </span><span style="color:#b48ead;">if</span><span> diet == &quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot; &amp;&amp; budget_limit &gt;= </span><span style="color:#d08770;">15.0 </span><span>&amp;&amp; !allergen_list.</span><span style="color:#96b5b4;">contains</span><span>(&amp;&quot;</span><span style="color:#a3be8c;">nuts</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()) {
</span><span>                Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Premium Vegan Buddha Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.95</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Matches all your preferences perfectly</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                })
</span><span>            } </span><span style="color:#b48ead;">else if</span><span> diet == &quot;</span><span style="color:#a3be8c;">vegetarian</span><span>&quot; &amp;&amp; budget_limit &gt;= </span><span style="color:#d08770;">12.0 </span><span>{
</span><span>                Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Garden Fresh Pasta</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.85</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Great vegetarian option within budget</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                })
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Simple Garden Salad</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.60</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Safe option that works for most diets</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                })
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Only dietary preference known
</span><span>        (Some(diet), None, None) =&gt; {
</span><span>            </span><span style="color:#b48ead;">match</span><span> diet {
</span><span>                &quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot; =&gt; Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Classic Vegan Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.75</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Popular vegan choice</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                }),
</span><span>                &quot;</span><span style="color:#a3be8c;">vegetarian</span><span>&quot; =&gt; Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Cheese &amp; Herb Pasta</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.75</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Vegetarian favorite</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                }),
</span><span>                _ =&gt; None,
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// Only budget known
</span><span>        (None, Some(budget_limit), None) =&gt; {
</span><span>            </span><span style="color:#b48ead;">if</span><span> budget_limit &gt;= </span><span style="color:#d08770;">20.0 </span><span>{
</span><span>                Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Chef&#39;s Special Platter</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.70</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Premium option within your budget</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                })
</span><span>            } </span><span style="color:#b48ead;">else if</span><span> budget_limit &gt;= </span><span style="color:#d08770;">10.0 </span><span>{
</span><span>                Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Daily Special</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.65</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Good value option</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                })
</span><span>            } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                Some(MenuRecommendation {
</span><span>                    dish_name: &quot;</span><span style="color:#a3be8c;">Budget Bowl</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                    confidence: </span><span style="color:#d08770;">0.50</span><span>,
</span><span>                    reason: &quot;</span><span style="color:#a3be8c;">Affordable and filling</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>                })
</span><span>            }
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#a7adba;">// No preferences provided
</span><span>        _ =&gt; Some(MenuRecommendation {
</span><span>            dish_name: &quot;</span><span style="color:#a3be8c;">House Salad</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>            confidence: </span><span style="color:#d08770;">0.40</span><span>,
</span><span>            reason: &quot;</span><span style="color:#a3be8c;">Safe default choice</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(),
</span><span>        }),
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_cases = [
</span><span>        (Some(&quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot;), Some(</span><span style="color:#d08770;">18.0</span><span>), Some(vec![])),
</span><span>        (Some(&quot;</span><span style="color:#a3be8c;">vegan</span><span>&quot;), Some(</span><span style="color:#d08770;">18.0</span><span>), Some(vec![&quot;</span><span style="color:#a3be8c;">nuts</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()])),
</span><span>        (Some(&quot;</span><span style="color:#a3be8c;">vegetarian</span><span>&quot;), None, None),
</span><span>        (None, Some(</span><span style="color:#d08770;">25.0</span><span>), None),
</span><span>        (None, Some(</span><span style="color:#d08770;">8.0</span><span>), None),
</span><span>        (None, None, None),
</span><span>    ];
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🍽️ Menu Recommendations:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(diet, budget, allergens) in test_cases {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">get_recommendation_for_customer</span><span>(diet, budget, allergens.</span><span style="color:#96b5b4;">as_ref</span><span>()) {
</span><span>            Some(rec) =&gt; {
</span><span>                println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   Customer: diet=</span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">, budget=</span><span style="color:#d08770;">{:?}</span><span>&quot;, diet, budget);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   → </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> (confidence: </span><span style="color:#d08770;">{:.0}</span><span style="color:#a3be8c;">%)</span><span>&quot;, rec.dish_name, rec.confidence * </span><span style="color:#d08770;">100.0</span><span>);
</span><span>                println!(&quot;</span><span style="color:#a3be8c;">   → </span><span style="color:#d08770;">{}</span><span>&quot;, rec.reason);
</span><span>            }
</span><span>            None =&gt; {
</span><span>                println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">   No suitable recommendation found</span><span>&quot;);
</span><span>            }
</span><span>        }
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="2-use-option-for-configuration-and-settings">2. Use Option<T> for Configuration and Settings</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">derive</span><span>(Debug)]
</span><span style="color:#b48ead;">struct </span><span>RestaurantConfig {
</span><span>    </span><span style="color:#bf616a;">name</span><span>: String,
</span><span>    </span><span style="color:#bf616a;">max_tables</span><span>: </span><span style="color:#b48ead;">u32</span><span>,
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Optional settings with sensible defaults
</span><span>    </span><span style="color:#bf616a;">wifi_password</span><span>: Option&lt;String&gt;,
</span><span>    </span><span style="color:#bf616a;">background_music</span><span>: Option&lt;String&gt;,
</span><span>    </span><span style="color:#bf616a;">special_diet_menu</span><span>: Option&lt;</span><span style="color:#b48ead;">bool</span><span>&gt;,
</span><span>    </span><span style="color:#bf616a;">delivery_radius_km</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;,
</span><span>    </span><span style="color:#bf616a;">loyalty_program</span><span>: Option&lt;String&gt;,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>RestaurantConfig {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">new</span><span>(</span><span style="color:#bf616a;">name</span><span>: String, </span><span style="color:#bf616a;">max_tables</span><span>: </span><span style="color:#b48ead;">u32</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        RestaurantConfig {
</span><span>            name,
</span><span>            max_tables,
</span><span>            wifi_password: None,
</span><span>            background_music: None,
</span><span>            special_diet_menu: None,
</span><span>            delivery_radius_km: None,
</span><span>            loyalty_program: None,
</span><span>        }
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Builder pattern methods for optional settings
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_wifi</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">password</span><span>: String) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.wifi_password = Some(password);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_music</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">playlist</span><span>: String) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.background_music = Some(playlist);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_special_diet_menu</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">available</span><span>: </span><span style="color:#b48ead;">bool</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.special_diet_menu = Some(available);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_delivery</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">radius_km</span><span>: </span><span style="color:#b48ead;">f64</span><span>) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.delivery_radius_km = Some(radius_km);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">with_loyalty_program</span><span>(</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">self</span><span>, </span><span style="color:#bf616a;">program_name</span><span>: String) -&gt; </span><span style="color:#b48ead;">Self </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.loyalty_program = Some(program_name);
</span><span>        </span><span style="color:#bf616a;">self
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Methods that use Option values with defaults
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_wifi_password</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; String {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.wifi_password
</span><span>            .</span><span style="color:#96b5b4;">clone</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|| &quot;</span><span style="color:#a3be8c;">No WiFi available</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_music_setting</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; String {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.background_music
</span><span>            .</span><span style="color:#96b5b4;">clone</span><span>()
</span><span>            .</span><span style="color:#96b5b4;">unwrap_or_else</span><span>(|| &quot;</span><span style="color:#a3be8c;">Quiet ambiance</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">offers_special_diet_menu</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.special_diet_menu.</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">false</span><span>) </span><span style="color:#a7adba;">// Default: no special menu
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">delivery_available</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.delivery_radius_km.</span><span style="color:#96b5b4;">is_some</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_delivery_radius</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">f64 </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.delivery_radius_km.</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>)
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">has_loyalty_program</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; </span><span style="color:#b48ead;">bool </span><span>{
</span><span>        </span><span style="color:#bf616a;">self</span><span>.loyalty_program.</span><span style="color:#96b5b4;">is_some</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">display_config</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) {
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">🏪 Restaurant Configuration: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.name);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   📍 Tables: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.max_tables);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   📶 WiFi: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_wifi_password</span><span>());
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   🎵 Music: </span><span style="color:#d08770;">{}</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_music_setting</span><span>());
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">   🥗 Special Diet Menu: </span><span style="color:#d08770;">{}</span><span>&quot;,
</span><span>                 </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">offers_special_diet_menu</span><span>() { &quot;</span><span style="color:#a3be8c;">Available</span><span>&quot; } </span><span style="color:#b48ead;">else </span><span>{ &quot;</span><span style="color:#a3be8c;">Not available</span><span>&quot; });
</span><span>
</span><span>        </span><span style="color:#b48ead;">if </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">delivery_available</span><span>() {
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   🚗 Delivery: Available within </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;">km</span><span>&quot;, </span><span style="color:#bf616a;">self</span><span>.</span><span style="color:#96b5b4;">get_delivery_radius</span><span>());
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            println!(&quot;</span><span style="color:#a3be8c;">   🚗 Delivery: Not available</span><span>&quot;);
</span><span>        }
</span><span>
</span><span>        </span><span style="color:#b48ead;">match </span><span>&amp;</span><span style="color:#bf616a;">self</span><span>.loyalty_program {
</span><span>            Some(program) =&gt; println!(&quot;</span><span style="color:#a3be8c;">   🎁 Loyalty Program: </span><span style="color:#d08770;">{}</span><span>&quot;, program),
</span><span>            None =&gt; println!(&quot;</span><span style="color:#a3be8c;">   🎁 Loyalty Program: Not available</span><span>&quot;),
</span><span>        }
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#a7adba;">// Basic restaurant with minimal configuration
</span><span>    </span><span style="color:#b48ead;">let</span><span> basic_restaurant = RestaurantConfig::new(&quot;</span><span style="color:#a3be8c;">Corner Café</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">12</span><span>);
</span><span>    basic_restaurant.</span><span style="color:#96b5b4;">display_config</span><span>();
</span><span>
</span><span>    println!();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Full-service restaurant with all options
</span><span>    </span><span style="color:#b48ead;">let</span><span> premium_restaurant = RestaurantConfig::new(&quot;</span><span style="color:#a3be8c;">Garden Bistro</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">25</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_wifi</span><span>(&quot;</span><span style="color:#a3be8c;">VeggieGuest2024</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">with_music</span><span>(&quot;</span><span style="color:#a3be8c;">Jazz &amp; Acoustic</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">with_special_diet_menu</span><span>(</span><span style="color:#d08770;">true</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_delivery</span><span>(</span><span style="color:#d08770;">5.0</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_loyalty_program</span><span>(&quot;</span><span style="color:#a3be8c;">Green Points</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>());
</span><span>
</span><span>    premium_restaurant.</span><span style="color:#96b5b4;">display_config</span><span>();
</span><span>
</span><span>    println!();
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Partial configuration - some options set
</span><span>    </span><span style="color:#b48ead;">let</span><span> casual_restaurant = RestaurantConfig::new(&quot;</span><span style="color:#a3be8c;">Quick Greens</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">8</span><span>)
</span><span>        .</span><span style="color:#96b5b4;">with_wifi</span><span>(&quot;</span><span style="color:#a3be8c;">QuickWiFi</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>())
</span><span>        .</span><span style="color:#96b5b4;">with_delivery</span><span>(</span><span style="color:#d08770;">3.0</span><span>);
</span><span>
</span><span>    casual_restaurant.</span><span style="color:#96b5b4;">display_config</span><span>();
</span><span>}
</span></code></pre>
<h3 id="3-handling-collections-of-options">3. Handling Collections of Options</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">process_ingredient_list</span><span>(</span><span style="color:#bf616a;">ingredients</span><span>: Vec&lt;Option&lt;String&gt;&gt;) {
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🥬 Processing ingredient list:</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Filter out None values and work with Some values
</span><span>    </span><span style="color:#b48ead;">let</span><span> valid_ingredients: Vec&lt;String&gt; = ingredients
</span><span>        .</span><span style="color:#96b5b4;">into_iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">filter_map</span><span>(|</span><span style="color:#bf616a;">ingredient</span><span>| ingredient) </span><span style="color:#a7adba;">// Removes None, unwraps Some
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">   Valid ingredients: </span><span style="color:#d08770;">{:?}</span><span>&quot;, valid_ingredients);
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">find_best_price</span><span>(</span><span style="color:#bf616a;">prices</span><span>: Vec&lt;Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;&gt;) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>    prices
</span><span>        .</span><span style="color:#96b5b4;">into_iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">filter_map</span><span>(|</span><span style="color:#bf616a;">price</span><span>| price) </span><span style="color:#a7adba;">// Remove None values
</span><span>        .</span><span style="color:#96b5b4;">min_by</span><span>(|</span><span style="color:#bf616a;">a</span><span>, </span><span style="color:#bf616a;">b</span><span>| a.</span><span style="color:#96b5b4;">partial_cmp</span><span>(b).</span><span style="color:#96b5b4;">unwrap</span><span>()) </span><span style="color:#a7adba;">// Find minimum
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_average_rating</span><span>(</span><span style="color:#bf616a;">ratings</span><span>: &amp;[Option&lt;</span><span style="color:#b48ead;">u8</span><span>&gt;]) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>    </span><span style="color:#b48ead;">let</span><span> valid_ratings: Vec&lt;</span><span style="color:#b48ead;">u8</span><span>&gt; = ratings
</span><span>        .</span><span style="color:#96b5b4;">iter</span><span>()
</span><span>        .</span><span style="color:#96b5b4;">filter_map</span><span>(|&amp;</span><span style="color:#bf616a;">rating</span><span>| rating) </span><span style="color:#a7adba;">// Extract Some values
</span><span>        .</span><span style="color:#96b5b4;">collect</span><span>();
</span><span>
</span><span>    </span><span style="color:#b48ead;">if</span><span> valid_ratings.</span><span style="color:#96b5b4;">is_empty</span><span>() {
</span><span>        None </span><span style="color:#a7adba;">// No valid ratings to average
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        </span><span style="color:#b48ead;">let</span><span> sum: </span><span style="color:#b48ead;">u32 </span><span>= valid_ratings.</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">map</span><span>(|&amp;</span><span style="color:#bf616a;">r</span><span>| r as </span><span style="color:#b48ead;">u32</span><span>).</span><span style="color:#96b5b4;">sum</span><span>();
</span><span>        Some(sum as </span><span style="color:#b48ead;">f64 </span><span>/ valid_ratings.</span><span style="color:#96b5b4;">len</span><span>() as </span><span style="color:#b48ead;">f64</span><span>)
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#a7adba;">// Test ingredient processing
</span><span>    </span><span style="color:#b48ead;">let</span><span> mixed_ingredients = vec![
</span><span>        Some(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        None, </span><span style="color:#a7adba;">// Missing ingredient
</span><span>        Some(&quot;</span><span style="color:#a3be8c;">lentils</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        Some(&quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        None, </span><span style="color:#a7adba;">// Another missing ingredient
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#96b5b4;">process_ingredient_list</span><span>(mixed_ingredients);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test price finding
</span><span>    </span><span style="color:#b48ead;">let</span><span> supplier_prices = vec![
</span><span>        Some(</span><span style="color:#d08770;">3.50</span><span>),
</span><span>        None, </span><span style="color:#a7adba;">// Supplier doesn&#39;t carry this item
</span><span>        Some(</span><span style="color:#d08770;">2.80</span><span>),
</span><span>        Some(</span><span style="color:#d08770;">4.20</span><span>),
</span><span>        None, </span><span style="color:#a7adba;">// Another unavailable supplier
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">find_best_price</span><span>(supplier_prices) {
</span><span>        Some(best_price) =&gt; println!(&quot;</span><span style="color:#a3be8c;">💰 Best price found: $</span><span style="color:#d08770;">{:.2}</span><span>&quot;, best_price),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">💰 No prices available</span><span>&quot;),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Test rating averaging
</span><span>    </span><span style="color:#b48ead;">let</span><span> customer_ratings = [
</span><span>        Some(</span><span style="color:#d08770;">5</span><span>), </span><span style="color:#a7adba;">// 5 stars
</span><span>        Some(</span><span style="color:#d08770;">4</span><span>), </span><span style="color:#a7adba;">// 4 stars
</span><span>        None,    </span><span style="color:#a7adba;">// Customer didn&#39;t rate
</span><span>        Some(</span><span style="color:#d08770;">5</span><span>), </span><span style="color:#a7adba;">// 5 stars
</span><span>        None,    </span><span style="color:#a7adba;">// Another non-rating
</span><span>        Some(</span><span style="color:#d08770;">3</span><span>), </span><span style="color:#a7adba;">// 3 stars
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_average_rating</span><span>(&amp;customer_ratings) {
</span><span>        Some(avg) =&gt; println!(&quot;</span><span style="color:#a3be8c;">⭐ Average rating: </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;"> stars</span><span>&quot;, avg),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">⭐ No ratings available</span><span>&quot;),
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#a7adba;">// Edge case: all None ratings
</span><span>    </span><span style="color:#b48ead;">let</span><span> no_ratings = [None, None, None];
</span><span>    </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">calculate_average_rating</span><span>(&amp;no_ratings) {
</span><span>        Some(avg) =&gt; println!(&quot;</span><span style="color:#a3be8c;">⭐ Average rating: </span><span style="color:#d08770;">{:.1}</span><span style="color:#a3be8c;"> stars</span><span>&quot;, avg),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">⭐ No ratings to calculate average from</span><span>&quot;),
</span><span>    }
</span><span>}
</span></code></pre>
<h2 id="common-mistakes-to-avoid">Common Mistakes to Avoid</h2>
<h3 id="mistake-1-using-unwrap-instead-of-proper-handling">Mistake 1: Using unwrap() Instead of Proper Handling</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ Bad - can panic and crash your program
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">bad_ingredient_check</span><span>(</span><span style="color:#bf616a;">inventory</span><span>: std::collections::HashMap&lt;String, </span><span style="color:#b48ead;">u32</span><span>&gt;, </span><span style="color:#bf616a;">ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) {
</span><span>    </span><span style="color:#b48ead;">let</span><span> quantity = inventory.</span><span style="color:#96b5b4;">get</span><span>(ingredient).</span><span style="color:#96b5b4;">unwrap</span><span>(); </span><span style="color:#a7adba;">// 💥 PANIC if not found!
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">We have </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> units</span><span>&quot;, quantity);
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Good - safe handling
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">good_ingredient_check</span><span>(</span><span style="color:#bf616a;">inventory</span><span>: &amp;std::collections::HashMap&lt;String, </span><span style="color:#b48ead;">u32</span><span>&gt;, </span><span style="color:#bf616a;">ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) {
</span><span>    </span><span style="color:#b48ead;">match</span><span> inventory.</span><span style="color:#96b5b4;">get</span><span>(ingredient) {
</span><span>        Some(quantity) =&gt; println!(&quot;</span><span style="color:#a3be8c;">✅ We have </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> units of </span><span style="color:#d08770;">{}</span><span>&quot;, quantity, ingredient),
</span><span>        None =&gt; println!(&quot;</span><span style="color:#a3be8c;">❌ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is not in inventory - need to restock</span><span>&quot;, ingredient),
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Also good - using unwrap_or for defaults
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">ingredient_check_with_default</span><span>(</span><span style="color:#bf616a;">inventory</span><span>: &amp;std::collections::HashMap&lt;String, </span><span style="color:#b48ead;">u32</span><span>&gt;, </span><span style="color:#bf616a;">ingredient</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) {
</span><span>    </span><span style="color:#b48ead;">let</span><span> quantity = inventory.</span><span style="color:#96b5b4;">get</span><span>(ingredient).</span><span style="color:#96b5b4;">unwrap_or</span><span>(&amp;</span><span style="color:#d08770;">0</span><span>);
</span><span>    </span><span style="color:#b48ead;">if </span><span>*quantity &gt; </span><span style="color:#d08770;">0 </span><span>{
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">✅ We have </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> units of </span><span style="color:#d08770;">{}</span><span>&quot;, quantity, ingredient);
</span><span>    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">❌ </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is out of stock</span><span>&quot;, ingredient);
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let mut</span><span> inventory = std::collections::HashMap::new();
</span><span>    inventory.</span><span style="color:#96b5b4;">insert</span><span>(&quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>(), </span><span style="color:#d08770;">150</span><span>);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// This works fine
</span><span>    </span><span style="color:#96b5b4;">good_ingredient_check</span><span>(&amp;inventory, &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;);
</span><span>    </span><span style="color:#96b5b4;">ingredient_check_with_default</span><span>(&amp;inventory, &quot;</span><span style="color:#a3be8c;">quinoa</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// This handles missing ingredients safely
</span><span>    </span><span style="color:#96b5b4;">good_ingredient_check</span><span>(&amp;inventory, &quot;</span><span style="color:#a3be8c;">missing_item</span><span>&quot;);
</span><span>    </span><span style="color:#96b5b4;">ingredient_check_with_default</span><span>(&amp;inventory, &quot;</span><span style="color:#a3be8c;">missing_item</span><span>&quot;);
</span><span>
</span><span>    </span><span style="color:#a7adba;">// This would panic!
</span><span>    </span><span style="color:#a7adba;">// bad_ingredient_check(inventory, &quot;missing_item&quot;); // Don&#39;t do this!
</span><span>}
</span></code></pre>
<h3 id="mistake-2-not-leveraging-option-methods">Mistake 2: Not Leveraging Option Methods</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ Verbose and harder to read
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_discount_bad</span><span>(</span><span style="color:#bf616a;">price</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;, </span><span style="color:#bf616a;">discount_rate</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> price {
</span><span>        Some(p) =&gt; {
</span><span>            </span><span style="color:#b48ead;">match</span><span> discount_rate {
</span><span>                Some(rate) =&gt; {
</span><span>                    </span><span style="color:#b48ead;">if</span><span> rate &gt; </span><span style="color:#d08770;">0.0 </span><span>&amp;&amp; rate &lt; </span><span style="color:#d08770;">1.0 </span><span>{
</span><span>                        Some(p * (</span><span style="color:#d08770;">1.0 </span><span>- rate))
</span><span>                    } </span><span style="color:#b48ead;">else </span><span>{
</span><span>                        Some(p)
</span><span>                    }
</span><span>                }
</span><span>                None =&gt; Some(p),
</span><span>            }
</span><span>        }
</span><span>        None =&gt; None,
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Clean and idiomatic
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_discount_good</span><span>(</span><span style="color:#bf616a;">price</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;, </span><span style="color:#bf616a;">discount_rate</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>    price.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">p</span><span>| {
</span><span>        </span><span style="color:#b48ead;">let</span><span> rate = discount_rate.</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>);
</span><span>        </span><span style="color:#b48ead;">if</span><span> rate &gt; </span><span style="color:#d08770;">0.0 </span><span>&amp;&amp; rate &lt; </span><span style="color:#d08770;">1.0 </span><span>{
</span><span>            p * (</span><span style="color:#d08770;">1.0 </span><span>- rate)
</span><span>        } </span><span style="color:#b48ead;">else </span><span>{
</span><span>            p
</span><span>        }
</span><span>    })
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Even better with method chaining
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">calculate_discount_best</span><span>(</span><span style="color:#bf616a;">price</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;, </span><span style="color:#bf616a;">discount_rate</span><span>: Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt;) -&gt; Option&lt;</span><span style="color:#b48ead;">f64</span><span>&gt; {
</span><span>    price.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">p</span><span>| {
</span><span>        Some(p * (</span><span style="color:#d08770;">1.0 </span><span>- discount_rate.</span><span style="color:#96b5b4;">filter</span><span>(|&amp;</span><span style="color:#bf616a;">rate</span><span>| rate &gt; </span><span style="color:#d08770;">0.0 </span><span>&amp;&amp; rate &lt; </span><span style="color:#d08770;">1.0</span><span>).</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0.0</span><span>)))
</span><span>    })
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let</span><span> test_cases = [
</span><span>        (Some(</span><span style="color:#d08770;">20.0</span><span>), Some(</span><span style="color:#d08770;">0.15</span><span>)),  </span><span style="color:#a7adba;">// Valid price and discount
</span><span>        (Some(</span><span style="color:#d08770;">15.0</span><span>), None),        </span><span style="color:#a7adba;">// Valid price, no discount
</span><span>        (None, Some(</span><span style="color:#d08770;">0.10</span><span>)),        </span><span style="color:#a7adba;">// No price
</span><span>        (None, None),              </span><span style="color:#a7adba;">// Neither
</span><span>    ];
</span><span>
</span><span>    </span><span style="color:#b48ead;">for </span><span>(price, discount) in test_cases {
</span><span>        </span><span style="color:#b48ead;">let</span><span> result = </span><span style="color:#96b5b4;">calculate_discount_good</span><span>(price, discount);
</span><span>        println!(&quot;</span><span style="color:#a3be8c;">Price: </span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;">, Discount: </span><span style="color:#d08770;">{:?}</span><span style="color:#a3be8c;"> → Result: </span><span style="color:#d08770;">{:?}</span><span>&quot;, price, discount, result);
</span><span>    }
</span><span>}
</span></code></pre>
<h3 id="mistake-3-creating-unnecessary-option-wrappers">Mistake 3: Creating Unnecessary Option Wrappers</h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#a7adba;">// ❌ Bad - creating Option when not needed
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_vegetable_color_bad</span><span>(</span><span style="color:#bf616a;">vegetable</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;String&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> vegetable {
</span><span>        &quot;</span><span style="color:#a3be8c;">carrot</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">orange</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        &quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">green</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        &quot;</span><span style="color:#a3be8c;">beet</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">red</span><span>&quot;.</span><span style="color:#96b5b4;">to_string</span><span>()),
</span><span>        _ =&gt; None,
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// Better for this case - but still could be improved
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_vegetable_color_better</span><span>(</span><span style="color:#bf616a;">vegetable</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;&amp;</span><span style="color:#b48ead;">&#39;static str</span><span>&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> vegetable {
</span><span>        &quot;</span><span style="color:#a3be8c;">carrot</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">orange</span><span>&quot;),
</span><span>        &quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">green</span><span>&quot;),
</span><span>        &quot;</span><span style="color:#a3be8c;">beet</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">red</span><span>&quot;),
</span><span>        _ =&gt; None,
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Best - Option is appropriate here because some vegetables might not have a standard color
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_vegetable_color_best</span><span>(</span><span style="color:#bf616a;">vegetable</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;&amp;</span><span style="color:#b48ead;">&#39;static str</span><span>&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> vegetable {
</span><span>        &quot;</span><span style="color:#a3be8c;">carrot</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">orange</span><span>&quot;),
</span><span>        &quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">green</span><span>&quot;),
</span><span>        &quot;</span><span style="color:#a3be8c;">beet</span><span>&quot; =&gt; Some(&quot;</span><span style="color:#a3be8c;">red</span><span>&quot;),
</span><span>        &quot;</span><span style="color:#a3be8c;">bell pepper</span><span>&quot; =&gt; None, </span><span style="color:#a7adba;">// Bell peppers come in many colors
</span><span>        &quot;</span><span style="color:#a3be8c;">onion</span><span>&quot; =&gt; None,       </span><span style="color:#a7adba;">// Onions come in various colors
</span><span>        _ =&gt; None,             </span><span style="color:#a7adba;">// Unknown vegetable
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ❌ Bad - using Option when you could use a default
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_cooking_time_bad</span><span>(</span><span style="color:#bf616a;">vegetable</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; Option&lt;</span><span style="color:#b48ead;">u32</span><span>&gt; {
</span><span>    </span><span style="color:#b48ead;">match</span><span> vegetable {
</span><span>        &quot;</span><span style="color:#a3be8c;">carrot</span><span>&quot; =&gt; Some(</span><span style="color:#d08770;">20</span><span>),
</span><span>        &quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot; =&gt; Some(</span><span style="color:#d08770;">3</span><span>),
</span><span>        &quot;</span><span style="color:#a3be8c;">broccoli</span><span>&quot; =&gt; Some(</span><span style="color:#d08770;">8</span><span>),
</span><span>        _ =&gt; None, </span><span style="color:#a7adba;">// Should probably have a default time
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#a7adba;">// ✅ Better - provide reasonable default
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">get_cooking_time_good</span><span>(</span><span style="color:#bf616a;">vegetable</span><span>: &amp;</span><span style="color:#b48ead;">str</span><span>) -&gt; </span><span style="color:#b48ead;">u32 </span><span>{
</span><span>    </span><span style="color:#b48ead;">match</span><span> vegetable {
</span><span>        &quot;</span><span style="color:#a3be8c;">carrot</span><span>&quot; =&gt; </span><span style="color:#d08770;">20</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot; =&gt; </span><span style="color:#d08770;">3</span><span>,
</span><span>        &quot;</span><span style="color:#a3be8c;">broccoli</span><span>&quot; =&gt; </span><span style="color:#d08770;">8</span><span>,
</span><span>        _ =&gt; </span><span style="color:#d08770;">10</span><span>, </span><span style="color:#a7adba;">// Reasonable default for unknown vegetables
</span><span>    }
</span><span>}
</span><span>
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span>() {
</span><span>    </span><span style="color:#b48ead;">let</span><span> vegetables = [&quot;</span><span style="color:#a3be8c;">carrot</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">spinach</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">bell pepper</span><span>&quot;, &quot;</span><span style="color:#a3be8c;">unknown_veggie</span><span>&quot;];
</span><span>
</span><span>    println!(&quot;</span><span style="color:#a3be8c;">🎨 Vegetable Colors:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> veggie in &amp;vegetables {
</span><span>        </span><span style="color:#b48ead;">match </span><span style="color:#96b5b4;">get_vegetable_color_best</span><span>(veggie) {
</span><span>            Some(color) =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> is typically </span><span style="color:#d08770;">{}</span><span>&quot;, veggie, color),
</span><span>            None =&gt; println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> comes in various colors</span><span>&quot;, veggie),
</span><span>        }
</span><span>    }
</span><span>
</span><span>    println!(&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;">⏰ Cooking Times:</span><span>&quot;);
</span><span>    </span><span style="color:#b48ead;">for</span><span> veggie in &amp;vegetables {
</span><span>        </span><span style="color:#b48ead;">let</span><span> time = </span><span style="color:#96b5b4;">get_cooking_time_good</span><span>(veggie);
</span><span>        println!(&quot;   </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> takes about </span><span style="color:#d08770;">{}</span><span style="color:#a3be8c;"> minutes to cook</span><span>&quot;, veggie, time);
</span><span>    }
</span><span>}
</span></code></pre>
<h2 id="summary-and-key-takeaways">Summary and Key Takeaways</h2>
<h3 id="mental-model-the-smart-pantry-system"><strong>Mental Model: The Smart Pantry System</strong></h3>
<p>Remember the pantry inventory analogy:</p>
<ul>
<li>🥕 <strong>Some(ingredient)</strong> = Have the ingredient in stock with known quantity</li>
<li>📦 <strong>None</strong> = Out of stock or ingredient doesn't exist</li>
<li>🔍 <strong>Pattern matching</strong> = Checking what's available before cooking</li>
<li>🍳 <strong>Safe cooking</strong> = Never try to use ingredients you don't have</li>
</ul>
<h3 id="essential-principles"><strong>Essential Principles</strong></h3>
<ol>
<li><strong>Explicit null safety</strong> - <code>Option&lt;T&gt;</code> makes absent values visible in the type system</li>
<li><strong>Compiler enforcement</strong> - Must handle both <code>Some</code> and <code>None</code> cases</li>
<li><strong>Rich API</strong> - Many helpful methods for working with optional values</li>
<li><strong>Composability</strong> - Chain operations safely with <code>?</code>, <code>and_then</code>, <code>map</code>, etc.</li>
<li><strong>Performance</strong> - Zero-cost abstraction - no runtime overhead</li>
</ol>
<h3 id="when-to-use-option"><strong>When to Use Option<T></strong></h3>
<table><thead><tr><th style="text-align: left"><strong>Use Case</strong></th><th style="text-align: left"><strong>Example</strong></th><th style="text-align: left"><strong>Why Option<T> Works</strong></th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Missing data</strong></td><td style="text-align: left">Optional description field</td><td style="text-align: left">Some items might not have descriptions</td></tr>
<tr><td style="text-align: left"><strong>Search results</strong></td><td style="text-align: left">Finding item in database</td><td style="text-align: left">Search might not find anything</td></tr>
<tr><td style="text-align: left"><strong>User input</strong></td><td style="text-align: left">Optional form fields</td><td style="text-align: left">Users might not fill all fields</td></tr>
<tr><td style="text-align: left"><strong>Configuration</strong></td><td style="text-align: left">Optional settings</td><td style="text-align: left">Not all settings need to be specified</td></tr>
<tr><td style="text-align: left"><strong>Calculations</strong></td><td style="text-align: left">Division by zero</td><td style="text-align: left">Some operations might not be valid</td></tr>
<tr><td style="text-align: left"><strong>Parsing</strong></td><td style="text-align: left">Converting strings to numbers</td><td style="text-align: left">Conversion might fail</td></tr>
</tbody></table>
<h3 id="option-method-quick-reference"><strong>Option<T> Method Quick Reference</strong></h3>
<pre data-lang="rust" style="background-color:#eff1f5;color:#4f5b66;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">let</span><span> some_value = Some(</span><span style="color:#d08770;">42</span><span>);
</span><span style="color:#b48ead;">let</span><span> no_value: Option&lt;</span><span style="color:#b48ead;">i32</span><span>&gt; = None;
</span><span>
</span><span style="color:#a7adba;">// Checking
</span><span>some_value.</span><span style="color:#96b5b4;">is_some</span><span>()           </span><span style="color:#a7adba;">// true
</span><span>some_value.</span><span style="color:#96b5b4;">is_none</span><span>()           </span><span style="color:#a7adba;">// false
</span><span>
</span><span style="color:#a7adba;">// Extracting with defaults
</span><span>some_value.</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0</span><span>)        </span><span style="color:#a7adba;">// 42
</span><span>no_value.</span><span style="color:#96b5b4;">unwrap_or</span><span>(</span><span style="color:#d08770;">0</span><span>)          </span><span style="color:#a7adba;">// 0
</span><span>
</span><span style="color:#a7adba;">// Transforming
</span><span>some_value.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">x</span><span>| x * </span><span style="color:#d08770;">2</span><span>)      </span><span style="color:#a7adba;">// Some(84)
</span><span>no_value.</span><span style="color:#96b5b4;">map</span><span>(|</span><span style="color:#bf616a;">x</span><span>| x * </span><span style="color:#d08770;">2</span><span>)        </span><span style="color:#a7adba;">// None
</span><span>
</span><span style="color:#a7adba;">// Chaining
</span><span>some_value.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">x</span><span>| Some(x + </span><span style="color:#d08770;">1</span><span>))  </span><span style="color:#a7adba;">// Some(43)
</span><span>no_value.</span><span style="color:#96b5b4;">and_then</span><span>(|</span><span style="color:#bf616a;">x</span><span>| Some(x + </span><span style="color:#d08770;">1</span><span>))    </span><span style="color:#a7adba;">// None
</span><span>
</span><span style="color:#a7adba;">// Filtering
</span><span>some_value.</span><span style="color:#96b5b4;">filter</span><span>(|&amp;</span><span style="color:#bf616a;">x</span><span>| x &gt; </span><span style="color:#d08770;">40</span><span>)  </span><span style="color:#a7adba;">// Some(42)
</span><span>some_value.</span><span style="color:#96b5b4;">filter</span><span>(|&amp;</span><span style="color:#bf616a;">x</span><span>| x &gt; </span><span style="color:#d08770;">50</span><span>)  </span><span style="color:#a7adba;">// None
</span></code></pre>
<h3 id="best-practices-summary"><strong>Best Practices Summary</strong></h3>
<p><strong>✅ DO:</strong></p>
<ul>
<li>Use pattern matching for complex logic</li>
<li>Leverage Option methods (<code>map</code>, <code>and_then</code>, <code>unwrap_or</code>)</li>
<li>Use the <code>?</code> operator for clean error propagation</li>
<li>Provide sensible defaults with <code>unwrap_or</code></li>
<li>Document when and why fields are optional</li>
</ul>
<p><strong>❌ DON'T:</strong></p>
<ul>
<li>Use <code>unwrap()</code> without good reason (can panic!)</li>
<li>Create unnecessary Option wrappers</li>
<li>Ignore the None case in pattern matching</li>
<li>Use Option for values that should always exist</li>
<li>Chain too many operations without intermediate checks</li>
</ul>
<h3 id="the-bigger-picture"><strong>The Bigger Picture</strong></h3>
<p><strong>Option<T> is like having a professional inventory management system</strong> in your vegetarian restaurant kitchen:</p>
<ul>
<li>📊 <strong>Always know your stock</strong> - No guessing what you have</li>
<li>🚫 <strong>Prevent kitchen disasters</strong> - Can't cook with missing ingredients</li>
<li>🔄 <strong>Plan for alternatives</strong> - Handle out-of-stock situations gracefully</li>
<li>✅ <strong>Compiler as assistant chef</strong> - Ensures you check ingredients before cooking</li>
<li>🎯 <strong>Type-safe operations</strong> - Operations only work when ingredients are available</li>
</ul>
<p><strong>Option<T> eliminates entire categories of bugs</strong> by making the possibility of missing data explicit and compiler-checked. It's one of Rust's most powerful features for writing safe, reliable code - just like having a well-organized pantry ensures you never start cooking a dish only to discover you're missing a crucial ingredient halfway through!</p>
<ol>
<li>https://doc.rust-lang.org/book/ch06-01-defining-an-enum.html</li>
<li>https://doc.rust-lang.org/rust-by-example/std/option.html</li>
<li>https://doc.rust-lang.org/std/option/enum.Option.html</li>
<li>https://dev.to/fadygrab/learning-rust-14-option-enum-an-enum-and-pattern-matching-use-case-1dgf</li>
<li>https://www.geeksforgeeks.org/rust/rust-using-option-enum-for-error-handling/</li>
<li>https://doc.rust-lang.org/std/option/</li>
<li>https://dhghomon.github.io/easy_rust/Chapter_31.html</li>
<li>https://www.youtube.com/watch?v=z8k_EViGC10</li>
<li>https://reintech.io/blog/understanding-implementing-rust-option-result-types</li>
<li>https://dev.to/ssivakumar/options-in-rust-11pm</li>
<li>https://www.linkedin.com/learning/rust-essential-training/3144757</li>
<li>https://siddharthqs.com/navigating-safely-with-option-in-rust</li>
<li>https://www.youtube.com/watch?v=ZH-Cfw1D9nE</li>
<li>https://stackoverflow.com/questions/56504289/why-do-we-use-the-option-enum</li>
<li>https://betterprogramming.pub/exploring-rusts-option-type-a-guide-to-optional-value-handling-3049cf50a992</li>
<li>https://hamatti.org/posts/learning-rust-2-option-result/</li>
<li>https://www.reddit.com/r/rust/comments/x1g57p/i_cannot_understand_option_enum_and_match_from/</li>
<li>https://web.mit.edu/rust-lang_v1.25/arch/amd64_ubuntu1404/share/doc/rust/html/std/option/index.html</li>
<li>https://blog.logrocket.com/understanding-rust-option-results-enums/</li>
<li>https://www.reddit.com/r/learnrust/comments/13tvpy6/why_do_both_option_result_exist_in_rust/</li>
</ol>

    
        </div>

    </article>
</main>


    <script type="text/javascript" src="https://aarambhdevhub.github.io/rust-doc/elasticlunr.min.js" defer></script>
    <script type="text/javascript" src="https://aarambhdevhub.github.io/rust-doc/search_index.en.js" defer></script>
<script type="text/javascript" src="https://aarambhdevhub.github.io/rust-doc/js.js" defer></script>

</body>
</html>
