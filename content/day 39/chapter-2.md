+++
title = "Generating Docs with cargo doc"
description = "Understanding how to generate and view HTML documentation for your Rust projects using cargo doc."
date = "2025-08-13"
weight = 2
+++

# Generating Documentation with `cargo doc`: Comprehensive Documentation for Beginners

Understanding how to generate documentation with `cargo doc` in Rust is like learning to **use the professional printing press for your restaurant's menu** ‚Äì after carefully writing all the descriptions, ingredient lists, and pictures (your documentation comments), you need a tool to transform that raw content into a beautiful, polished, and easy-to-navigate final product. Just as a printing press turns a manuscript into a professional menu, `cargo doc` turns your source code comments into a professional, searchable HTML documentation website.

## The Professional Restaurant Menu Printing Press Analogy üçΩÔ∏è

### Imagine You're Turning Your Carefully Written Menu into a Polished Final Product

**The Raw Content (Your Documentation Comments):**

```rust
// üìù Your raw, written-down menu descriptions in your source code
/// Represents a single item on the restaurant's menu.
pub struct MenuItem {
    /// The official name of the dish.
    pub name: String,
    /// The price of the dish.
    pub price: f64,
}

/// Calculates the total cost of an order.
///
/// # Examples
///
/// ```
/// // Your example code here...
/// ```
pub fn calculate_total(items: &[MenuItem]) -> f64 {
    // ...
    0.0
}
```

**The Final Polished Product (Generated by `cargo doc`):**

- A beautiful, searchable HTML website.
- A clean, consistent layout for all your functions, structs, and enums.
- Hyperlinks between different parts of your documentation.
- A search bar to quickly find any item.
- The same professional look and feel as the official Rust documentation.

**Why `cargo doc` Is an Essential Tool:**

- **Automation**: Automatically finds and processes all your documentation comments.[^2]
- **Consistency**: Generates documentation with a standard, professional format that is familiar to all Rust developers.[^3]
- **Integration**: Seamlessly integrated into the Cargo ecosystem, making it trivial to use.[^2]
- **Discoverability**: Creates a searchable, navigable website that makes your library easy to explore and understand.
- **Completeness**: Can generate documentation for your code *and* all of its dependencies, providing a complete picture.


## How to Use `cargo doc`

`cargo doc` is a command-line tool that is part of the standard Rust installation. It works by invoking `rustdoc`, the underlying documentation generator, with the correct configuration for your Cargo project.[^1][^2]

### The Basic Command

To generate the documentation for your project, navigate to your project's root directory in the terminal and run:

```bash
cargo doc
```

**What This Command Does:**

1. **Builds Documentation**: It scans your source code (and your dependencies' code) for documentation comments (`///` and `//!`).
2. **Generates HTML**: It converts these comments and your public API signatures into a set of HTML, CSS, and JavaScript files.
3. **Places it in `target/doc`**: The generated website is placed in the `target/doc` directory within your project.[^1]

After running the command, you can manually open the main documentation page, which is usually located at `target/doc/your_crate_name/index.html`.

### The Most Useful Command: `cargo doc --open`

Manually finding and opening the HTML file is cumbersome. A much more convenient command is:

```bash
cargo doc --open
```

This command does everything `cargo doc` does, but it also **automatically opens the generated documentation in your default web browser**. This is the command you will use most of the time.[^7]

## A Step-by-Step Example: Documenting a Restaurant Library

Let's use the `restaurant_lib` example from the previous documentation and see `cargo doc` in action.

**Project Setup:**

1. Create a new library: `cargo new restaurant_lib --lib`
2. Open `src/lib.rs` and add the following documented code:
```rust
// src/lib.rs

//! # Restaurant Library
//!
//! `restaurant_lib` is a collection of utilities to help manage a restaurant.

/// Represents a single item on the restaurant's menu.
#[derive(Debug, Clone)]
pub struct MenuItem {
    /// The name of the dish.
    pub name: String,
    /// The price of the dish.
    pub price: f64,
}

/// Calculates the total cost of an order.
///
/// This function sums the prices of all `MenuItem`s in a slice.
///
/// # Examples
///
/// ```
/// use restaurant_lib::{MenuItem, calculate_total};
///
/// let order = vec![
///     MenuItem { name: "Pizza".to_string(), price: 15.99 },
///     MenuItem { name: "Coke".to_string(), price: 2.50 },
/// ];
///
/// let total = calculate_total(&order);
/// assert_eq!(total, 18.49);
/// ```
pub fn calculate_total(items: &[MenuItem]) -> f64 {
    items.iter().map(|item| item.price).sum()
}
```


### Generating and Viewing the Documentation

1. **Navigate to the `restaurant_lib` directory** in your terminal.
2. **Run the command**:

```bash
cargo doc --open
```

3. **Your browser will open** to a page that looks something like this:

> **Crate restaurant\_lib**
>
> `restaurant_lib` is a collection of utilities to help manage a restaurant.
>
> **Structs**
>
> `MenuItem` - Represents a single item on the restaurant's menu.
>
> **Functions**
>
> `calculate_total` - Calculates the total cost of an order.

You can click on `MenuItem` or `calculate_total` to see their detailed documentation, including the field descriptions and the runnable example.

## Common `cargo doc` Options and Flags

`cargo doc` has several useful flags that allow you to customize its behavior.[^5][^1]


| Flag | Shorthand | Description |
| :-- | :-- | :-- |
| `--open` |  | Opens the generated documentation in your web browser after building. |
| `--no-deps` |  | Excludes documentation for all of your project's dependencies, only documenting your own crate. |
| `--document-private-items` |  | Includes private functions, structs, and modules in the documentation. Useful for internal team documentation [^6]. |
| `--all-features` |  | Activates all feature flags for your crate when building documentation. |
| `--target <TRIPLE>` |  | Builds documentation for a specific target platform (e.g., `x86_64-unknown-linux-gnu`). |

### Example: Documenting Private Items

By default, `cargo doc` only documents your public API. If you want to generate documentation for your internal, private code (e.g., for your team), you can use the `--document-private-items` flag.[^6]

```bash
cargo doc --open --document-private-items
```

This will add all your `pub(crate)` and private items to the generated HTML, marked with a "Private" label.

### Example: Building Docs without Dependencies

If your project has many dependencies, generating documentation for all of them can be slow. If you only want to see the docs for your own crate, use `--no-deps`.

```bash
cargo doc --open --no-deps
```

This is much faster and is useful when you are iteratively working on your own library's documentation.

## How `cargo doc` Fits into the Rust Ecosystem

- **`rustdoc`**: This is the actual tool that parses Rust source files and Markdown to generate HTML. `cargo doc` is a convenient wrapper around `rustdoc` that handles all the configuration for you.[^2]
- **`docs.rs`**: This is a website that automatically builds and hosts documentation for all public crates on `crates.io`. When you publish a crate, `docs.rs` runs `cargo doc` on its servers to generate the documentation that the entire community can see. This is why writing good documentation is so important for public libraries.
- **`cargo test`**: When you run `cargo test`, it automatically finds and runs the code examples in your documentation comments. This ensures that your examples are always correct and up-to-date.[^4]


## Best Practices for Using `cargo doc`

1. **Use `cargo doc --open` for Iterative Work**: When you're actively writing documentation, use `cargo doc --open` to quickly preview your changes.
2. **Document Your Public API**: This is the primary goal of `cargo doc`. Every public item that a user of your library might interact with should be documented.
3. **Check Your Docs Before Publishing**: Before you publish a crate to `crates.io`, always run `cargo doc --open` to see what the public documentation will look like. Make sure it's clean, complete, and easy to navigate.
4. **Use `--no-deps` for Speed**: When working locally on your crate's documentation, `--no-deps` can significantly speed up the generation process.
5. **Leverage Testable Examples**: Since `cargo test` runs your doc examples, use them to demonstrate common use cases and to provide extra test coverage for your API.

## Summary and Key Takeaways

### **Mental Model: The Complete Professional Restaurant Menu Publishing System**

Remember our comprehensive professional restaurant menu publishing analogy:

- üìñ **Documentation Comments**: The raw text, descriptions, and pictures for your menu.
- ‚öôÔ∏è **`cargo doc`**: The professional printing press that turns your raw content into a polished, final menu.
- üöÄ **`cargo doc --open`**: The "print and immediately view" option, perfect for quick proofs and revisions.
- üîí **`--document-private-items`**: The "internal staff version" of the menu, including kitchen-only notes.
- üåê **`docs.rs`**: The global "menu distribution service" that publishes your menu for the whole world to see.


### **The Core `cargo doc` Workflow**

1. **Write Documentation**: Add `///` and `//!` comments with Markdown to your Rust source code.
2. **Generate Documentation**: Run `cargo doc` in your terminal. For convenience, use `cargo doc --open`.
3. **View the Results**: Your browser will open a local HTML website located in `target/doc/`.
4. **Iterate**: Make changes to your comments, and re-run `cargo doc --open` to see them reflected.

### **Key `cargo doc` Commands**

- `cargo doc`: Generate docs for your crate and all dependencies.
- `cargo doc --open`: Generate docs and open them in your browser.
- `cargo doc --no-deps`: Generate docs for your crate only (faster).
- `cargo doc --document-private-items`: Generate docs for both public and private items.


### **How It Works Under the Hood**

`cargo doc` is a user-friendly frontend for the `rustdoc` tool. Cargo automatically determines the crate name, source file paths, dependencies, and other necessary configuration, and then passes them to `rustdoc` to generate the final HTML documentation.[^2]

### **The Professional Advantage**

**Mastering `cargo doc` is like having a complete professional publishing house at your fingertips**, allowing you to create world-class documentation with minimal effort:

- **Automation**: Effortlessly turn your source code comments into a professional website.
- **Standardization**: Produce documentation that follows the same high-quality standard as the official Rust libraries.
- **Discoverability**: Make your libraries easy for others to learn and use through a searchable, navigable interface.
- **Confidence**: By integrating with `cargo test`, you can be confident that your documented examples are always correct.
- **Community Engagement**: Publishing well-documented crates is a key part of contributing to the Rust ecosystem.

**Understanding `cargo doc` transforms you from a programmer who just writes code to an engineer** who builds and shares professional, high-quality libraries. Just as a master chef takes pride in a menu that is as beautiful and clear as their food is delicious, a skilled Rust developer uses `cargo doc` to produce documentation that is as robust and reliable as their code.

1. https://doc.rust-lang.org/cargo/commands/cargo-doc.html
2. https://doc.rust-lang.org/rustdoc/what-is-rustdoc.html
3. https://www.youtube.com/watch?v=G2_Tb2f2F1s
4. https://labex.io/tutorials/rust-cargo-documentation-generation-and-testing-99289
5. https://iota-for-flutter.github.io/tutorial/fundamentals/rust/rust-docs.html
6. https://stackoverflow.com/questions/68728262/cargo-doc-does-not-generate-documentation-for-private-items-in-a-project-that-is
7. https://doc.rust-lang.org/rust-by-example/meta/doc.html
8. https://web.mit.edu/rust-lang_v1.25/arch/amd64_ubuntu1404/share/doc/rust/html/book/first-edition/documentation.html
9. https://docs.rs/cargo-generate
10. https://doc.rust-lang.org/cargo/
